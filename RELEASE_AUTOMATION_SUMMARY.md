# ChainlessChain Release Automation - Setup Summary

æœ¬æ–‡æ¡£æ€»ç»“äº†ä¸º ChainlessChain é¡¹ç›®åˆ›å»ºçš„å®Œæ•´å‘å¸ƒè‡ªåŠ¨åŒ–ç³»ç»Ÿã€‚

## ğŸ“ åˆ›å»ºçš„æ–‡ä»¶

### 1. è‡ªåŠ¨åŒ–è„šæœ¬

#### `.github/workflows/release.yml`

**GitHub Actions å·¥ä½œæµ** - å¤šå¹³å°è‡ªåŠ¨æ„å»ºå’Œå‘å¸ƒ

- **åŠŸèƒ½**ï¼šåœ¨äº‘ç«¯è‡ªåŠ¨æ„å»º Windowsã€macOS (x64/arm64)ã€Linux ç‰ˆæœ¬
- **è§¦å‘æ–¹å¼**ï¼š
  - æ¨é€ tag (`v*.*.*` æ ¼å¼)
  - æ‰‹åŠ¨è§¦å‘ï¼ˆworkflow_dispatchï¼‰
- **ä¼˜ç‚¹**ï¼š
  - æ— éœ€æœ¬åœ°å¤šå¹³å°ç¯å¢ƒ
  - ä¸€è‡´çš„æ„å»ºç¯å¢ƒ
  - è‡ªåŠ¨åŒ–ç¨‹åº¦æœ€é«˜
  - å†…ç½®æ„å»ºäº§ç‰©ä¸Šä¼ 

#### `desktop-app-vue/scripts/release.js`

**Node.js å‘å¸ƒè„šæœ¬** - è·¨å¹³å°æœ¬åœ°å‘å¸ƒå·¥å…·

- **åŠŸèƒ½**ï¼š
  - æ£€æŸ¥ GitHub CLI å’Œè®¤è¯çŠ¶æ€
  - æ„å»ºæ‰€æœ‰å¹³å°ï¼ˆå¯é€‰ï¼‰
  - æ”¶é›†æ„å»ºäº§ç‰©
  - è‡ªåŠ¨ç”Ÿæˆå‘å¸ƒè¯´æ˜
  - åˆ›å»º GitHub Release
  - ä¸Šä¼ æ„å»ºäº§ç‰©
- **ä½¿ç”¨**ï¼š
  ```bash
  node scripts/release.js [options]
  npm run release:draft  # å¿«æ·æ–¹å¼
  ```
- **é€‰é¡¹**ï¼š
  - `--version <version>` - æŒ‡å®šç‰ˆæœ¬
  - `--draft` - åˆ›å»ºè‰ç¨¿å‘å¸ƒ
  - `--prerelease` - æ ‡è®°ä¸ºé¢„å‘å¸ƒ
  - `--notes <file>` - ä½¿ç”¨è‡ªå®šä¹‰å‘å¸ƒè¯´æ˜
  - `--skip-build` - è·³è¿‡æ„å»º

#### `desktop-app-vue/scripts/release.ps1`

**PowerShell å‘å¸ƒè„šæœ¬** - Windows åŸç”Ÿå‘å¸ƒå·¥å…·

- **åŠŸèƒ½**ï¼šä¸ release.js ç›¸åŒï¼Œä½†ä½¿ç”¨ PowerShell
- **ä½¿ç”¨**ï¼š
  ```powershell
  .\scripts\release.ps1 -Draft
  .\scripts\release.ps1 -Version v0.21.0
  ```
- **ä¼˜ç‚¹**ï¼š
  - Windows åŸç”Ÿä½“éªŒ
  - å½©è‰²è¾“å‡º
  - æ›´å¥½çš„ Windows é›†æˆ

#### `desktop-app-vue/scripts/pre-release-check.js`

**å‘å¸ƒå‰æ£€æŸ¥è„šæœ¬** - éªŒè¯å‘å¸ƒå‡†å¤‡å°±ç»ª

- **åŠŸèƒ½**ï¼š
  - éªŒè¯ç‰ˆæœ¬å·
  - æ£€æŸ¥ Git çŠ¶æ€
  - éªŒè¯ä¾èµ–å®‰è£…
  - æ£€æŸ¥æ„å»ºäº§ç‰©
  - å®‰å…¨å®¡è®¡
  - GitHub CLI è®¤è¯æ£€æŸ¥
  - ç”Ÿæˆæ£€æŸ¥æŠ¥å‘Š
- **ä½¿ç”¨**ï¼š
  ```bash
  node scripts/pre-release-check.js [version]
  npm run release:check  # å¿«æ·æ–¹å¼
  ```

### 2. æ–‡æ¡£

#### `docs/RELEASE_GUIDE.md`

**å®Œæ•´å‘å¸ƒæŒ‡å—** - è¯¦ç»†çš„å‘å¸ƒæµç¨‹æ–‡æ¡£

- **å†…å®¹**ï¼š
  - ä¸‰ç§å‘å¸ƒæ–¹æ³•ï¼ˆGitHub Actionsã€æœ¬åœ°è„šæœ¬ã€æ‰‹åŠ¨ï¼‰
  - ç‰ˆæœ¬ç®¡ç†è§„èŒƒ
  - æ„å»ºäº§ç‰©è¯´æ˜
  - æ•…éšœæ’æŸ¥æŒ‡å—
  - CI/CD é›†æˆè¯´æ˜
  - å®Œæ•´çš„å‘½ä»¤å‚è€ƒ

#### `desktop-app-vue/RELEASE.md`

**å¿«é€Ÿå‘å¸ƒæŒ‡å—** - ç²¾ç®€çš„å¿«é€Ÿå‚è€ƒ

- **å†…å®¹**ï¼š
  - å¿«é€Ÿå‘å¸ƒæµç¨‹
  - å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥
  - å®‰è£… GitHub CLI
  - æ•…éšœæ’æŸ¥å¿«é€Ÿå‚è€ƒ
  - ç‰ˆæœ¬å·è§„èŒƒ

#### `desktop-app-vue/RELEASE_NOTES_TEMPLATE.md`

**å‘å¸ƒè¯´æ˜æ¨¡æ¿** - æ ‡å‡†åŒ–çš„å‘å¸ƒè¯´æ˜æ ¼å¼

- **å†…å®¹**ï¼š
  - æ–°åŠŸèƒ½åˆ—è¡¨
  - Bug ä¿®å¤
  - æ”¹è¿›é¡¹
  - ç ´åæ€§å˜æ›´
  - å®‰è£…è¯´æ˜
  - ç³»ç»Ÿè¦æ±‚
  - æ ¡éªŒå’Œ
  - å¿«é€Ÿå¼€å§‹æŒ‡å—

### 3. é…ç½®æ›´æ–°

#### `desktop-app-vue/package.json`

**æ–°å¢ npm è„šæœ¬**ï¼š

```json
{
  "scripts": {
    "release": "node scripts/release.js",
    "release:draft": "node scripts/release.js --draft",
    "release:skip-build": "node scripts/release.js --skip-build",
    "release:check": "node scripts/pre-release-check.js"
  }
}
```

## ğŸš€ æ¨èå‘å¸ƒæµç¨‹

### æ–¹æ³•ä¸€ï¼šGitHub Actionsï¼ˆæœ€æ¨èï¼‰

```bash
# 1. æ›´æ–°ç‰ˆæœ¬
cd desktop-app-vue
npm version 0.21.0 --no-git-tag-version

# 2. è¿è¡Œå‘å¸ƒå‰æ£€æŸ¥
npm run release:check

# 3. æäº¤æ›´æ”¹
git add package.json
git commit -m "chore: bump version to 0.21.0"
git push origin main

# 4. åˆ›å»ºå¹¶æ¨é€ tag
git tag v0.21.0
git push origin v0.21.0

# 5. GitHub Actions è‡ªåŠ¨å®Œæˆå‰©ä½™æ­¥éª¤
# è®¿é—® https://github.com/YOUR_ORG/chainlesschain/actions æŸ¥çœ‹è¿›åº¦
```

### æ–¹æ³•äºŒï¼šæœ¬åœ°è„šæœ¬å‘å¸ƒ

```bash
# 1. å‘å¸ƒå‰æ£€æŸ¥
cd desktop-app-vue
npm run release:check

# 2. åˆ›å»ºè‰ç¨¿å‘å¸ƒ
npm run release:draft

# 3. æµ‹è¯•æ„å»ºäº§ç‰©

# 4. å‘å¸ƒæ­£å¼ç‰ˆæœ¬
gh release edit v0.21.0 --draft=false
```

## ğŸ“‹ å®Œæ•´å‘å¸ƒæ£€æŸ¥æ¸…å•

ä½¿ç”¨è‡ªåŠ¨åŒ–æ£€æŸ¥è„šæœ¬ï¼š

```bash
npm run release:check
```

æ‰‹åŠ¨æ£€æŸ¥æ¸…å•ï¼š

- [ ] æ›´æ–°ç‰ˆæœ¬å· (package.json)
- [ ] æ›´æ–° CHANGELOG.md
- [ ] è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼š`npm run test:all`
- [ ] è¿è¡Œå®‰å…¨å®¡è®¡ï¼š`npm audit`
- [ ] æ„å»ºéªŒè¯ï¼š`npm run build`
- [ ] å‘å¸ƒå‰æ£€æŸ¥ï¼š`npm run release:check`
- [ ] åˆ›å»º git tag
- [ ] GitHub Actions æ„å»ºé€šè¿‡
- [ ] æµ‹è¯•æ‰€æœ‰å¹³å°çš„æ„å»ºäº§ç‰©
- [ ] éªŒè¯è‡ªåŠ¨æ›´æ–°åŠŸèƒ½
- [ ] æ›´æ–°æ–‡æ¡£

## ğŸ› ï¸ å·¥å…·å®‰è£…

### GitHub CLI

```bash
# Windows
winget install --id GitHub.cli

# macOS
brew install gh

# Linux (Debian/Ubuntu)
sudo apt install gh

# è®¤è¯
gh auth login
```

### éªŒè¯å®‰è£…

```bash
gh --version
gh auth status
node --version  # éœ€è¦ 22.12.0+
npm --version   # éœ€è¦ 10.0.0+
```

## ğŸ“¦ æ„å»ºäº§ç‰©è¯´æ˜

### Windows

- `ChainlessChain-win32-x64-{version}.zip` - ä¾¿æºç‰ˆæœ¬

### macOS

- `ChainlessChain-darwin-x64-{version}.dmg` - Intel Mac å®‰è£…å™¨
- `ChainlessChain-darwin-arm64-{version}.dmg` - Apple Silicon å®‰è£…å™¨

### Linux

- `ChainlessChain-{version}.AppImage` - é€šç”¨ Linux åŒ…
- `chainlesschain_{version}_amd64.deb` - Debian/Ubuntu åŒ…
- `chainlesschain-{version}.x86_64.rpm` - Fedora/RHEL åŒ…

## ğŸ”„ å·¥ä½œæµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å‘å¸ƒæµç¨‹é€‰æ‹©                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                   â”‚
        â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GitHub Actionsâ”‚   â”‚  æœ¬åœ°è„šæœ¬å‘å¸ƒ     â”‚
â”‚   (æ¨è)      â”‚   â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                    â”‚
        â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Push tag  â”‚    â”‚ 1. å‘å¸ƒå‰æ£€æŸ¥     â”‚
â”‚              â”‚    â”‚ npm run          â”‚
â”‚ 2. è‡ªåŠ¨æ„å»º  â”‚    â”‚ release:check    â”‚
â”‚    - Windows â”‚    â”‚                  â”‚
â”‚    - macOS   â”‚    â”‚ 2. æ‰§è¡Œå‘å¸ƒ       â”‚
â”‚    - Linux   â”‚    â”‚ npm run          â”‚
â”‚              â”‚    â”‚ release:draft    â”‚
â”‚ 3. è‡ªåŠ¨å‘å¸ƒ  â”‚    â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                     â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ GitHub Release   â”‚
        â”‚   å·²åˆ›å»ºå®Œæˆ      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š å„æ–¹æ³•å¯¹æ¯”

| ç‰¹æ€§       | GitHub Actions | æœ¬åœ°è„šæœ¬          | æ‰‹åŠ¨æµç¨‹          |
| ---------- | -------------- | ----------------- | ----------------- |
| **éš¾åº¦**   | ç®€å•           | ä¸­ç­‰              | å¤æ‚              |
| **é€Ÿåº¦**   | 20-30åˆ†é’Ÿ      | ä¾èµ–æœ¬åœ°ç¯å¢ƒ      | æœ€æ…¢              |
| **å¤šå¹³å°** | âœ… å…¨æ”¯æŒ      | âš ï¸ å—é™äºæœ¬åœ°ç¯å¢ƒ | âš ï¸ å—é™äºæœ¬åœ°ç¯å¢ƒ |
| **è‡ªåŠ¨åŒ–** | âœ… å®Œå…¨è‡ªåŠ¨    | âš ï¸ åŠè‡ªåŠ¨         | âŒ æ‰‹åŠ¨           |
| **ä¸€è‡´æ€§** | âœ… é«˜          | âš ï¸ ä¸­             | âŒ ä½             |
| **æ¨èåº¦** | â­â­â­â­â­     | â­â­â­            | â­â­              |

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### GitHub Actions - é€‚ç”¨äºï¼š

- âœ… æ­£å¼ç‰ˆæœ¬å‘å¸ƒ
- âœ… éœ€è¦æ‰€æœ‰å¹³å°æ„å»º
- âœ… å¸Œæœ›ä¸€è‡´çš„æ„å»ºç¯å¢ƒ
- âœ… å›¢é˜Ÿåä½œå‘å¸ƒ

### æœ¬åœ°è„šæœ¬ - é€‚ç”¨äºï¼š

- âœ… å¿«é€Ÿæµ‹è¯•å‘å¸ƒæµç¨‹
- âœ… å•å¹³å°æ„å»º
- âœ… ç¦»çº¿æˆ–å†…ç½‘ç¯å¢ƒ
- âœ… ä¸ªäººå¼€å‘æµ‹è¯•

### æ‰‹åŠ¨æµç¨‹ - é€‚ç”¨äºï¼š

- âœ… å®Œå…¨è‡ªå®šä¹‰æ§åˆ¶
- âœ… è°ƒè¯•æ„å»ºé—®é¢˜
- âœ… å­¦ä¹ å‘å¸ƒæµç¨‹
- âœ… ç‰¹æ®Šåœºæ™¯å¤„ç†

## ğŸ” æ•…éšœæ’æŸ¥

### GitHub CLI æœªå®‰è£…

```bash
# æ£€æŸ¥
gh --version

# å¦‚æœæœªå®‰è£…ï¼Œå‚è€ƒä¸Šé¢çš„å®‰è£…è¯´æ˜
```

### GitHub CLI æœªè®¤è¯

```bash
gh auth login
# é€‰æ‹© GitHub.com
# é€‰æ‹© HTTPS
# é€‰æ‹© Login with a web browser
# å¤åˆ¶ one-time code å¹¶åœ¨æµè§ˆå™¨å®Œæˆè®¤è¯
```

### æ„å»ºå¤±è´¥

```bash
# æ¸…ç†å¹¶é‡æ–°æ„å»º
cd desktop-app-vue
rm -rf out node_modules package-lock.json
npm install
npm run build
npm run make:win  # æˆ–å…¶ä»–å¹³å°
```

### GitHub Actions å¤±è´¥

1. è®¿é—® Actions é¡µé¢æŸ¥çœ‹é”™è¯¯æ—¥å¿—
2. æ£€æŸ¥æ˜¯å¦æœ‰è¶³å¤Ÿçš„ Actions åˆ†é’Ÿæ•°
3. éªŒè¯ä»“åº“ secrets é…ç½®
4. æ£€æŸ¥ workflow æ–‡ä»¶è¯­æ³•

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **å®Œæ•´æŒ‡å—**ï¼š`docs/RELEASE_GUIDE.md`
- **å¿«é€Ÿå‚è€ƒ**ï¼š`desktop-app-vue/RELEASE.md`
- **å‘å¸ƒè¯´æ˜æ¨¡æ¿**ï¼š`desktop-app-vue/RELEASE_NOTES_TEMPLATE.md`
- **é¡¹ç›®æ–‡æ¡£**ï¼š`CLAUDE.md`

## ğŸ“ æœ€ä½³å®è·µ

1. **å§‹ç»ˆä½¿ç”¨ GitHub Actions** è¿›è¡Œæ­£å¼å‘å¸ƒ
2. **åˆ›å»ºè‰ç¨¿å‘å¸ƒ** è¿›è¡Œæµ‹è¯•éªŒè¯
3. **è¿è¡Œå‘å¸ƒå‰æ£€æŸ¥** ç¡®ä¿å‡†å¤‡å°±ç»ª
4. **éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬** ç®¡ç†ç‰ˆæœ¬å·
5. **ç¼–å†™è¯¦ç»†çš„å‘å¸ƒè¯´æ˜** å¸®åŠ©ç”¨æˆ·ç†è§£å˜æ›´
6. **æµ‹è¯•æ‰€æœ‰å¹³å°** çš„æ„å»ºäº§ç‰©
7. **ä¿æŒ CHANGELOG** æ›´æ–°

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·ï¼š

1. æŸ¥é˜… `docs/RELEASE_GUIDE.md` è·å–è¯¦ç»†ä¿¡æ¯
2. è¿è¡Œ `npm run release:check` è¯Šæ–­é—®é¢˜
3. åœ¨ GitHub Issues æå‡ºé—®é¢˜
4. è”ç³»é¡¹ç›®ç»´æŠ¤è€…

---

**åˆ›å»ºæ—¥æœŸ**ï¼š2024-01-19
**æœ€åæ›´æ–°**ï¼š2024-01-19
**ç»´æŠ¤è€…**ï¼šChainlessChain Team
