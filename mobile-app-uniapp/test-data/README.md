# 测试数据脚本

此目录包含用于快速创建测试数据的脚本。

## 可用脚本

### 📨 create-friend-test-data.js

创建好友功能测试数据（3 个模拟的好友请求）

**使用方法**:

1. 启动 H5 开发环境：
   ```bash
   npm run dev:h5
   ```

2. 在浏览器中打开应用（通常是 `http://localhost:5173`）

3. 按 `F12` 打开浏览器开发者工具控制台

4. 将 `create-friend-test-data.js` 的内容复制粘贴到控制台并回车执行

5. 等待脚本执行完成，看到 "✨ 测试数据创建完成！" 提示

6. 刷新好友列表页面查看效果

**创建的测试数据**:
- 3 个来自不同用户的好友请求
- 每个请求包含自定义消息
- 状态为 `pending`（待处理）

## 注意事项

- ⚠️ 使用前必须先创建 DID 身份
- ⚠️ 脚本会检查当前用户身份，如未找到会提示错误
- ⚠️ 测试数据仅用于开发和测试，不应在生产环境使用

## 清理测试数据

如需清理测试数据，可以在控制台执行：

```javascript
import database from '@/services/database';

// 删除所有待处理的好友请求
await database.executeSql(`
  DELETE FROM friend_requests
  WHERE status = 'pending' AND direction = 'received'
`);

console.log('✅ 测试数据已清理');
```

## 故障排查

### 问题：脚本执行失败

**可能原因**:
1. 未创建 DID 身份
2. 数据库未初始化
3. 模块路径错误

**解决方案**:
1. 前往「身份管理」页面创建 DID
2. 检查控制台错误信息
3. 确认模块导入路径正确

### 问题：看不到测试数据

**可能原因**:
1. 页面未刷新
2. 数据保存失败
3. 筛选条件不正确

**解决方案**:
1. 刷新页面或下拉刷新
2. 检查控制台是否有错误
3. 确保在「待验证」标签下查看
