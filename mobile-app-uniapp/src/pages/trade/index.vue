<template>
  <view class="trade-index">
    <view class="header">
      <text class="title">äº¤æ˜“ç³»ç»Ÿæµ‹è¯•</text>
      <text class="subtitle">ChainlessChain Mobile UI</text>
    </view>

    <view class="page-list">
      <view
        v-for="page in pages"
        :key="page.path"
        class="page-card"
        @click="navigateTo(page.path)"
      >
        <view class="page-icon">{{ page.icon }}</view>
        <view class="page-info">
          <text class="page-title">{{ page.title }}</text>
          <text class="page-desc">{{ page.description }}</text>
        </view>
        <view class="page-arrow">â†’</view>
      </view>
    </view>

    <view class="test-info">
      <text class="info-title">ğŸ§ª åç«¯æµ‹è¯•çŠ¶æ€</text>
      <view class="info-item">
        <text class="info-label">é›†æˆæµ‹è¯•:</text>
        <text class="info-value success">âœ… 39/39 é€šè¿‡</text>
      </view>
      <view class="info-item">
        <text class="info-label">é€šè¿‡ç‡:</text>
        <text class="info-value">100%</text>
      </view>
      <view class="info-item">
        <text class="info-label">ä»£ç é‡:</text>
        <text class="info-value">6,809è¡Œ</text>
      </view>
    </view>

    <view class="actions">
      <view class="action-btn" @click="runIntegrationTest">
        <text class="btn-text">è¿è¡Œé›†æˆæµ‹è¯•</text>
      </view>
    </view>
  </view>
</template>

<script>
export default {
  data() {
    return {
      pages: [
        {
          path: '/pages/trade/assets/index',
          icon: 'ğŸ’°',
          title: 'èµ„äº§ç®¡ç†',
          description: 'æŸ¥çœ‹èµ„äº§ã€åˆ›å»ºèµ„äº§ã€è½¬è´¦ã€å†å²è®°å½•'
        },
        {
          path: '/pages/trade/market/index',
          icon: 'ğŸ“Š',
          title: 'å¸‚åœºäº¤æ˜“',
          description: 'è®¢å•åˆ—è¡¨ã€åˆ›å»ºè®¢å•ã€åŒ¹é…è®¢å•ã€å–æ¶ˆè®¢å•'
        },
        {
          path: '/pages/trade/contracts/index',
          icon: 'ğŸ“œ',
          title: 'æ™ºèƒ½åˆçº¦',
          description: 'åˆçº¦åˆ›å»ºã€ç­¾ç½²ã€æ¿€æ´»ã€æ‰§è¡Œ'
        },
        {
          path: '/pages/trade/social/index',
          icon: 'ğŸ’¬',
          title: 'ç¤¾äº¤äº¤æ˜“',
          description: 'Feedæµã€ç‚¹èµã€è¯„è®ºã€å…³æ³¨'
        },
        {
          path: '/pages/trade/user/index',
          icon: 'ğŸ‘¤',
          title: 'ç”¨æˆ·ä¸­å¿ƒ',
          description: 'ç­‰çº§ç³»ç»Ÿã€ç­¾åˆ°ã€ä»»åŠ¡ã€æˆå°±'
        }
      ]
    }
  },

  methods: {
    navigateTo(path) {
      uni.navigateTo({
        url: path
      })
    },

    runIntegrationTest() {
      uni.showToast({
        title: 'è¯·åœ¨å‘½ä»¤è¡Œè¿è¡Œ:\nnode test/integration-test-real.js',
        icon: 'none',
        duration: 3000
      })
    }
  }
}
</script>

<style lang="scss" scoped>
.trade-index {
  min-height: 100vh;
  background: #f5f7fa;
  padding-bottom: 32rpx;
}

.header {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  padding: 80rpx 32rpx 48rpx;
  color: white;
  text-align: center;

  .title {
    display: block;
    font-size: 48rpx;
    font-weight: bold;
    margin-bottom: 16rpx;
  }

  .subtitle {
    display: block;
    font-size: 28rpx;
    opacity: 0.9;
  }
}

.page-list {
  padding: 32rpx;
}

.page-card {
  background: white;
  padding: 32rpx;
  border-radius: 16rpx;
  margin-bottom: 24rpx;
  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);
  display: flex;
  align-items: center;
  gap: 24rpx;
  transition: transform 0.2s;

  &:active {
    transform: scale(0.98);
  }

  .page-icon {
    font-size: 56rpx;
  }

  .page-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 8rpx;

    .page-title {
      font-size: 32rpx;
      font-weight: bold;
      color: #333;
    }

    .page-desc {
      font-size: 24rpx;
      color: #999;
      line-height: 1.5;
    }
  }

  .page-arrow {
    font-size: 32rpx;
    color: #ccc;
  }
}

.test-info {
  margin: 0 32rpx 32rpx;
  padding: 32rpx;
  background: white;
  border-radius: 16rpx;
  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);

  .info-title {
    display: block;
    font-size: 32rpx;
    font-weight: bold;
    color: #333;
    margin-bottom: 24rpx;
  }

  .info-item {
    display: flex;
    justify-content: space-between;
    padding: 16rpx 0;
    border-bottom: 1rpx solid #f0f0f0;

    &:last-child {
      border-bottom: none;
    }

    .info-label {
      font-size: 28rpx;
      color: #666;
    }

    .info-value {
      font-size: 28rpx;
      color: #333;
      font-weight: bold;

      &.success {
        color: #52c41a;
      }
    }
  }
}

.actions {
  padding: 0 32rpx;

  .action-btn {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    padding: 24rpx;
    border-radius: 16rpx;
    text-align: center;

    .btn-text {
      color: white;
      font-size: 32rpx;
      font-weight: bold;
    }
  }
}
</style>
