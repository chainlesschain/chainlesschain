# Cowork å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿ

> **ç‰ˆæœ¬: v2.1.0 | çŠ¶æ€: âœ… ç”Ÿäº§å°±ç»ª | 166 IPC Handlers | 95 å†…ç½®æŠ€èƒ½ | ~90% æµ‹è¯•è¦†ç›–ç‡**

ChainlessChain Cowork æ˜¯ä¸€ä¸ªç”Ÿäº§çº§çš„å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿï¼ŒåŸºäº Claude Code çš„ TeammateTool è®¾è®¡æ¨¡å¼å®ç°ã€‚å®ƒä¸ºå¤æ‚ä»»åŠ¡æä¾›æ™ºèƒ½çš„ä»»åŠ¡åˆ†é…ã€å¹¶è¡Œæ‰§è¡Œå’ŒååŒå·¥ä½œæµèƒ½åŠ›ï¼ŒåŒ…å« 13 æ ¸å¿ƒæ“ä½œã€FileSandbox å®‰å…¨æ²™ç®±ã€é•¿æ—¶ä»»åŠ¡ç®¡ç†ã€Agent æ± åŒ–ã€92+ å†…ç½®æŠ€èƒ½ã€æŠ€èƒ½æµæ°´çº¿å¼•æ“ã€å¯è§†åŒ–å·¥ä½œæµç¼–è¾‘å™¨ã€Git Hooks é›†æˆã€Instinct å­¦ä¹ ç³»ç»Ÿã€Orchestrate ç¼–æ’å·¥ä½œæµã€Verification Loop éªŒè¯æµæ°´çº¿ã€**P2P è·¨è®¾å¤‡ä»£ç†ç½‘ç»œã€è®¾å¤‡èƒ½åŠ›å‘ç°ã€æ··åˆæ‰§è¡Œç­–ç•¥ã€Computer Use Bridgeã€RESTful API æœåŠ¡ã€Webhook äº‹ä»¶æ¨é€**ä»¥åŠæ™ºèƒ½å•/å¤šä»£ç†å†³ç­–å¼•æ“ã€‚

## æ ¸å¿ƒç‰¹æ€§

- ğŸ¤– **æ™ºèƒ½ç¼–æ’**: AI é©±åŠ¨çš„å•/å¤šä»£ç†è‡ªåŠ¨å†³ç­–ï¼Œä¸‰ç§åœºæ™¯æ¨¡å‹
- ğŸ‘¥ **å›¢é˜Ÿåä½œ**: 13 æ ¸å¿ƒæ“ä½œï¼ˆTeammateToolï¼‰ï¼Œæ”¯æŒæŠ•ç¥¨ã€æ¶ˆæ¯ã€æ£€æŸ¥ç‚¹
- ğŸ”’ **æ–‡ä»¶æ²™ç®±**: 20+ æ•æ„Ÿæ–‡ä»¶æ£€æµ‹ï¼Œè·¯å¾„éå†é˜²æŠ¤ï¼Œç»†ç²’åº¦æƒé™
- â±ï¸ **é•¿æ—¶ä»»åŠ¡**: æ£€æŸ¥ç‚¹æ¢å¤ã€æ™ºèƒ½é‡è¯•ã€è¿›åº¦è·Ÿè¸ªã€è¶…æ—¶å¤„ç†ã€å¢é‡æ£€æŸ¥ç‚¹
- ğŸŠ **Agent æ± åŒ–**: èƒ½åŠ›æ± åŒ–ã€æ¸©å¤ç”¨ã€å†…å­˜æ„ŸçŸ¥ç¼©æ± ã€å¥åº·æ£€æŸ¥
- ğŸ¯ **92 å†…ç½®æŠ€èƒ½**: å››å±‚åŠ è½½ã€æ‡’åŠ è½½ï¼ˆå¯åŠ¨æå‡ 87%ï¼‰ã€é—¨æ§æ£€æŸ¥ã€çƒ­åŠ è½½/çƒ­å¸è½½
- ğŸ”— **æŠ€èƒ½æµæ°´çº¿**: 5 ç§æ­¥éª¤ç±»å‹ï¼ˆä¸²è”/å¹¶è¡Œ/æ¡ä»¶/å¾ªç¯/è½¬æ¢ï¼‰ã€10 é¢„ç½®æ¨¡æ¿ã€å˜é‡ä¼ é€’
- ğŸ¨ **å¯è§†åŒ–å·¥ä½œæµ**: Vue Flow æ‹–æ‹½ç¼–è¾‘å™¨ã€8 ç§èŠ‚ç‚¹ç±»å‹ã€DAG æ‹“æ‰‘æ’åºæ‰§è¡Œ
- ğŸª **Git Hooks é›†æˆ**: Pre-commit æ™ºèƒ½æ£€æŸ¥ã€å½±å“åˆ†æã€CI å¤±è´¥è‡ªåŠ¨ä¿®å¤
- ğŸ§  **Instinct å­¦ä¹ **: è‡ªåŠ¨ä»ä¼šè¯ä¸­æå–å¯å¤ç”¨æ¨¡å¼ï¼Œç½®ä¿¡åº¦å¼ºåŒ–/è¡°å‡ï¼Œä¸Šä¸‹æ–‡æ„ŸçŸ¥æ£€ç´¢
- ğŸ­ **Orchestrate ç¼–æ’**: 4 ç§é¢„ç½®å·¥ä½œæµæ¨¡æ¿ï¼Œä»£ç†äº¤æ¥åè®®ï¼Œç»“æ„åŒ–æµæ°´çº¿æ‰§è¡Œ
- âœ… **Verification Loop**: 6 é˜¶æ®µè‡ªåŠ¨åŒ–éªŒè¯æµæ°´çº¿ï¼ŒREADY/NOT READY è£å†³
- ğŸ“Š **æŠ€èƒ½æ€§èƒ½ä»ªè¡¨æ¿**: æ‰§è¡ŒæŒ‡æ ‡é‡‡é›†ã€Token æ¶ˆè€—è¿½è¸ªã€Top æŠ€èƒ½æ’è¡Œã€æ—¶é—´åºåˆ—å›¾è¡¨
- ğŸ“Š **åˆ†æä»ªè¡¨æ¿**: ECharts å¯è§†åŒ–ã€KPI è¶‹åŠ¿ã€å®æ—¶ç›‘æ§
- ğŸŒ **P2P ä»£ç†ç½‘ç»œ**: WebRTC DataChannel è·¨è®¾å¤‡ä»£ç†é€šä¿¡ï¼Œ15 ç§æ¶ˆæ¯åè®®
- ğŸ” **è®¾å¤‡èƒ½åŠ›å‘ç°**: 4 çº§èƒ½åŠ›åˆ†å±‚ï¼ŒæŠ€èƒ½â†’è®¾å¤‡ç´¢å¼•ï¼Œæœ€ä¼˜è·¯ç”±
- âš¡ **æ··åˆæ‰§è¡Œç­–ç•¥**: 6 ç§æ‰§è¡Œç­–ç•¥ï¼ˆlocal/remote/best-fit/load-balanceï¼‰ï¼Œä»»åŠ¡æƒé‡åˆ†ç±»
- ğŸ–¥ï¸ **Computer Use Bridge**: 12 ä¸ª AI å·¥å…·æ˜ å°„ä¸ºæŠ€èƒ½ï¼Œå½•åˆ¶å›æ”¾å…±äº«
- ğŸŒ **RESTful API**: 20+ ç«¯ç‚¹ï¼ŒSSE å®æ—¶æ¨é€ï¼ŒBearer/API-Key è®¤è¯
- ğŸª **Webhook äº‹ä»¶**: 17 ç§äº‹ä»¶ç±»å‹ï¼ŒHMAC ç­¾åï¼ŒæŒ‡æ•°é€€é¿é‡è¯•
- ğŸ›¡ï¸ **å®Œæ•´å®¡è®¡**: æ‰€æœ‰æ–‡ä»¶æ“ä½œå®¡è®¡æ—¥å¿—ï¼Œæ•°æ®åº“ + æ–‡ä»¶ç³»ç»ŸåŒæŒä¹…åŒ–

## TeammateTool â€” 13 æ ¸å¿ƒæ“ä½œ

TeammateTool æ˜¯ Cowork çš„æ ¸å¿ƒå¼•æ“ï¼Œæä¾›å›¢é˜Ÿåˆ›å»ºã€ä»£ç†ç®¡ç†ã€ä»»åŠ¡åˆ†é…ã€æ¶ˆæ¯é€šä¿¡å’ŒæŠ•ç¥¨å†³ç­–ç­‰ 13 ä¸ªæ“ä½œã€‚

### æ“ä½œæ¦‚è§ˆ

| æ“ä½œ               | åŠŸèƒ½         | æ€§èƒ½   | è¯´æ˜                                |
| ------------------ | ------------ | ------ | ----------------------------------- |
| `spawnTeam`        | åˆ›å»ºæ–°å›¢é˜Ÿ   | < 45ms | æ”¯æŒé…ç½® maxAgentsã€æŠ•ç¥¨é˜ˆå€¼        |
| `discoverTeams`    | å‘ç°å›¢é˜Ÿ     | < 20ms | æŒ‰çŠ¶æ€ã€åŠ¨æ€åŠ å…¥ç­‰æ¡ä»¶è¿‡æ»¤          |
| `requestJoin`      | åŠ å…¥å›¢é˜Ÿ     | < 15ms | è‡ªåŠ¨ä» AgentPool è·å–ä»£ç†           |
| `assignTask`       | åˆ†é…ä»»åŠ¡     | < 25ms | æ”¯æŒè‡ªåŠ¨é€‰æ‹©æœ€ä¼˜ä»£ç†ï¼ˆè¯„åˆ†ç®—æ³•ï¼‰    |
| `broadcastMessage` | å›¢é˜Ÿå¹¿æ’­     | < 30ms | æ¶ˆæ¯é˜Ÿåˆ—ä¸Šé™ 1000ï¼Œè‡ªåŠ¨æ¸…ç†         |
| `sendMessage`      | ç§ä¿¡         | < 12ms | éªŒè¯åŒæ–¹åœ¨åŒä¸€å›¢é˜Ÿ                  |
| `voteOnDecision`   | æŠ•ç¥¨å†³ç­–     | < 35ms | æ”¯æŒ approve/reject/abstain         |
| `getTeamStatus`    | æŸ¥è¯¢å›¢é˜ŸçŠ¶æ€ | < 10ms | å«ä»£ç†ç»Ÿè®¡ã€ä»»åŠ¡ç»Ÿè®¡ã€è¿è¡Œæ—¶é•¿      |
| `terminateAgent`   | ç»ˆæ­¢ä»£ç†     | < 10ms | è‡ªåŠ¨å¤±è´¥æœªå®Œæˆä»»åŠ¡å¹¶é‡Šæ”¾åˆ°æ±         |
| `mergeResults`     | åˆå¹¶ç»“æœ     | < 20ms | 4 ç§ç­–ç•¥ï¼šaggregate/vote/concat/avg |
| `createCheckpoint` | åˆ›å»ºæ£€æŸ¥ç‚¹   | < 40ms | æ·±æ‹·è´å›¢é˜ŸçŠ¶æ€åˆ°æ–‡ä»¶å’Œæ•°æ®åº“        |
| `listMembers`      | åˆ—å‡ºæˆå‘˜     | < 5ms  | å«çŠ¶æ€ã€èƒ½åŠ›ã€å½“å‰ä»»åŠ¡              |
| `updateTeamConfig` | æ›´æ–°å›¢é˜Ÿé…ç½® | < 8ms  | åˆå¹¶æ›´æ–°ï¼ŒåŒæŒä¹…åŒ–                  |

### åˆ›å»ºå›¢é˜Ÿ

```javascript
const result = await window.electron.ipcRenderer.invoke("cowork:create-team", {
  teamName: "data-processing-team",
  config: {
    maxAgents: 5,
    allowDynamicJoin: true,
    requireApproval: false,
    votingThreshold: 0.6,
    autoAssignTasks: true,
  },
});

console.log("å›¢é˜Ÿå·²åˆ›å»º:", result.team.id);
// team.id, team.name, team.status, team.maxAgents
```

### æ™ºèƒ½ä»»åŠ¡åˆ†é…

ç³»ç»Ÿæ”¯æŒä¸¤ç§ä»»åŠ¡åˆ†é…æ¨¡å¼ï¼š

**æŒ‡å®šä»£ç†åˆ†é…**:

```javascript
const result = await window.electron.ipcRenderer.invoke("cowork:assign-task", {
  teamId: "team-001",
  agentId: "agent-1",
  task: {
    id: "task-001",
    description: "åˆ†æé”€å”®æ•°æ®å¹¶ç”ŸæˆæŠ¥å‘Š",
    priority: "HIGH",
    timeout: 300000,
  },
});
```

**è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜ä»£ç†**ï¼ˆçœç•¥ agentIdï¼‰:

```javascript
const result = await window.electron.ipcRenderer.invoke("cowork:assign-task", {
  teamId: "team-001",
  task: {
    description: "ç¼–å†™å•å…ƒæµ‹è¯•",
    type: "testing",
    priority: "MEDIUM",
  },
});
// è‡ªåŠ¨é€‰æ‹©å¾—åˆ†æœ€é«˜çš„ç©ºé—²ä»£ç†
// result.assignedTo = "agent-3" (æœ€é€‚åˆ testing çš„ä»£ç†)
```

**ä»£ç†è¯„åˆ†ç®—æ³•**:

```
ç›´æ¥æŠ€èƒ½åŒ¹é…:    +10 åˆ† (agent.capabilities åŒ…å« task.type)
å…³é”®è¯åŒ¹é…:      +5 åˆ†  (ä»£ç /æµ‹è¯•/æ–‡æ¡£/è®¾è®¡/åˆ†æå…³é”®è¯)
é€šç”¨èƒ½åŠ›åŒ¹é…:    +2 åˆ†  (å…·æœ‰ 'general' èƒ½åŠ›)
ç©ºé—²ä¼˜å…ˆ:        ä»…ä» idle çŠ¶æ€çš„ä»£ç†ä¸­é€‰æ‹©
```

### æŠ•ç¥¨å†³ç­–

```javascript
// å‘èµ·æŠ•ç¥¨
const voteResult = await window.electron.ipcRenderer.invoke(
  "cowork:vote-on-decision",
  {
    teamId: "team-001",
    decision: {
      title: "æ˜¯å¦é‡‡ç”¨å¾®æœåŠ¡æ¶æ„",
      description: "å°†å•ä½“åº”ç”¨æ‹†åˆ†ä¸ºå¾®æœåŠ¡...",
      options: ["åŒæ„", "åå¯¹", "å¼ƒæƒ"],
    },
    votes: [
      { agentId: "agent-1", vote: "approve", reason: "æå‡å¯æ‰©å±•æ€§" },
      { agentId: "agent-2", vote: "approve", reason: "ä¾¿äºç‹¬ç«‹éƒ¨ç½²" },
      { agentId: "agent-3", vote: "reject", reason: "å¢åŠ è¿ç»´å¤æ‚åº¦" },
    ],
  },
);

console.log(voteResult.passed); // true (2/3 > 0.6 threshold)
console.log(voteResult.approvalRate); // 0.667
```

### ç»“æœåˆå¹¶ç­–ç•¥

```javascript
const merged = await window.electron.ipcRenderer.invoke(
  "cowork:merge-results",
  {
    teamId: "team-001",
    results: [result1, result2, result3],
    strategy: "vote", // aggregate | vote | concatenate | average
  },
);
```

| ç­–ç•¥          | è¯´æ˜                 | é€‚ç”¨åœºæ™¯     |
| ------------- | -------------------- | ------------ |
| `aggregate`   | å°†æ‰€æœ‰ç»“æœæ”¶é›†åˆ°æ•°ç»„ | æ”¶é›†å¤šæ–¹æ„è§ |
| `vote`        | é€‰æ‹©å‡ºç°æœ€å¤šçš„ç»“æœ   | ä»£ç å®¡æŸ¥å…±è¯† |
| `concatenate` | ç”¨æ¢è¡Œè¿æ¥æ‰€æœ‰ç»“æœ   | æ–‡æ¡£åˆå¹¶     |
| `average`     | è®¡ç®—æ•°å€¼å¹³å‡å€¼       | æ€§èƒ½è¯„åˆ†æ±‡æ€» |

### å›¢é˜Ÿç”Ÿå‘½å‘¨æœŸ

```
åˆ›å»º (active) â†’ æš‚åœ (paused) â†’ æ¢å¤ (active) â†’ å®Œæˆ (completed)
                                                â†“
                                            å¤±è´¥ (failed) â†’ å½’æ¡£ (archived)
```

**æš‚åœå›¢é˜Ÿ**: æš‚åœæ‰€æœ‰è¿è¡Œä¸­çš„ä»»åŠ¡ï¼Œè®°å½•æš‚åœæ—¶é•¿
**æ¢å¤å›¢é˜Ÿ**: æ¢å¤æ‰€æœ‰å·²æš‚åœä»»åŠ¡ï¼Œè®¡ç®—æ€»æš‚åœæ—¶é—´
**é”€æ¯å›¢é˜Ÿ**: å½’æ¡£å›¢é˜ŸçŠ¶æ€ï¼Œç»ˆæ­¢æ‰€æœ‰ä»£ç†ï¼Œæ¸…ç©ºæ¶ˆæ¯é˜Ÿåˆ—

### äº‹ä»¶ç³»ç»Ÿ

TeammateTool é€šè¿‡ EventEmitter å‘å°„ä»¥ä¸‹äº‹ä»¶ï¼š

| äº‹ä»¶                 | è§¦å‘æ—¶æœº     | æ•°æ®                   |
| -------------------- | ------------ | ---------------------- |
| `team-spawned`       | åˆ›å»ºå›¢é˜Ÿ     | team å¯¹è±¡              |
| `agent-joined`       | ä»£ç†åŠ å…¥å›¢é˜Ÿ | agent, team å¯¹è±¡       |
| `task-assigned`      | ä»»åŠ¡åˆ†é…     | task, agent, team å¯¹è±¡ |
| `message-broadcast`  | å¹¿æ’­æ¶ˆæ¯     | message, teamId        |
| `message-sent`       | å‘é€ç§ä¿¡     | message, from, to      |
| `decision-voted`     | æŠ•ç¥¨å®Œæˆ     | decision, result       |
| `agent-terminated`   | ä»£ç†ç»ˆæ­¢     | agentId, reason        |
| `results-merged`     | ç»“æœåˆå¹¶     | mergedResult, strategy |
| `checkpoint-created` | æ£€æŸ¥ç‚¹åˆ›å»º   | checkpointId, teamId   |
| `team-paused`        | å›¢é˜Ÿæš‚åœ     | teamId                 |
| `team-resumed`       | å›¢é˜Ÿæ¢å¤     | teamId, pauseDuration  |
| `team-destroyed`     | å›¢é˜Ÿé”€æ¯     | teamId                 |

## Agent Pool â€” ä»£ç†æ± åŒ–

AgentPool å®ç°ä»£ç†èµ„æºçš„æ± åŒ–å¤ç”¨ï¼Œå‡å°‘åˆ›å»º/é”€æ¯å¼€é”€ï¼Œæå‡ç³»ç»Ÿæ€§èƒ½ã€‚

### å·¥ä½œåŸç†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   AgentPool                       â”‚
â”‚                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å¯ç”¨ä»£ç†é˜Ÿåˆ—  â”‚    â”‚     ç¹å¿™ä»£ç† Map          â”‚  â”‚
â”‚  â”‚  (available) â”‚    â”‚     (busy)               â”‚  â”‚
â”‚  â”‚             â”‚    â”‚                          â”‚  â”‚
â”‚  â”‚  agent_1 â†â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€ release â†â”€â”€ agent_3   â”‚  â”‚
â”‚  â”‚  agent_2    â”‚    â”‚              agent_4     â”‚  â”‚
â”‚  â”‚             â”‚ â”€â”€â†’â”‚ acquire â”€â”€â†’              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              ç­‰å¾…é˜Ÿåˆ— (waitQueue)              â”‚  â”‚
â”‚  â”‚  æ»¡è½½æ—¶è¯·æ±‚æ’é˜Ÿï¼Œé‡Šæ”¾åæŒ‰ FIFO åˆ†é…           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é…ç½®

```javascript
{
  minSize: 3,              // é¢„åˆ›å»ºä»£ç†æ•°ï¼ˆçƒ­å¯åŠ¨ï¼‰
  maxSize: 10,             // æœ€å¤§ä»£ç†æ•°ï¼ˆç¡¬ä¸Šé™ï¼‰
  idleTimeout: 300000,     // ç©ºé—²è¶…æ—¶ï¼ˆ5åˆ†é’Ÿåé”€æ¯ï¼‰
  warmup: true,            // åˆå§‹åŒ–æ—¶é¢„çƒ­
}
```

### ä»£ç†è·å–ä¸é‡Šæ”¾

```javascript
// è·å–ä»£ç†ï¼ˆè‡ªåŠ¨ä»æ± ä¸­åˆ†é…æˆ–åˆ›å»ºæ–°ä»£ç†ï¼‰
const agent = await agentPool.acquireAgent(
  ["coding", "testing"], // æ‰€éœ€èƒ½åŠ›
  30000, // ç­‰å¾…è¶…æ—¶ï¼ˆ30ç§’ï¼‰
);

// ä»£ç†ä½¿ç”¨åé‡Šæ”¾å›æ± 
await agentPool.releaseAgent(agent.id);
// å¦‚æœæœ‰ç­‰å¾…è¯·æ±‚ï¼Œä¼˜å…ˆåˆ†é…ç»™ç­‰å¾…è€…ï¼ˆFIFOï¼‰
// å¦‚æœè¶…è¿‡ minSizeï¼Œç›´æ¥é”€æ¯
// å¦åˆ™æ”¾å›å¯ç”¨é˜Ÿåˆ—ï¼Œå¯åŠ¨ç©ºé—²è®¡æ—¶å™¨
```

### çŠ¶æ€éš”ç¦»

ä»£ç†å¤ç”¨æ—¶è‡ªåŠ¨é‡ç½®çŠ¶æ€ï¼š

- `status` â†’ `idle`
- `teamId` â†’ `null`
- `currentTask` â†’ `null`
- `taskQueue` â†’ `[]`
- `reuseCount` é€’å¢
- `lastActiveTime` æ›´æ–°

### ç»Ÿè®¡æŒ‡æ ‡

```javascript
const stats = agentPool.getStats();
// {
//   created: 15,        // æ€»åˆ›å»ºæ•°
//   reused: 42,         // å¤ç”¨æ¬¡æ•°
//   destroyed: 5,       // é”€æ¯æ•°
//   acquisitions: 57,   // è·å–æ¬¡æ•°
//   releases: 52,       // é‡Šæ”¾æ¬¡æ•°
//   reuseRate: "73.68%",// å¤ç”¨ç‡
//   avgReuseCount: "2.80"
// }
```

## FileSandbox â€” æ–‡ä»¶æ²™ç®±å®‰å…¨ç³»ç»Ÿ

FileSandbox æä¾›å¤šå±‚å®‰å…¨é˜²æŠ¤ï¼Œç¡®ä¿ä»£ç†åªèƒ½è®¿é—®è¢«æˆæƒçš„æ–‡ä»¶ï¼Œå¹¶è®°å½•æ‰€æœ‰æ“ä½œå®¡è®¡æ—¥å¿—ã€‚

### å®‰å…¨æ¶æ„

```
æ–‡ä»¶æ“ä½œè¯·æ±‚
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. è·¯å¾„éå†æ£€æµ‹    â”‚ â”€â”€ æ£€æµ‹ ../ ç­‰è·¯å¾„éå†æ”»å‡»
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ âœ… é€šè¿‡
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. æ•æ„Ÿæ–‡ä»¶æ£€æµ‹    â”‚ â”€â”€ 20+ å†…ç½®æ¨¡å¼åŒ¹é…
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ âœ… é€šè¿‡
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. æƒé™æ£€æŸ¥       â”‚ â”€â”€ READ / WRITE / EXECUTE
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ âœ… é€šè¿‡
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. ç¬¦å·é“¾æ¥éªŒè¯    â”‚ â”€â”€ é˜²æ­¢ç»•è¿‡æ²™ç®±
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ âœ… é€šè¿‡
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. æ–‡ä»¶å¤§å°æ£€æŸ¥    â”‚ â”€â”€ æœ€å¤§ 100MB (READ)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ âœ… é€šè¿‡
         â–¼
    æ‰§è¡Œæ“ä½œ + å†™å…¥å®¡è®¡æ—¥å¿—
```

### æ•æ„Ÿæ–‡ä»¶æ¨¡å¼ï¼ˆ20+ å†…ç½®ï¼‰

| ç±»åˆ«       | æ¨¡å¼                                |
| ---------- | ----------------------------------- |
| ç¯å¢ƒå˜é‡   | `.env`, `.env.*`                    |
| å‡­è¯æ–‡ä»¶   | `credentials.json`, `secrets.json`  |
| SSH å¯†é’¥   | `.ssh/`, `id_rsa`                   |
| TLS è¯ä¹¦   | `.pem`, `.key`, `.p12`, `.keystore` |
| Git é…ç½®   | `.git/config`                       |
| äº‘æœåŠ¡å‡­è¯ | `.aws/credentials`, `.azure/config` |
| K8s é…ç½®   | `.kube/config`                      |
| åŒ…ç®¡ç†     | `.npmrc`                            |
| å¯†ç æ–‡ä»¶   | åŒ¹é… `password` å…³é”®è¯              |
| ç§é’¥æ–‡ä»¶   | åŒ¹é… `private.*key` å…³é”®è¯          |

### æƒé™ç®¡ç†

```javascript
// è¯·æ±‚æ–‡ä»¶å¤¹è®¿é—®æƒé™ï¼ˆè§¦å‘ç”¨æˆ·ç¡®è®¤å¼¹çª—ï¼‰
const granted = await window.electron.ipcRenderer.invoke(
  "cowork:request-file-access",
  {
    teamId: "team-001",
    folderPath: "/data/workspace",
    permissions: ["read", "write"],
    options: { autoApprove: false },
  },
);

// ç¨‹åºåŒ–æˆæƒï¼ˆè·³è¿‡ç”¨æˆ·ç¡®è®¤ï¼‰
await window.electron.ipcRenderer.invoke("cowork:grant-file-access", {
  teamId: "team-001",
  folderPath: "/data/output",
  permissions: ["write"],
});

// éªŒè¯è®¿é—®æƒé™
const validation = await window.electron.ipcRenderer.invoke(
  "cowork:validate-file-access",
  {
    teamId: "team-001",
    filePath: "/data/workspace/report.csv",
    permission: "read",
  },
);
// validation.allowed = true, validation.reason = null
```

### æ–‡ä»¶æ“ä½œï¼ˆå«å®¡è®¡ï¼‰

```javascript
// è¯»å–æ–‡ä»¶
const content = await window.electron.ipcRenderer.invoke("cowork:read-file", {
  teamId: "team-001",
  agentId: "agent-1",
  filePath: "/data/workspace/input.json",
});

// å†™å…¥æ–‡ä»¶
await window.electron.ipcRenderer.invoke("cowork:write-file", {
  teamId: "team-001",
  agentId: "agent-1",
  filePath: "/data/workspace/output.json",
  content: JSON.stringify(result, null, 2),
});

// åˆ—å‡ºç›®å½•ï¼ˆè‡ªåŠ¨è¿‡æ»¤æ•æ„Ÿæ–‡ä»¶ï¼‰
const files = await window.electron.ipcRenderer.invoke(
  "cowork:list-directory",
  {
    teamId: "team-001",
    agentId: "agent-1",
    dirPath: "/data/workspace",
  },
);
// [{name: "input.json", isFile: true}, {name: "output/", isDirectory: true}]
```

### å®¡è®¡æ—¥å¿—æŸ¥è¯¢

```javascript
const logs = await window.electron.ipcRenderer.invoke("cowork:get-audit-log", {
  filters: {
    teamId: "team-001",
    agentId: "agent-1",
    operation: "read",
    success: true,
  },
  limit: 50,
});
// logs: [{teamId, agentId, operation, resourcePath, timestamp, success}, ...]
```

### å®‰å…¨æŒ‡æ ‡

| æŒ‡æ ‡         | æ•°å€¼        |
| ------------ | ----------- |
| å…³é”®æ¼æ´     | 0           |
| é˜²å¾¡å±‚æ•°     | 5 å±‚        |
| æƒé™æ£€æŸ¥å»¶è¿Ÿ | < 3ms       |
| å®¡è®¡è¦†ç›–ç‡   | 100%        |
| æ•æ„Ÿæ–‡ä»¶æ¨¡å¼ | 20+ ç§      |
| æœ€å¤§æ–‡ä»¶å¤§å° | 100MB       |
| æœ€å¤§æˆæƒè·¯å¾„ | 100 æ¡/å›¢é˜Ÿ |

## é•¿æ—¶ä»»åŠ¡ç®¡ç†

LongRunningTaskManager æ”¯æŒæ£€æŸ¥ç‚¹ã€æš‚åœæ¢å¤ã€æ™ºèƒ½é‡è¯•å’Œè¶…æ—¶æ§åˆ¶ï¼Œé€‚ç”¨äºæ•°æ®å¤„ç†ã€æ¨¡å‹è®­ç»ƒç­‰è€—æ—¶ä»»åŠ¡ã€‚

### ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸ

```
PENDING â†’ RUNNING â†’ [PAUSED] â†’ COMPLETED
                  â†“           â†‘
               FAILED â†’ RETRYING (æœ€å¤š 3 æ¬¡)
                  â†“
             CANCELLED
```

### åˆ›å»ºä¸æ‰§è¡Œä»»åŠ¡

**è‡ªå®šä¹‰æ‰§è¡Œå™¨**:

```javascript
const task = await window.electron.ipcRenderer.invoke(
  "cowork:create-long-task",
  {
    taskConfig: {
      name: "æ•°æ®æ¸…æ´—ä¸è½¬æ¢",
      description: "å¤„ç† 100 ä¸‡æ¡ç”¨æˆ·æ•°æ®",
      type: "data_processing",
      priority: "high",
      timeout: 600000, // 10 åˆ†é’Ÿè¶…æ—¶
      executor: async (context) => {
        const data = await loadData();
        for (let i = 0; i < data.length; i++) {
          await processRecord(data[i]);
          await context.updateProgress(i / data.length, `å¤„ç†ç¬¬ ${i + 1} æ¡`);

          // æ¯å¤„ç† 10000 æ¡åˆ›å»ºæ£€æŸ¥ç‚¹
          if (i % 10000 === 0) {
            await context.createCheckpoint({ processedCount: i });
          }
        }
        return { totalProcessed: data.length };
      },
    },
  },
);

// å¯åŠ¨ä»»åŠ¡
await window.electron.ipcRenderer.invoke("cowork:start-task", {
  taskId: task.id,
});
```

**åˆ†æ­¥æ‰§è¡Œ**:

```javascript
const task = await window.electron.ipcRenderer.invoke(
  "cowork:create-long-task",
  {
    taskConfig: {
      name: "æ•°æ®åˆ†ææµæ°´çº¿",
      steps: [
        {
          name: "æ•°æ®åŠ è½½",
          execute: async (ctx) => loadData(),
          required: true,
        },
        {
          name: "æ•°æ®æ¸…æ´—",
          execute: async (ctx) => cleanData(ctx.stepResults[0]),
          required: true,
        },
        {
          name: "ç»Ÿè®¡åˆ†æ",
          execute: async (ctx) => analyze(ctx.stepResults[1]),
          required: true,
        },
        {
          name: "ç”ŸæˆæŠ¥å‘Š",
          execute: async (ctx) => generateReport(ctx.stepResults[2]),
          required: false,
        },
      ],
    },
  },
);
```

### æš‚åœä¸æ¢å¤

```javascript
// æš‚åœä»»åŠ¡ï¼ˆè‡ªåŠ¨åˆ›å»ºæš‚åœæ£€æŸ¥ç‚¹ï¼‰
await window.electron.ipcRenderer.invoke("cowork:pause-task", {
  taskId: "task-001",
});

// æŸ¥è¯¢è¿›åº¦
const status = await window.electron.ipcRenderer.invoke(
  "cowork:get-task-status",
  {
    taskId: "task-001",
  },
);
console.log(`è¿›åº¦: ${(status.progress * 100).toFixed(1)}%`);
console.log(`æ¶ˆæ¯: ${status.progressMessage}`);
console.log(`å·²ç”¨æ—¶: ${status.duration}ms`);
console.log(`é¢„è®¡å‰©ä½™: ${status.estimatedTimeRemaining}ms`);
console.log(`æ£€æŸ¥ç‚¹æ•°: ${status.checkpointCount}`);

// ä»æ£€æŸ¥ç‚¹æ¢å¤
await window.electron.ipcRenderer.invoke("cowork:restore-from-checkpoint", {
  checkpointId: "checkpoint-5",
});
await window.electron.ipcRenderer.invoke("cowork:resume-task", {
  taskId: "task-001",
});
```

### æ™ºèƒ½æ£€æŸ¥ç‚¹ç­–ç•¥

SmartCheckpointStrategy æ ¹æ®ä»»åŠ¡ç‰¹å¾åŠ¨æ€è°ƒæ•´æ£€æŸ¥ç‚¹é—´éš”ï¼š

| å› ç´      | è°ƒæ•´è§„åˆ™                                                    |
| -------- | ----------------------------------------------------------- |
| ä»»åŠ¡æ—¶é•¿ | < 2min ä¸åˆ›å»ºï¼Œ2-10min é—´éš” 2minï¼Œ> 10min é—´éš” 5min         |
| ä»»åŠ¡ç±»å‹ | data_processing Ã— 0.5ï¼Œllm_call Ã— 1.5ï¼Œfile_operation Ã— 0.7 |
| ä¼˜å…ˆçº§   | urgent/high Ã— 0.8ï¼ˆæ›´é¢‘ç¹ï¼‰ï¼Œlow Ã— 1.2                      |
| è¿›åº¦ä½ç½® | 0-10% Ã— 1.3ï¼ˆå°‘åˆ›å»ºï¼‰ï¼Œ90%+ Ã— 0.7ï¼ˆå¤šåˆ›å»ºï¼‰                 |
| é—´éš”èŒƒå›´ | æœ€å° 1 åˆ†é’Ÿï¼Œæœ€å¤§ 10 åˆ†é’Ÿ                                   |

### é”™è¯¯æ¢å¤

- **è‡ªåŠ¨é‡è¯•**: é»˜è®¤å¼€å¯ï¼Œæœ€å¤š 3 æ¬¡ï¼Œé—´éš” 5 ç§’
- **æŒ‡æ•°é€€é¿**: å¯é…ç½®é€€é¿ç®—æ³•
- **æ•…éšœéš”ç¦»**: å•æ­¥å¤±è´¥ä¸å½±å“åç»­éå¿…é¡»æ­¥éª¤
- **å®Œæ•´å †æ ˆ**: ä¿ç•™é”™è¯¯æ¶ˆæ¯å’Œå †æ ˆè¿½è¸ª

## Skills æŠ€èƒ½ç³»ç»Ÿ

Cowork é›†æˆäº† 90 ä¸ªå†…ç½®æŠ€èƒ½ï¼Œä½¿ç”¨ SKILL.md æ ¼å¼å®šä¹‰ï¼Œæ”¯æŒå››å±‚åŠ è½½å’Œè‡ªåŠ¨åŒ¹é…ã€‚

### å››å±‚åŠ è½½æ¶æ„

```
ä¼˜å…ˆçº§ (é«˜ â†’ ä½):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. Workspace æŠ€èƒ½ (ç”¨æˆ·è‡ªå®šä¹‰)            â”‚
â”‚     ~/.chainlesschain/skills/*.md          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  3. Managed æŠ€èƒ½ (å·¥ä½œåŒºçº§)                â”‚
â”‚     .chainlesschain/skills/*.md            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  2. Marketplace æŠ€èƒ½ (ç¬¬ä¸‰æ–¹å®‰è£…)          â”‚
â”‚     .chainlesschain/marketplace/skills/    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. Bundled æŠ€èƒ½ (å†…ç½® 90 ä¸ª)              â”‚
â”‚     src/main/ai-engine/cowork/skills/      â”‚
â”‚     builtin/                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€èƒ½åˆ†ç±»ï¼ˆ90 ä¸ªå†…ç½®æŠ€èƒ½ï¼‰

| ç±»åˆ«      | æ•°é‡ | ç¤ºä¾‹æŠ€èƒ½                                                   |
| --------- | ---- | ---------------------------------------------------------- |
| å¼€å‘      | 18   | code-review, git-commit, refactor, architect-mode          |
| è‡ªåŠ¨åŒ–    | 4    | browser-automation, computer-use, workflow-automation      |
| æ•°æ®      | 4    | web-scraping, data-analysis, chart-creator, csv-processor  |
| çŸ¥è¯†      | 6    | memory-management, smart-search, research-agent            |
| æµ‹è¯•      | 5    | api-tester, lint-and-fix, test-and-fix, bugbot             |
| åˆ†æ      | 4    | dependency-analyzer, impact-analyzer, git-history-analyzer |
| æ–‡æ¡£      | 7    | pdf-toolkit, doc-converter, excel-analyzer, pptx-creator   |
| åª’ä½“      | 7    | audio-transcriber, video-toolkit, subtitle-generator       |
| å®‰å…¨      | 4    | security-audit, vulnerability-scanner, crypto-toolkit      |
| DevOps    | 6    | devops-automation, env-doctor, release-manager             |
| AI        | 4    | prompt-enhancer, auto-context, multi-model-router          |
| ç³»ç»Ÿ/å·¥å…· | 21   | backup-manager, json-yaml-toolkit, http-client ç­‰          |

### SKILL.md æ ¼å¼

```markdown
---
name: code-review
description: æ™ºèƒ½ä»£ç å®¡æŸ¥
category: development
tags: [code, review, quality]
handlers:
  - name: default
    model: claude-opus
capabilities: [code-analysis, suggestion-generation]
supportedFileTypes: [.js, .ts, .py, .java]
dependencies:
  bins: []
  npm: []
  env: []
platforms: [darwin, linux, win32]
enabled: true
tools: [Read, Grep, Glob]
instructions: å®¡æŸ¥ä»£ç æ—¶å…³æ³¨å®‰å…¨æ€§ã€æ€§èƒ½å’Œå¯ç»´æŠ¤æ€§
examples:
  - input: "å®¡æŸ¥ src/main/index.js"
    output: "å‘ç° 3 ä¸ªé—®é¢˜ï¼š..."
---

# Code Review æŠ€èƒ½

è¯¦ç»†å®ç°è¯´æ˜...
```

### æŠ€èƒ½åŒ¹é…ç®—æ³•

```javascript
// è‡ªåŠ¨åŒ¹é…æœ€ä½³æŠ€èƒ½
const matches = await window.electron.ipcRenderer.invoke(
  "cowork:find-skills-for-task",
  {
    task: { description: "åˆ†æ CSV æ•°æ®å¹¶ç”Ÿæˆå›¾è¡¨" },
    options: { limit: 5 },
  },
);
// è¿”å›: [{skill: "data-analysis", score: 85}, {skill: "csv-processor", score: 72}, ...]
```

**è¯„åˆ†è§„åˆ™**:

| åŒ¹é…ç»´åº¦ | åˆ†å€¼ | è¯´æ˜                            |
| -------- | ---- | ------------------------------- |
| ä»»åŠ¡ç±»å‹ | +40  | task.type åŒ¹é… skill.category   |
| æ“ä½œåŒ¹é… | +30  | ä»»åŠ¡æè¿°åŒ¹é… skill.capabilities |
| æ–‡ä»¶ç±»å‹ | +20  | ç›®æ ‡æ–‡ä»¶åŒ¹é… supportedFileTypes |
| å…³é”®è¯   | +10  | ä»»åŠ¡æè¿°åŒ¹é… skill.tags         |
| **é˜ˆå€¼** | â‰¥ 80 | é«˜åŒ¹é…åº¦                        |

### æŠ€èƒ½æ‰§è¡Œ

```javascript
// æŒ‡å®šæŠ€èƒ½æ‰§è¡Œ
const result = await window.electron.ipcRenderer.invoke(
  "cowork:execute-skill",
  {
    skillId: "data-analysis",
    task: { description: "åˆ†æé”€å”®æ•°æ®è¶‹åŠ¿" },
    context: { filePath: "/data/sales.csv" },
  },
);

// è‡ªåŠ¨é€‰æ‹©æŠ€èƒ½æ‰§è¡Œ
const result = await window.electron.ipcRenderer.invoke(
  "cowork:auto-execute-task",
  {
    task: { description: "å°† Markdown æ–‡æ¡£è½¬æ¢ä¸º PDF" },
    context: {},
  },
);
// è‡ªåŠ¨é€‰æ‹© doc-converter æŠ€èƒ½å¹¶æ‰§è¡Œ
```

### é—¨æ§æ£€æŸ¥

æŠ€èƒ½æ‰§è¡Œå‰è‡ªåŠ¨éªŒè¯è¿è¡Œæ¡ä»¶ï¼š

```javascript
const check = await window.electron.ipcRenderer.invoke(
  "cowork:check-skill-requirements",
  { skillId: "browser-automation" },
);
// {
//   passed: true,
//   results: {
//     platform: { passed: true, matched: "win32", required: ["win32", "darwin", "linux"] },
//     bins: { passed: true, missing: [] },
//     env: { passed: true, missing: [] },
//     enabled: { passed: true }
//   }
// }
```

## ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å‰ç«¯ (Vue3 + Ant Design Vue)                   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ CoworkDash-  â”‚  â”‚ CoworkAnaly-  â”‚  â”‚ Components:          â”‚ â”‚
â”‚  â”‚ board.vue    â”‚  â”‚ tics.vue      â”‚  â”‚ TeamCard, TeamDetail â”‚ â”‚
â”‚  â”‚              â”‚  â”‚               â”‚  â”‚ TaskDetail, SkillCardâ”‚ â”‚
â”‚  â”‚ å›¢é˜Ÿç®¡ç†     â”‚  â”‚ åˆ†æä»ªè¡¨æ¿    â”‚  â”‚ FilePermission       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                 â”‚                       â”‚              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    Pinia Store (cowork.ts)                   â”‚ â”‚
â”‚  â”‚  1,410 è¡Œ | 25+ Getters | 40+ Actions | TypeScript          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚ IPC é€šä¿¡ï¼ˆ86 ä¸ªå¤„ç†å™¨ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                  CoworkOrchestrator                         â”‚  â”‚
â”‚  â”‚            (æ™ºèƒ½å•/å¤šä»£ç†å†³ç­–å¼•æ“)                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚       â”‚              â”‚              â”‚              â”‚              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚Teammate  â”‚  â”‚ FileSandboxâ”‚  â”‚LongRunning   â”‚  â”‚ AgentPool â”‚ â”‚
â”‚  â”‚Tool      â”‚  â”‚            â”‚  â”‚TaskManager   â”‚  â”‚           â”‚ â”‚
â”‚  â”‚          â”‚  â”‚ 5å±‚å®‰å…¨    â”‚  â”‚              â”‚  â”‚ æ± åŒ–å¤ç”¨  â”‚ â”‚
â”‚  â”‚ 13æ“ä½œ   â”‚  â”‚ 20+æ¨¡å¼   â”‚  â”‚ æ™ºèƒ½æ£€æŸ¥ç‚¹   â”‚  â”‚ è‡ªåŠ¨æ‰©ç¼©  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚       â”‚              â”‚              â”‚              â”‚              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    Skills æ¡†æ¶ (90 å†…ç½®æŠ€èƒ½)                  â”‚  â”‚
â”‚  â”‚         å››å±‚åŠ è½½ | æ‡’åŠ è½½ | é—¨æ§æ£€æŸ¥ | çƒ­åŠ è½½/çƒ­å¸è½½           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚       â”‚              â”‚              â”‚              â”‚              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚Pipeline  â”‚  â”‚ Workflow   â”‚  â”‚ Metrics      â”‚  â”‚Git Hooks  â”‚ â”‚
â”‚  â”‚Engine    â”‚  â”‚ Engine     â”‚  â”‚ Collector    â”‚  â”‚Runner     â”‚ â”‚
â”‚  â”‚          â”‚  â”‚            â”‚  â”‚              â”‚  â”‚           â”‚ â”‚
â”‚  â”‚5æ­¥éª¤ç±»å‹ â”‚  â”‚Vue Flow   â”‚  â”‚å®æ—¶é‡‡é›†     â”‚  â”‚pre-commit â”‚ â”‚
â”‚  â”‚10ä¸ªæ¨¡æ¿  â”‚  â”‚8èŠ‚ç‚¹ç±»å‹  â”‚  â”‚æ—¶é—´åºåˆ—     â”‚  â”‚å½±å“åˆ†æ   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   æ•°æ®æŒä¹…å±‚                                 â”‚  â”‚
â”‚  â”‚    SQLite/SQLCipher (11 å¼ è¡¨) + æ–‡ä»¶ç³»ç»Ÿ + å†…å­˜ç¼“å­˜          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          Electron Main Process                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®åº“ Schema

**11 å¼ æ ¸å¿ƒè¡¨**:

| è¡¨å                         | ç”¨é€”         | å…³é”®å­—æ®µ                                                  |
| ---------------------------- | ------------ | --------------------------------------------------------- |
| `cowork_teams`               | å›¢é˜Ÿä¿¡æ¯     | id, name, status, max_agents, metadata (JSON)             |
| `cowork_agents`              | ä»£ç†ä¿¡æ¯     | id, team_id, name, status, assigned_task                  |
| `cowork_tasks`               | ä»»åŠ¡ä¿¡æ¯     | id, team_id, assigned_to, status, priority, result (JSON) |
| `cowork_messages`            | æ¶ˆæ¯è®°å½•     | id, team_id, from_agent, to_agent, message (JSON)         |
| `cowork_decisions`           | æŠ•ç¥¨è®°å½•     | id, team_id, decision_data (JSON), votes (JSON), passed   |
| `cowork_checkpoints`         | æ£€æŸ¥ç‚¹       | id, team_id, task_id, checkpoint_data (JSON)              |
| `cowork_sandbox_permissions` | æ–‡ä»¶æƒé™     | id, team_id, path, permission, expires_at, is_active      |
| `cowork_audit_log`           | å®¡è®¡æ—¥å¿—     | team_id, agent_id, operation, resource_path, success      |
| `cowork_metrics`             | æ€§èƒ½æŒ‡æ ‡     | team_id, metric_name, metric_value, timestamp             |
| `skill_execution_metrics`    | æŠ€èƒ½æ‰§è¡ŒæŒ‡æ ‡ | id, skill_id, pipeline_id, duration_ms, tokens, cost_usd  |
| `skill_pipeline_definitions` | æµæ°´çº¿å®šä¹‰   | id, name, category, definition_json, execution_count      |

**ç´¢å¼•**:

- `cowork_teams`: status, created_at
- `cowork_agents`: team_id, status
- `cowork_tasks`: team_id, status, assigned_to
- `cowork_messages`: team_id, timestamp
- `cowork_audit_log`: team_id, agent_id, timestamp

## IPC æ¥å£å®Œæ•´åˆ—è¡¨

Cowork ç³»ç»Ÿå…±æä¾› **97 ä¸ª IPC å¤„ç†å™¨**ï¼Œåˆ†ä¸º 12 å¤§ç±»ï¼š

### TeammateTool æ“ä½œï¼ˆ15 ä¸ªï¼‰

| é€šé“                                | åŠŸèƒ½           |
| ----------------------------------- | -------------- |
| `cowork:create-team`                | åˆ›å»ºå›¢é˜Ÿ       |
| `cowork:discover-teams`             | å‘ç°/åˆ—å‡ºå›¢é˜Ÿ  |
| `cowork:request-join`               | ä»£ç†åŠ å…¥å›¢é˜Ÿ   |
| `cowork:assign-task`                | åˆ†é…ä»»åŠ¡       |
| `cowork:broadcast-message`          | å›¢é˜Ÿå¹¿æ’­       |
| `cowork:send-message`               | ç§ä¿¡           |
| `cowork:vote-on-decision`           | æŠ•ç¥¨å†³ç­–       |
| `cowork:get-team-status`            | æŸ¥è¯¢å›¢é˜ŸçŠ¶æ€   |
| `cowork:terminate-agent`            | ç»ˆæ­¢ä»£ç†       |
| `cowork:merge-results`              | åˆå¹¶å¤šä»£ç†ç»“æœ |
| `cowork:create-checkpoint`          | åˆ›å»ºå›¢é˜Ÿæ£€æŸ¥ç‚¹ |
| `cowork:list-members`               | åˆ—å‡ºå›¢é˜Ÿæˆå‘˜   |
| `cowork:update-team-config`         | æ›´æ–°å›¢é˜Ÿé…ç½®   |
| `cowork:destroy-team`               | é”€æ¯å›¢é˜Ÿ       |
| `cowork:pause-team` / `resume-team` | æš‚åœ/æ¢å¤å›¢é˜Ÿ  |

### FileSandbox æ“ä½œï¼ˆ11 ä¸ªï¼‰

| é€šé“                          | åŠŸèƒ½               |
| ----------------------------- | ------------------ |
| `cowork:request-file-access`  | è¯·æ±‚æ–‡ä»¶è®¿é—®æƒé™   |
| `cowork:grant-file-access`    | æˆäºˆæ–‡ä»¶è®¿é—®æƒé™   |
| `cowork:revoke-file-access`   | æ’¤é”€æ–‡ä»¶è®¿é—®æƒé™   |
| `cowork:validate-file-access` | éªŒè¯æ–‡ä»¶è®¿é—®æƒé™   |
| `cowork:read-file`            | è¯»å–æ–‡ä»¶ï¼ˆå«å®¡è®¡ï¼‰ |
| `cowork:write-file`           | å†™å…¥æ–‡ä»¶ï¼ˆå«å®¡è®¡ï¼‰ |
| `cowork:delete-file`          | åˆ é™¤æ–‡ä»¶ï¼ˆå«å®¡è®¡ï¼‰ |
| `cowork:list-directory`       | åˆ—å‡ºç›®å½•å†…å®¹       |
| `cowork:get-allowed-paths`    | è·å–å·²æˆæƒè·¯å¾„     |
| `cowork:get-audit-log`        | æŸ¥è¯¢å®¡è®¡æ—¥å¿—       |
| `cowork:get-sandbox-stats`    | æ²™ç®±ç»Ÿè®¡ä¿¡æ¯       |

### é•¿æ—¶ä»»åŠ¡æ“ä½œï¼ˆ9 ä¸ªï¼‰

| é€šé“                             | åŠŸèƒ½             |
| -------------------------------- | ---------------- |
| `cowork:create-long-task`        | åˆ›å»ºé•¿æ—¶ä»»åŠ¡     |
| `cowork:start-task`              | å¯åŠ¨ä»»åŠ¡         |
| `cowork:pause-task`              | æš‚åœä»»åŠ¡         |
| `cowork:resume-task`             | æ¢å¤ä»»åŠ¡         |
| `cowork:cancel-task`             | å–æ¶ˆä»»åŠ¡         |
| `cowork:get-task-status`         | æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€     |
| `cowork:get-active-tasks`        | è·å–æ´»åŠ¨ä»»åŠ¡åˆ—è¡¨ |
| `cowork:restore-from-checkpoint` | ä»æ£€æŸ¥ç‚¹æ¢å¤     |
| `cowork:get-task-manager-stats`  | ä»»åŠ¡ç®¡ç†å™¨ç»Ÿè®¡   |

### Skills æ“ä½œï¼ˆ10 ä¸ªï¼‰

| é€šé“                              | åŠŸèƒ½            |
| --------------------------------- | --------------- |
| `cowork:execute-skill`            | æ‰§è¡ŒæŒ‡å®šæŠ€èƒ½    |
| `cowork:auto-execute-task`        | AI è‡ªåŠ¨é€‰æ‹©æŠ€èƒ½ |
| `cowork:find-skills-for-task`     | æŸ¥æ‰¾åŒ¹é…æŠ€èƒ½    |
| `cowork:get-all-skills`           | è·å–æ‰€æœ‰æŠ€èƒ½    |
| `cowork:get-skill-stats`          | æŠ€èƒ½ä½¿ç”¨ç»Ÿè®¡    |
| `cowork:get-skill-sources`        | æŠ€èƒ½åŠ è½½è·¯å¾„    |
| `cowork:reload-skills`            | é‡æ–°åŠ è½½æŠ€èƒ½    |
| `cowork:get-invocable-skills`     | è·å–å¯è°ƒç”¨æŠ€èƒ½  |
| `cowork:check-skill-requirements` | æ£€æŸ¥æŠ€èƒ½ä¾èµ–    |
| `cowork:get-skill-definition`     | è·å–æŠ€èƒ½å®šä¹‰    |

### åˆ†æä¸ç»Ÿè®¡ï¼ˆ6 ä¸ªï¼‰

| é€šé“                      | åŠŸèƒ½                  |
| ------------------------- | --------------------- |
| `cowork:get-stats`        | å…¨å±€ç»Ÿè®¡ä¿¡æ¯          |
| `cowork:get-analytics`    | é«˜çº§åˆ†ææ•°æ®          |
| `cowork:set-log-level`    | è®¾ç½®æ—¥å¿—çº§åˆ«          |
| `cowork:get-logs`         | è·å–æ“ä½œæ—¥å¿—          |
| `cowork:decide-execution` | æ™ºèƒ½å†³ç­–ï¼ˆå•/å¤šä»£ç†ï¼‰ |
| `cowork:get-config`       | è·å–ç³»ç»Ÿé…ç½®          |

### Pipeline æ“ä½œï¼ˆ12 ä¸ªï¼‰â€” v1.1.0 æ–°å¢

| é€šé“                     | åŠŸèƒ½           |
| ------------------------ | -------------- |
| `pipeline:create`        | åˆ›å»ºæµæ°´çº¿     |
| `pipeline:execute`       | æ‰§è¡Œæµæ°´çº¿     |
| `pipeline:get-status`    | æŸ¥è¯¢æ‰§è¡ŒçŠ¶æ€   |
| `pipeline:pause`         | æš‚åœæµæ°´çº¿æ‰§è¡Œ |
| `pipeline:resume`        | æ¢å¤æµæ°´çº¿æ‰§è¡Œ |
| `pipeline:cancel`        | å–æ¶ˆæµæ°´çº¿æ‰§è¡Œ |
| `pipeline:list`          | åˆ—å‡ºæ‰€æœ‰æµæ°´çº¿ |
| `pipeline:get`           | è·å–æµæ°´çº¿å®šä¹‰ |
| `pipeline:save`          | ä¿å­˜æµæ°´çº¿     |
| `pipeline:delete`        | åˆ é™¤æµæ°´çº¿     |
| `pipeline:get-templates` | è·å–é¢„ç½®æ¨¡æ¿   |
| `pipeline:get-stats`     | æµæ°´çº¿ç»Ÿè®¡     |

### Skill Metrics æ“ä½œï¼ˆ5 ä¸ªï¼‰â€” v1.1.0 æ–°å¢

| é€šé“                          | åŠŸèƒ½           |
| ----------------------------- | -------------- |
| `skills:get-metrics`          | è·å–æŠ€èƒ½æŒ‡æ ‡   |
| `skills:get-pipeline-metrics` | è·å–æµæ°´çº¿æŒ‡æ ‡ |
| `skills:get-top-skills`       | Top æŠ€èƒ½æ’è¡Œ   |
| `skills:get-time-series`      | æ—¶é—´åºåˆ—æ•°æ®   |
| `skills:export-metrics`       | å¯¼å‡ºå…¨é‡æŒ‡æ ‡   |

### Workflow æ“ä½œï¼ˆ10 ä¸ªï¼‰â€” v1.1.0 æ–°å¢

| é€šé“                       | åŠŸèƒ½           |
| -------------------------- | -------------- |
| `workflow:create`          | åˆ›å»ºå·¥ä½œæµ     |
| `workflow:update`          | æ›´æ–°å·¥ä½œæµ     |
| `workflow:execute`         | æ‰§è¡Œå·¥ä½œæµ     |
| `workflow:get`             | è·å–å·¥ä½œæµ     |
| `workflow:list`            | åˆ—å‡ºæ‰€æœ‰å·¥ä½œæµ |
| `workflow:delete`          | åˆ é™¤å·¥ä½œæµ     |
| `workflow:save`            | ä¿å­˜å·¥ä½œæµ     |
| `workflow:import-pipeline` | ä»æµæ°´çº¿å¯¼å…¥   |
| `workflow:export-pipeline` | å¯¼å‡ºä¸ºæµæ°´çº¿   |
| `workflow:get-templates`   | è·å–å·¥ä½œæµæ¨¡æ¿ |

### Git Hooks æ“ä½œï¼ˆ8 ä¸ªï¼‰â€” v1.1.0 æ–°å¢

| é€šé“                       | åŠŸèƒ½            |
| -------------------------- | --------------- |
| `git-hooks:run-pre-commit` | æ‰§è¡Œ pre-commit |
| `git-hooks:run-impact`     | å½±å“èŒƒå›´åˆ†æ    |
| `git-hooks:run-auto-fix`   | è‡ªåŠ¨ä¿®å¤        |
| `git-hooks:get-config`     | è·å–é…ç½®        |
| `git-hooks:set-config`     | æ›´æ–°é…ç½®        |
| `git-hooks:get-history`    | è·å–æ‰§è¡Œå†å²    |
| `git-hooks:get-stats`      | è·å–ç»Ÿè®¡        |
| `git-hooks:install-hooks`  | å®‰è£… Git Hooks  |

### Unified Tools å¢å¼ºï¼ˆ2 ä¸ªï¼‰â€” v1.1.0 æ–°å¢

| é€šé“                    | åŠŸèƒ½               |
| ----------------------- | ------------------ |
| `tools:execute-by-name` | ç»Ÿä¸€æ‰§è¡Œä»»æ„å·¥å…·   |
| `tools:get-executors`   | åˆ—å‡ºå·¥å…·æ‰§è¡Œå™¨ä¿¡æ¯ |

### Instinct Learning æ“ä½œï¼ˆ11 ä¸ªï¼‰â€” v1.2.0 æ–°å¢

| é€šé“                    | åŠŸèƒ½                          |
| ----------------------- | ----------------------------- |
| `instinct:get-all`      | è·å–æ‰€æœ‰ instinctï¼ˆæ”¯æŒè¿‡æ»¤ï¼‰ |
| `instinct:get-relevant` | ä¸Šä¸‹æ–‡æ„ŸçŸ¥æ£€ç´¢ç›¸å…³ instinct   |
| `instinct:add`          | æ‰‹åŠ¨æ·»åŠ  instinct             |
| `instinct:update`       | æ›´æ–° instinct å­—æ®µ            |
| `instinct:delete`       | åˆ é™¤ instinct                 |
| `instinct:reinforce`    | å¼ºåŒ–ç½®ä¿¡åº¦ï¼ˆæˆåŠŸä½¿ç”¨æ—¶ï¼‰      |
| `instinct:decay`        | è¡°å‡ç½®ä¿¡åº¦ï¼ˆå¤±è´¥/é—²ç½®æ—¶ï¼‰     |
| `instinct:evolve`       | è§¦å‘æ¨¡å¼è¿›åŒ–ï¼ˆè§‚æµ‹â†’æå–ï¼‰     |
| `instinct:export`       | å¯¼å‡ºå…¨éƒ¨ instinct ä¸º JSON     |
| `instinct:import`       | ä» JSON å¯¼å…¥ instinct         |
| `instinct:get-stats`    | è·å– instinct ç³»ç»Ÿç»Ÿè®¡        |

### P2P Agent Networkï¼ˆ9 ä¸ªï¼‰â€” v2.0.0 æ–°å¢

| é€šé“                          | åŠŸèƒ½                 |
| ----------------------------- | -------------------- |
| `p2p-agent:get-remote-agents` | è·å–è¿œç¨‹ä»£ç†åˆ—è¡¨     |
| `p2p-agent:find-for-skill`    | æŒ‰æŠ€èƒ½æŸ¥æ‰¾è¿œç¨‹ä»£ç†   |
| `p2p-agent:delegate-task`     | å§”æ´¾ä»»åŠ¡åˆ°è¿œç¨‹       |
| `p2p-agent:cancel-task`       | å–æ¶ˆè¿œç¨‹ä»»åŠ¡         |
| `p2p-agent:query-skill`       | å¹¿æ’­æŸ¥è¯¢è¿œç¨‹æŠ€èƒ½     |
| `p2p-agent:invite-to-team`    | é‚€è¯·è¿œç¨‹ä»£ç†åŠ å…¥å›¢é˜Ÿ |
| `p2p-agent:sync-team`         | åŒæ­¥å›¢é˜ŸçŠ¶æ€åˆ°è¿œç¨‹   |
| `p2p-agent:announce`          | å¹¿æ’­æœ¬åœ°è®¾å¤‡åœ¨çº¿     |
| `p2p-agent:get-stats`         | P2P ç½‘ç»œç»Ÿè®¡         |

### Device Discoveryï¼ˆ5 ä¸ªï¼‰â€” v2.0.0 æ–°å¢

| é€šé“                        | åŠŸèƒ½               |
| --------------------------- | ------------------ |
| `device:get-all`            | è·å–æ‰€æœ‰è®¾å¤‡       |
| `device:get-by-id`          | è·å–æŒ‡å®šè®¾å¤‡è¯¦æƒ…   |
| `device:find-for-skill`     | æŒ‰æŠ€èƒ½æŸ¥æ‰¾æœ€ä¼˜è®¾å¤‡ |
| `device:get-network-skills` | å…¨ç½‘ç»œæŠ€èƒ½ç›®å½•     |
| `device:get-stats`          | è®¾å¤‡å‘ç°ç»Ÿè®¡       |

### Hybrid Executorï¼ˆ3 ä¸ªï¼‰â€” v2.0.0 æ–°å¢

| é€šé“                   | åŠŸèƒ½             |
| ---------------------- | ---------------- |
| `hybrid:execute`       | æ™ºèƒ½è·¯ç”±æ‰§è¡Œä»»åŠ¡ |
| `hybrid:execute-batch` | æ‰¹é‡è´Ÿè½½å‡è¡¡æ‰§è¡Œ |
| `hybrid:get-stats`     | æ‰§è¡Œå™¨ç»Ÿè®¡       |

### Computer Use Bridgeï¼ˆ6 ä¸ªï¼‰â€” v2.0.0 æ–°å¢

| é€šé“                         | åŠŸèƒ½             |
| ---------------------------- | ---------------- |
| `cu-bridge:execute`          | æ‰§è¡Œ CU å·¥å…·     |
| `cu-bridge:share-recording`  | å…±äº«å½•åˆ¶         |
| `cu-bridge:list-recordings`  | åˆ—å‡ºå…±äº«å½•åˆ¶     |
| `cu-bridge:replay-recording` | å›æ”¾å…±äº«å½•åˆ¶     |
| `cu-bridge:get-permissions`  | è·å–ä»£ç† CU æƒé™ |
| `cu-bridge:get-stats`        | CU Bridge ç»Ÿè®¡   |

### Cowork API Serverï¼ˆ4 ä¸ªï¼‰â€” v2.0.0 æ–°å¢

| é€šé“                       | åŠŸèƒ½          |
| -------------------------- | ------------- |
| `cowork-api:start`         | å¯åŠ¨ API æœåŠ¡ |
| `cowork-api:stop`          | åœæ­¢ API æœåŠ¡ |
| `cowork-api:get-status`    | è·å–æœåŠ¡çŠ¶æ€  |
| `cowork-api:broadcast-sse` | å¹¿æ’­ SSE äº‹ä»¶ |

### Webhook Managerï¼ˆ7 ä¸ªï¼‰â€” v2.0.0 æ–°å¢

| é€šé“                       | åŠŸèƒ½              |
| -------------------------- | ----------------- |
| `webhook:register`         | æ³¨å†Œ Webhook      |
| `webhook:unregister`       | åˆ é™¤ Webhook      |
| `webhook:update`           | æ›´æ–° Webhook é…ç½® |
| `webhook:list`             | åˆ—å‡ºæ‰€æœ‰ Webhook  |
| `webhook:dispatch`         | æ‰‹åŠ¨æ´¾å‘äº‹ä»¶      |
| `webhook:get-delivery-log` | è·å–æŠ•é€’æ—¥å¿—      |
| `webhook:get-stats`        | Webhook ç»Ÿè®¡      |

## Instinct Learning System â€” v1.2.0

Instinct å­¦ä¹ ç³»ç»Ÿè‡ªåŠ¨ä»ç”¨æˆ·ä¼šè¯ä¸­æå–å¯å¤ç”¨æ¨¡å¼ï¼ˆ"æœ¬èƒ½"ï¼‰ï¼Œé€šè¿‡ Hooks è§‚å¯Ÿå­˜å…¥æ°¸ä¹…è®°å¿†ï¼Œå¹¶åœ¨æœªæ¥ä¼šè¯ä¸­æ³¨å…¥ç›¸å…³ instinct ä¸Šä¸‹æ–‡ã€‚çµæ„Ÿæºè‡ª everything-claude-code çš„ instinct learning æ¨¡å¼ã€‚

### æ ¸å¿ƒæ¦‚å¿µ

```
ç”¨æˆ·ä¼šè¯è¡Œä¸º
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Hook è§‚å¯Ÿå™¨       â”‚ â”€â”€ ç›‘å¬: PostToolUse, PreCompact ç­‰äº‹ä»¶
â”‚ (observationBuffer)â”‚     ç¼“å†²åŒº: 50 æ¡ä¸Šé™ï¼Œ1 åˆ†é’Ÿå®šæœŸåˆ·æ–°
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è§‚æµ‹æ•°æ®åº“        â”‚ â”€â”€ instinct_observations è¡¨
â”‚ (SQLite)         â”‚     å­—æ®µ: event_type, event_data, processed
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¨¡å¼è¿›åŒ–å¼•æ“      â”‚ â”€â”€ æŒ‰äº‹ä»¶ç±»å‹åˆ†ç»„ï¼Œæå–é‡å¤æ¨¡å¼
â”‚ (evolveInstincts) â”‚     å·¥å…·åå¥½ã€é”™è¯¯æ¨¡å¼ã€å·¥ä½œæµåºåˆ—
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Instinct ç¼“å­˜     â”‚ â”€â”€ å†…å­˜ä¸­ Mapï¼ŒDB æŒä¹…åŒ–
â”‚ (instinctCache)   â”‚     å­—æ®µ: pattern, confidence, category
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¸Šä¸‹æ–‡æ³¨å…¥        â”‚ â”€â”€ ContextEngineering è‡ªåŠ¨æ³¨å…¥åˆ° LLM Prompt
â”‚ (buildInstinctContext)â”‚  ç½®ä¿¡åº¦ â‰¥ 0.3 çš„ instinct æŒ‰ç›¸å…³åº¦æ’åº
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Instinct åˆ†ç±»

| åˆ†ç±»            | æ ‡è¯†              | è¯´æ˜               |
| --------------- | ----------------- | ------------------ |
| Coding Pattern  | `coding-pattern`  | ç¼–ç ä¹ æƒ¯å’Œä»£ç æ¨¡å¼ |
| Tool Preference | `tool-preference` | å·¥å…·ä½¿ç”¨åå¥½       |
| Workflow        | `workflow`        | å·¥ä½œæµå’Œå·¥å…·åºåˆ—   |
| Error Fix       | `error-fix`       | é”™è¯¯ä¿®å¤æ¨¡å¼       |
| Style           | `style`           | ä»£ç é£æ ¼åå¥½       |
| Architecture    | `architecture`    | æ¶æ„å†³ç­–æ¨¡å¼       |
| Testing         | `testing`         | æµ‹è¯•ç­–ç•¥å’Œæ¨¡å¼     |
| General         | `general`         | é€šç”¨æ¨¡å¼           |

### ç½®ä¿¡åº¦ç³»ç»Ÿ

```
ç½®ä¿¡åº¦èŒƒå›´: [0.1, 0.95]    é»˜è®¤: 0.5

å¼ºåŒ– (reinforce):
  newConfidence = min(0.95, current + 0.05 Ã— (1 - current))
  ä½¿ç”¨æ¬¡æ•° +1, æ›´æ–° lastUsed

è¡°å‡ (decay):
  newConfidence = max(0.1, current Ã— 0.9)

æ£€ç´¢è¿‡æ»¤: ä»… confidence â‰¥ 0.3 çš„ instinct å‚ä¸ä¸Šä¸‹æ–‡åŒ¹é…
```

### æ¨¡å¼è¿›åŒ–

`evolveInstincts()` ä»æœªå¤„ç†çš„è§‚æµ‹ä¸­æå–ä¸‰ç±»æ¨¡å¼ï¼š

| æ¨¡å¼ç±»å‹     | æå–æ¡ä»¶            | åˆå§‹ç½®ä¿¡åº¦         |
| ------------ | ------------------- | ------------------ |
| å·¥å…·ä½¿ç”¨é¢‘ç‡ | åŒä¸€å·¥å…·ä½¿ç”¨ â‰¥ 3 æ¬¡ | 0.3 + count Ã— 0.05 |
| å·¥å…·åºåˆ—     | è¿ç»­ â‰¥ 3 ä¸ªå·¥å…·è°ƒç”¨ | 0.35               |
| é‡å¤é”™è¯¯     | åŒç±»é”™è¯¯å‡ºç° â‰¥ 2 æ¬¡ | 0.3 + count Ã— 0.10 |

### ä¸Šä¸‹æ–‡æ³¨å…¥

InstinctManager é€šè¿‡ `ContextEngineering.setInstinctManager()` æ³¨å…¥ï¼Œåœ¨ KV-Cache ä¼˜åŒ– Prompt æ„å»ºæ—¶è‡ªåŠ¨æ·»åŠ å·²å­¦ä¹ æ¨¡å¼ï¼š

```javascript
// ContextEngineering ç¬¬ 4.5 æ­¥ï¼šæ³¨å…¥ Instinct ä¸Šä¸‹æ–‡
const instinctContext = instinctManager.buildInstinctContext(contextHint, 5);
// è¾“å‡ºç¤ºä¾‹:
// ## Learned Patterns (Instincts)
// - [tool-preference] (confidence: 0.72) User frequently uses tool "file_reader"
// - [workflow] (confidence: 0.35) Common tool sequence: file_reader â†’ code_analyzer â†’ file_writer
```

### æ•°æ®åº“ Schema

```sql
CREATE TABLE instincts (
  id TEXT PRIMARY KEY,
  pattern TEXT NOT NULL,
  confidence REAL DEFAULT 0.5,
  category TEXT DEFAULT 'general',
  examples TEXT DEFAULT '[]',
  source TEXT DEFAULT 'auto',       -- auto | manual | import
  use_count INTEGER DEFAULT 0,
  last_used TEXT,
  created_at TEXT,
  updated_at TEXT
);

CREATE TABLE instinct_observations (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  event_type TEXT NOT NULL,          -- PostToolUse, IPCError, SessionEnd ç­‰
  event_data TEXT DEFAULT '{}',
  processed INTEGER DEFAULT 0,
  created_at TEXT
);
```

### å…³é”®æ–‡ä»¶

| æ–‡ä»¶                                  | è¡Œæ•°   | èŒè´£                      |
| ------------------------------------- | ------ | ------------------------- |
| `src/main/llm/instinct-manager.js`    | ~1,100 | Instinct ç®¡ç†æ ¸å¿ƒ         |
| `src/main/llm/instinct-ipc.js`        | ~280   | 11 ä¸ª IPC Handler         |
| `src/main/llm/context-engineering.js` | +35    | Instinct ä¸Šä¸‹æ–‡æ³¨å…¥é›†æˆ   |
| `src/main/database.js`                | +30    | instincts/observations è¡¨ |
| `src/main/ipc/ipc-registry.js`        | +44    | Phase 17 æ³¨å†Œ             |

## Orchestrate Workflow â€” v1.2.0

å¤šä»£ç†å·¥ä½œæµç¼–æ’æŠ€èƒ½ï¼Œæä¾› 4 ç§é¢„ç½®å·¥ä½œæµæ¨¡æ¿ï¼Œæ¯ä¸ªæ¨¡æ¿åŒ…å«æœ‰åºçš„ä»£ç†é“¾å’Œç»“æ„åŒ–äº¤æ¥åè®®ã€‚çµæ„Ÿæºè‡ª everything-claude-code çš„ orchestrate æ¨¡å¼ã€‚

### å·¥ä½œæµæ¨¡æ¿

| æ¨¡æ¿             | ä»£ç†é“¾                                                       | ç”¨é€”         |
| ---------------- | ------------------------------------------------------------ | ------------ |
| `feature`        | planner â†’ architect â†’ coder â†’ reviewer â†’ verification        | æ–°åŠŸèƒ½å¼€å‘   |
| `bugfix`         | debugger â†’ coder â†’ tester â†’ verification                     | Bug è¯Šæ–­ä¿®å¤ |
| `refactor`       | architect â†’ coder â†’ reviewer â†’ verification                  | ä»£ç é‡æ„     |
| `security-audit` | security-reviewer â†’ coder â†’ security-verifier â†’ verification | å®‰å…¨å®¡è®¡ä¿®å¤ |

### ä½¿ç”¨æ–¹å¼

```bash
/orchestrate feature "add user profile page"
/orchestrate bugfix "login fails with special characters"
/orchestrate refactor "extract auth module"
/orchestrate security-audit "review API endpoints"
```

### ä»£ç†äº¤æ¥åè®®

æ¯ä¸ªä»£ç†å®Œæˆåç”Ÿæˆç»“æ„åŒ–äº¤æ¥æ–‡æ¡£ï¼Œä¼ é€’ç»™ä¸‹ä¸€ä¸ªä»£ç†ï¼š

```json
{
  "agent": "planner",
  "agentType": "document",
  "status": "complete",
  "deliverables": ["requirements.md", "acceptance-criteria.md"],
  "decisions": ["Use Vue 3 composables", "Add Pinia store"],
  "concerns": ["Performance impact on large datasets"],
  "nextAgentInstructions": "Implement based on requirements..."
}
```

### æ‰§è¡Œæ¨¡å¼

```
1. AgentCoordinator å¯ç”¨ â†’ é€šè¿‡ coordinator.orchestrate() çœŸå®ä»£ç†æ‰§è¡Œ
2. AgentCoordinator ä¸å¯ç”¨ â†’ ç»“æ„åŒ–æ¨¡æ‹Ÿè¾“å‡ºï¼ˆæ ‡æ³¨ä»£ç†è§’è‰²å’Œé¢„æœŸè¡Œä¸ºï¼‰
3. æœ€ç»ˆé˜¶æ®µ â†’ è‡ªåŠ¨è°ƒç”¨ verification-loop handler æ‰§è¡ŒéªŒè¯
```

### è£å†³ç­‰çº§

| è£å†³           | æ¡ä»¶                           |
| -------------- | ------------------------------ |
| **SHIP**       | æ‰€æœ‰ä»£ç†æˆåŠŸä¸”éªŒè¯é€šè¿‡         |
| **NEEDS WORK** | ä»£ç†æ ‡è®°äº† concerns æˆ–éªŒè¯å¤±è´¥ |
| **BLOCKED**    | ééªŒè¯é˜¶æ®µå‘ç”Ÿå…³é”®å¤±è´¥         |

### å…³é”®æ–‡ä»¶

| æ–‡ä»¶                                                              | è¡Œæ•° | èŒè´£         |
| ----------------------------------------------------------------- | ---- | ------------ |
| `src/main/ai-engine/cowork/skills/builtin/orchestrate/SKILL.md`   | ~112 | æŠ€èƒ½å®šä¹‰     |
| `src/main/ai-engine/cowork/skills/builtin/orchestrate/handler.js` | ~507 | ç¼–æ’å¼•æ“å®ç° |

## Verification Loop â€” v1.2.0

6 é˜¶æ®µè‡ªåŠ¨åŒ–éªŒè¯æµæ°´çº¿ï¼Œäº§å‡º READY / NOT READY è£å†³ã€‚è‡ªåŠ¨æ£€æµ‹é¡¹ç›®ç±»å‹ï¼ˆNode.js / TypeScript / Python / Javaï¼‰å¹¶é€‚é…å¯¹åº”çš„æ„å»ºã€æ£€æŸ¥ã€æµ‹è¯•å‘½ä»¤ã€‚

### éªŒè¯é˜¶æ®µ

| é˜¶æ®µ       | åŠŸèƒ½                     | å·¥å…· / å‘½ä»¤                                  |
| ---------- | ------------------------ | -------------------------------------------- |
| Build      | ç¼–è¯‘ / æ‰“åŒ…é¡¹ç›®          | `npm run build` / `mvn compile`              |
| TypeCheck  | é™æ€ç±»å‹æ£€æŸ¥             | `tsc --noEmit` / `mypy`                      |
| Lint       | ä»£ç é£æ ¼æ£€æŸ¥             | `eslint` / `flake8`                          |
| Test       | æ‰§è¡Œæµ‹è¯•å¥—ä»¶             | `vitest` / `jest` / `pytest`                 |
| Security   | å®‰å…¨æ‰«æ                 | å§”æ‰˜ `security-audit` handler                |
| DiffReview | AI å®¡æŸ¥æœªæäº¤çš„ git diff | æ£€æµ‹ console.logã€debuggerã€TODOã€ç¡¬ç¼–ç å‡­æ® |

### ä½¿ç”¨æ–¹å¼

```bash
/verification-loop                           # å…¨éƒ¨ 6 é˜¶æ®µ
/verification-loop src/ --skip typecheck     # è·³è¿‡ç±»å‹æ£€æŸ¥
/verification-loop --stages build,test,security  # ä»…æŒ‡å®šé˜¶æ®µ
/verification-loop --verbose                 # æ˜¾ç¤ºè¯¦ç»†è¾“å‡º
```

### é¡¹ç›®ç±»å‹æ£€æµ‹

```
package.json å­˜åœ¨ï¼Ÿ
  â”œâ”€â”€ æ˜¯ â†’ tsconfig.json æˆ– typescript ä¾èµ–ï¼Ÿ
  â”‚       â”œâ”€â”€ æ˜¯ â†’ TypeScript
  â”‚       â””â”€â”€ å¦ â†’ Node.js
  â”œâ”€â”€ pom.xml / build.gradleï¼Ÿ
  â”‚       â””â”€â”€ æ˜¯ â†’ Java
  â””â”€â”€ pyproject.toml / setup.py / requirements.txtï¼Ÿ
          â””â”€â”€ æ˜¯ â†’ Python
```

### DiffReview æ£€æµ‹è§„åˆ™

| æ£€æµ‹é¡¹          | æ­£åˆ™ / é€»è¾‘                                              |
| --------------- | -------------------------------------------------------- |
| console.log     | `/console\.log\s*\(/`                                    |
| debugger è¯­å¥   | `/debugger\b/`                                           |
| TODO/FIXME æ³¨é‡Š | `/TODO\|FIXME\|HACK\|XXX/`                               |
| ç¡¬ç¼–ç å‡­æ®      | `/(?:password\|secret\|token)\s*[:=]\s*['"][^'"]+['"]/i` |

### è¾“å‡ºç¤ºä¾‹

```
Verification Loop Report
========================
Project: desktop-app-vue (typescript)

| Stage      | Status | Duration | Details          |
| ---------- | ------ | -------- | ---------------- |
| build      | PASS   | 12.3s    | Clean build      |
| typecheck  | PASS   | 4.1s     | 0 type errors    |
| lint       | PASS   | 2.8s     | 0 lint issues    |
| test       | PASS   | 8.5s     | 157 tests passed |
| security   | PASS   | 1.2s     | 0 findings       |
| diffreview | PASS   | 0.3s     | 5 file(s) changed, no issues |

Stages: 6 passed, 0 failed, 0 skipped (6 active)
Duration: 29.2s

Verdict: READY
```

### å…³é”®æ–‡ä»¶

| æ–‡ä»¶                                                                    | è¡Œæ•° | èŒè´£         |
| ----------------------------------------------------------------------- | ---- | ------------ |
| `src/main/ai-engine/cowork/skills/builtin/verification-loop/SKILL.md`   | ~118 | æŠ€èƒ½å®šä¹‰     |
| `src/main/ai-engine/cowork/skills/builtin/verification-loop/handler.js` | ~547 | éªŒè¯å¼•æ“å®ç° |

## å‰ç«¯é›†æˆ

### CoworkDashboard é¡µé¢

```vue
<template>
  <CoworkDashboard />
</template>

<script setup>
import CoworkDashboard from "@/pages/CoworkDashboard.vue";
</script>
```

**åŠŸèƒ½æ¨¡å—**:

- **å…¨å±€ç»Ÿè®¡å¡ç‰‡**: å›¢é˜Ÿæ•° / æ´»è·ƒå›¢é˜Ÿ / è¿è¡Œä»»åŠ¡ / æˆåŠŸç‡
- **å›¢é˜Ÿæœç´¢ä¸è¿‡æ»¤**: å®æ—¶æœç´¢ + çŠ¶æ€ä¸‹æ‹‰è¿‡æ»¤ï¼ˆactive/paused/completed/failedï¼‰
- **å›¢é˜Ÿç½‘æ ¼**: å“åº”å¼å¸ƒå±€ï¼ˆ24xs, 12sm, 8md, 6lgï¼‰ï¼ŒTeamCard å¡ç‰‡å±•ç¤º
- **åˆ›å»ºå›¢é˜Ÿå¼¹çª—**: åç§°ã€æè¿°ã€æœ€å¤§ä»£ç†æ•°æ»‘å—(1-20)ã€åŠ¨æ€åŠ å…¥å¼€å…³ã€å…±è¯†é˜ˆå€¼(0.5-1.0)
- **å›¢é˜Ÿè¯¦æƒ…æŠ½å±‰**: 800px å³ä¾§æŠ½å±‰ï¼ŒTeamDetailPanel ç»„ä»¶
- **å¿«æ·æ“ä½œ**: æŸ¥çœ‹ä»»åŠ¡ã€ç®¡ç†æŠ€èƒ½ã€åˆ›å»ºå›¢é˜ŸæŒ‰é’®

### CoworkAnalytics é¡µé¢

```vue
<template>
  <CoworkAnalytics />
</template>

<script setup>
import CoworkAnalytics from "@/pages/CoworkAnalytics.vue";
</script>
```

**å›¾è¡¨ç»„ä»¶** (ECharts):

| å›¾è¡¨             | ç±»å‹      | è¯´æ˜                            |
| ---------------- | --------- | ------------------------------- |
| ä»»åŠ¡å®Œæˆè¶‹åŠ¿     | æŠ˜çº¿+æŸ±çŠ¶ | 30 å¤©å†å²æ•°æ®                   |
| ä»»åŠ¡çŠ¶æ€åˆ†å¸ƒ     | é¥¼å›¾      | active/completed/failed/pending |
| ä»£ç†åˆ©ç”¨ç‡çƒ­åŠ›å›¾ | çƒ­åŠ›å›¾    | 7 å¤© Ã— 24 å°æ—¶ä½¿ç”¨åˆ†å¸ƒ          |
| æŠ€èƒ½ä½¿ç”¨ç»Ÿè®¡     | æ°´å¹³æŸ±çŠ¶  | Top 6 çƒ­é—¨æŠ€èƒ½                  |
| ä»»åŠ¡æ‰§è¡Œæ—¶é—´çº¿   | ç”˜ç‰¹å›¾    | æŒ‰ä»£ç†å±•ç¤ºä»»åŠ¡è°ƒåº¦              |
| ä¼˜å…ˆçº§ä¸æ—¶é•¿     | æ•£ç‚¹å›¾    | 50 ç‚¹ç›¸å…³æ€§åˆ†æ                 |
| å›¢é˜Ÿç»©æ•ˆæ’å     | å †å æŸ±çŠ¶  | å®Œæˆ/å¤±è´¥ä»»åŠ¡å †å å¯¹æ¯”           |

**å®æ—¶ç›‘æ§é¢æ¿**: 3 ä¸ªä»ªè¡¨ç›˜æ¯ 3 ç§’åˆ·æ–°ï¼ˆç³»ç»Ÿè´Ÿè½½ã€ä»»åŠ¡é˜Ÿåˆ—ã€æˆåŠŸç‡ï¼‰

### ç»„ä»¶åˆ—è¡¨

| ç»„ä»¶                       | åŠŸèƒ½                                           |
| -------------------------- | ---------------------------------------------- |
| `TeamCard.vue`             | å›¢é˜Ÿå¡ç‰‡ï¼ˆçŠ¶æ€å¾½ç« ã€æˆå‘˜æ•°ã€æ“ä½œèœå•ï¼‰         |
| `TeamDetailPanel.vue`      | å›¢é˜Ÿè¯¦æƒ…ï¼ˆåŸºæœ¬ä¿¡æ¯ã€é…ç½®ã€æˆå‘˜ç®¡ç†ã€ä»»åŠ¡åˆ—è¡¨ï¼‰ |
| `TaskDetailPanel.vue`      | ä»»åŠ¡è¯¦æƒ…ï¼ˆè¿›åº¦æ¡ã€æ­¥éª¤ã€æ£€æŸ¥ç‚¹ï¼‰               |
| `SkillCard.vue`            | æŠ€èƒ½å¡ç‰‡ï¼ˆç±»å‹å¾½ç« ã€æ”¯æŒæ“ä½œã€æ–‡ä»¶ç±»å‹ï¼‰       |
| `SkillDetailPanel.vue`     | æŠ€èƒ½è¯¦æƒ…ï¼ˆåŒ¹é…ç®—æ³•è¯´æ˜ã€ä½¿ç”¨ç¤ºä¾‹ï¼‰             |
| `FilePermissionDialog.vue` | æ–‡ä»¶æƒé™å¼¹çª—ï¼ˆè·¯å¾„å±•ç¤ºã€æƒé™å¤é€‰æ¡†ã€å®‰å…¨è­¦å‘Šï¼‰ |

### Pinia Store (cowork.ts)

**1,410 è¡Œ** TypeScriptï¼Œå®Œæ•´çš„çŠ¶æ€ç®¡ç†ï¼š

```typescript
// ç±»å‹å®šä¹‰
type TeamStatus = "active" | "paused" | "completed" | "failed";
type TaskStatus =
  | "pending"
  | "running"
  | "paused"
  | "completed"
  | "failed"
  | "cancelled";

// Store ç»“æ„
const useCoworkStore = defineStore("cowork", {
  state: () => ({
    teams: [], // å›¢é˜Ÿåˆ—è¡¨
    currentTeam: null, // å½“å‰é€‰ä¸­å›¢é˜Ÿ
    tasks: [], // ä»»åŠ¡åˆ—è¡¨
    skills: [], // æŠ€èƒ½åˆ—è¡¨
    agents: [], // ä»£ç†åˆ—è¡¨
    globalStats: {}, // å…¨å±€ç»Ÿè®¡
    teamFilters: {}, // å›¢é˜Ÿè¿‡æ»¤æ¡ä»¶
    taskFilters: {}, // ä»»åŠ¡è¿‡æ»¤æ¡ä»¶
    // ... 7 ä¸ª loading æ ‡å¿—ä½
  }),
  getters: {
    filteredTeams, // æŒ‰æœç´¢ + çŠ¶æ€è¿‡æ»¤
    activeTeams, // ä»… active çŠ¶æ€
    runningTasks, // ä»… running çŠ¶æ€
    skillsByType, // æŒ‰ç±»å‹åˆ†ç»„
    isLoading, // ä»»ä¸€ loading ä¸º true
    // ... 25+ getters
  },
  actions: {
    createTeam, // â†’ cowork:create-team
    loadTeams, // â†’ cowork:discover-teams
    assignTask, // â†’ cowork:assign-task
    loadSkills, // â†’ cowork:skill-list-all
    autoExecuteTask, // â†’ cowork:skill-auto-execute
    initEventListeners, // æ³¨å†Œ 4 ä¸ªå®æ—¶äº‹ä»¶
    // ... 40+ actions
  },
});
```

**å®æ—¶äº‹ä»¶ç›‘å¬**:

- `cowork:team-updated` â€” æ›´æ–°å›¢é˜ŸçŠ¶æ€
- `cowork:task-progress` â€” æ›´æ–°ä»»åŠ¡è¿›åº¦
- `cowork:agent-joined` â€” åˆ·æ–°æˆå‘˜åˆ—è¡¨
- `cowork:task-completed` â€” æ›´æ–°ä»»åŠ¡çŠ¶æ€ + åˆ·æ–°ç»Ÿè®¡

## é…ç½®å‚è€ƒ

### TeammateTool é…ç½®

```javascript
{
  dataDir: ".chainlesschain/cowork",
  maxTeams: 10,                       // æœ€å¤§å›¢é˜Ÿæ•°
  maxAgentsPerTeam: 5,                // æ¯å›¢é˜Ÿæœ€å¤§ä»£ç†æ•°
  messageRetention: 86400000,         // æ¶ˆæ¯ä¿ç•™æ—¶é—´ï¼ˆ24å°æ—¶ï¼‰
  enableLogging: true,                // å¯ç”¨æ“ä½œæ—¥å¿—
  useAgentPool: true,                 // å¯ç”¨ä»£ç†æ± 
  agentPoolMinSize: 3,                // ä»£ç†æ± æœ€å°æ•°é‡
  agentPoolMaxSize: 10,               // ä»£ç†æ± æœ€å¤§æ•°é‡
  agentPoolIdleTimeout: 300000,       // ç©ºé—²è¶…æ—¶ï¼ˆ5åˆ†é’Ÿï¼‰
  agentPoolWarmup: true,              // åˆå§‹åŒ–æ—¶é¢„çƒ­
}
```

### FileSandbox é…ç½®

```javascript
{
  strictMode: true,                   // ä¸¥æ ¼æ¨¡å¼ï¼ˆå¿…é¡»æ˜¾å¼æˆæƒï¼‰
  auditEnabled: true,                 // å¯ç”¨å®¡è®¡æ—¥å¿—
  maxAllowedPaths: 100,               // æœ€å¤§æˆæƒè·¯å¾„æ•°
  allowSymlinks: false,               // ç¦æ­¢ç¬¦å·é“¾æ¥
  maxFileSize: 104857600,             // æœ€å¤§æ–‡ä»¶å¤§å°ï¼ˆ100MBï¼‰
}
```

### LongRunningTaskManager é…ç½®

```javascript
{
  dataDir: ".chainlesschain/cowork/tasks",
  checkpointInterval: 60000,          // æ£€æŸ¥ç‚¹é—´éš”ï¼ˆ1åˆ†é’Ÿï¼‰
  maxRetries: 3,                      // æœ€å¤§é‡è¯•æ¬¡æ•°
  retryDelay: 5000,                   // é‡è¯•é—´éš”ï¼ˆ5ç§’ï¼‰
  taskTimeout: 0,                     // ä»»åŠ¡è¶…æ—¶ï¼ˆ0=æ— é™åˆ¶ï¼‰
  autoRecovery: true,                 // è‡ªåŠ¨æ¢å¤
  retentionDays: 7,                   // ä»»åŠ¡æ•°æ®ä¿ç•™å¤©æ•°
  useSmartCheckpoint: true,           // å¯ç”¨æ™ºèƒ½æ£€æŸ¥ç‚¹
  minCheckpointInterval: 60000,       // æœ€å°æ£€æŸ¥ç‚¹é—´éš”ï¼ˆ1åˆ†é’Ÿï¼‰
  maxCheckpointInterval: 600000,      // æœ€å¤§æ£€æŸ¥ç‚¹é—´éš”ï¼ˆ10åˆ†é’Ÿï¼‰
}
```

## æ€§èƒ½æŒ‡æ ‡

### å“åº”æ—¶é—´

| æ“ä½œ       | ç›®æ ‡   | å®é™… | çŠ¶æ€ |
| ---------- | ------ | ---- | ---- |
| åˆ›å»ºå›¢é˜Ÿ   | < 50ms | 45ms | âœ…   |
| æ·»åŠ ä»£ç†   | < 20ms | 15ms | âœ…   |
| åˆ†é…ä»»åŠ¡   | < 30ms | 25ms | âœ…   |
| æƒé™æ£€æŸ¥   | < 5ms  | 3ms  | âœ…   |
| æŠ•ç¥¨å†³ç­–   | < 40ms | 35ms | âœ…   |
| ä»£ç†æ± è·å– | < 10ms | 5ms  | âœ…   |
| æ£€æŸ¥ç‚¹åˆ›å»º | < 50ms | 40ms | âœ…   |
| æŠ€èƒ½åŒ¹é…   | < 30ms | 20ms | âœ…   |

### èµ„æºä½¿ç”¨

| æŒ‡æ ‡         | æ•°å€¼               |
| ------------ | ------------------ |
| å†…å­˜å ç”¨     | < 50MB (å•å›¢é˜Ÿ)    |
| æ•°æ®åº“å¤§å°   | ~2MB (1000 ä¸ªä»»åŠ¡) |
| CPU (ç©ºé—²)   | < 5%               |
| CPU (é«˜è´Ÿè½½) | < 30%              |
| ä»£ç†æ± å¤ç”¨ç‡ | ~74%               |

### å¯æ‰©å±•æ€§

| é™åˆ¶              | æ•°å€¼  |
| ----------------- | ----- |
| æœ€å¤§å›¢é˜Ÿæ•°        | 100+  |
| æœ€å¤§ä»£ç†æ•°/å›¢é˜Ÿ   | 10    |
| æœ€å¤§å¹¶å‘ä»»åŠ¡      | 1000+ |
| æœ€å¤§æ£€æŸ¥ç‚¹æ•°/ä»»åŠ¡ | 100   |
| æœ€å¤§æˆæƒè·¯å¾„/å›¢é˜Ÿ | 100   |
| æ¶ˆæ¯é˜Ÿåˆ—å®¹é‡      | 1000  |

## æµ‹è¯•è¦†ç›–ç‡

### å•å…ƒæµ‹è¯•

```
âœ… teammate-tool.test.js              - 50+ æµ‹è¯•ç”¨ä¾‹ (å›¢é˜Ÿ/ä»£ç†/ä»»åŠ¡/æ¶ˆæ¯/æŠ•ç¥¨)
âœ… file-sandbox.test.js               - 40+ æµ‹è¯•ç”¨ä¾‹ (æƒé™/è·¯å¾„/æ•æ„Ÿæ–‡ä»¶/å®¡è®¡)
âœ… long-running-task.test.js          - 35+ æµ‹è¯•ç”¨ä¾‹ (ç”Ÿå‘½å‘¨æœŸ/æ£€æŸ¥ç‚¹/é‡è¯•)
âœ… agent-pool.test.js                 - 30+ æµ‹è¯•ç”¨ä¾‹ (è·å–/é‡Šæ”¾/è¶…æ—¶/äº‹ä»¶)
âœ… skills.test.js                     - 50+ æµ‹è¯•ç”¨ä¾‹ (åŠ è½½/åŒ¹é…/æ‰§è¡Œ/é—¨æ§)
```

**v1.1.0 æ–°å¢æµ‹è¯•**:

```
âœ… skill-pipeline-engine.test.js      - 64KB (åˆ›å»º/æ‰§è¡Œ/æš‚åœ/æ¢å¤/å–æ¶ˆ/å˜é‡/äº‹ä»¶)
âœ… skill-metrics-collector.test.js    - 81 æµ‹è¯•ç”¨ä¾‹ (é‡‡é›†/èšåˆ/æŸ¥è¯¢/SQLiteåˆ·æ–°/äº‹ä»¶)
âœ… skill-lazy-load.test.js            - 48 æµ‹è¯•ç”¨ä¾‹ (æ‡’åŠ è½½/çƒ­åŠ è½½/çƒ­å¸è½½/äº‹ä»¶)
âœ… git-hook-runner.test.js            - 65 æµ‹è¯•ç”¨ä¾‹ (pre-commit/impact/auto-fix/äº‹ä»¶)
âœ… skill-pipeline-e2e.test.js         - 44 æµ‹è¯•ç”¨ä¾‹ (æ¨¡æ¿â†’æµæ°´çº¿â†’æ‰§è¡Œâ†’æŒ‡æ ‡ç«¯åˆ°ç«¯)
```

**æ€»è¦†ç›–ç‡**: ~90%ï¼Œ440+ æµ‹è¯•ç”¨ä¾‹ï¼Œ99.6% é€šè¿‡ç‡

### E2E æµ‹è¯•

- âœ… å›¢é˜Ÿåˆ›å»ºã€æš‚åœã€æ¢å¤å’Œè§£æ•£å®Œæ•´æµç¨‹
- âœ… ä»»åŠ¡åˆ†é…ã€æ‰§è¡Œå’Œç»“æœåˆå¹¶æµç¨‹
- âœ… æŠ•ç¥¨å†³ç­–å’Œå…±è¯†è¾¾æˆæµç¨‹
- âœ… æ–‡ä»¶æƒé™ç”³è¯·ã€æˆæƒå’Œæ’¤é”€æµç¨‹
- âœ… æ•æ„Ÿæ–‡ä»¶æ£€æµ‹å’Œè·¯å¾„éå†é˜²æŠ¤
- âœ… é•¿æ—¶ä»»åŠ¡æ£€æŸ¥ç‚¹åˆ›å»ºå’Œæ¢å¤
- âœ… ä»£ç†æ± è·å–ã€é‡Šæ”¾å’Œè¶…æ—¶å¤„ç†
- âœ… æŠ€èƒ½åŠ è½½ã€åŒ¹é…å’Œæ‰§è¡Œæµç¨‹
- âœ… æµæ°´çº¿æ¨¡æ¿åˆ›å»ºã€æ‰§è¡Œå’Œå˜é‡ä¼ é€’ï¼ˆv1.1.0ï¼‰
- âœ… å¹¶è¡Œæ­¥éª¤æ‰§è¡Œå’Œæ¡ä»¶åˆ†æ”¯ï¼ˆv1.1.0ï¼‰
- âœ… æŒ‡æ ‡é‡‡é›†å’Œå¯¼å‡ºï¼ˆv1.1.0ï¼‰
- âœ… æ‡’åŠ è½½å’Œçƒ­åŠ è½½/å¸è½½ï¼ˆv1.1.0ï¼‰
- âœ… Git Hooks pre-commit/impact/auto-fixï¼ˆv1.1.0ï¼‰

### æ€§èƒ½æµ‹è¯•

- âœ… ä»£ç†æ±  5 åˆ†é’Ÿçƒ­èº« + 2 åˆ†é’Ÿå‹åŠ›æµ‹è¯•
- âœ… å¹¶å‘å›¢é˜Ÿåˆ›å»º (100+)
- âœ… é«˜é¢‘æ¶ˆæ¯å¹¿æ’­ (1000 æ¡/ç§’)

## å®‰å…¨è€ƒè™‘

### æ–‡ä»¶è®¿é—®å®‰å…¨

1. **æ•æ„Ÿæ–‡ä»¶æ£€æµ‹** â€” 20+ å†…ç½®æ¨¡å¼ + è‡ªå®šä¹‰æ¨¡å¼æ”¯æŒ
2. **è·¯å¾„éå†é˜²æŠ¤** â€” ç¦æ­¢ `../` è·¯å¾„éå†
3. **æƒé™æ£€æŸ¥** â€” READ / WRITE / EXECUTE ä¸‰çº§æ§åˆ¶
4. **ç¬¦å·é“¾æ¥éªŒè¯** â€” é˜²æ­¢ç»•è¿‡æ²™ç®±é™åˆ¶
5. **å®¡è®¡æ—¥å¿—** â€” 100% æ“ä½œå®¡è®¡è¦†ç›–ç‡
6. **æ–‡ä»¶å¤§å°é™åˆ¶** â€” æœ€å¤§ 100MB é˜²æ­¢èµ„æºè€—å°½

### æ•°æ®å®‰å…¨

1. **SQLCipher åŠ å¯†** â€” æ•°æ®åº“ AES-256 åŠ å¯†
2. **å†…å­˜æ¸…ç†** â€” æ•æ„Ÿæ•°æ®ä½¿ç”¨åç«‹å³æ¸…ç†
3. **ä¼ è¾“å®‰å…¨** â€” IPC é€šä¿¡åŠ å¯†
4. **æ£€æŸ¥ç‚¹åŠ å¯†** â€” æ£€æŸ¥ç‚¹æ•°æ®æŒä¹…åŒ–åŠ å¯†

### ä»£ç æ³¨å…¥é˜²æŠ¤

1. **å‚æ•°éªŒè¯** â€” ä¸¥æ ¼çš„è¾“å…¥ç±»å‹å’ŒèŒƒå›´æ£€æŸ¥
2. **SQL å‚æ•°åŒ–** â€” é˜²æ­¢ SQL æ³¨å…¥
3. **å‘½ä»¤ç™½åå•** â€” é˜²æ­¢å‘½ä»¤æ³¨å…¥
4. **è¾“å‡ºå‡€åŒ–** â€” é˜²æ­¢è·¨ç«™è„šæœ¬

## æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

**Q: å›¢é˜Ÿåˆ›å»ºå¤±è´¥?**

æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹:

1. å›¢é˜Ÿåç§°æ˜¯å¦å”¯ä¸€
2. æ˜¯å¦è¶…è¿‡æœ€å¤§å›¢é˜Ÿæ•°é™åˆ¶ (é»˜è®¤ 10)
3. æ•°æ®åº“è¿æ¥æ˜¯å¦æ­£å¸¸
4. æ•°æ®ç›®å½• `.chainlesschain/cowork/` æ˜¯å¦æœ‰å†™æƒé™

**Q: ä»»åŠ¡æ‰§è¡Œè¶…æ—¶?**

å¯èƒ½åŸå› :

1. ä»»åŠ¡å¤ªå¤æ‚ â€” å¢åŠ  `timeout` é…ç½®
2. ä»£ç†èµ„æºä¸è¶³ â€” å¢åŠ  `agentPoolMaxSize`
3. æ£€æŸ¥ç‚¹é¢‘ç‡å¤ªé«˜ â€” è°ƒæ•´ `minCheckpointInterval`
4. ç½‘ç»œå»¶è¿Ÿ â€” æ£€æŸ¥å¤–éƒ¨æœåŠ¡è¿æ¥

**Q: ä»£ç†æ± è€—å°½?**

è§£å†³æ–¹æ¡ˆ:

1. å¢åŠ  `maxSize` é…ç½®ï¼ˆé»˜è®¤ 10ï¼‰
2. æ£€æŸ¥æ˜¯å¦æœ‰ä»£ç†æœªæ­£ç¡®é‡Šæ”¾ï¼ˆleakï¼‰
3. å‡å°‘ `idleTimeout` åŠ å¿«å›æ”¶
4. æŸ¥çœ‹ `agentPool.getStats()` åˆ†æå¤ç”¨ç‡

**Q: æ–‡ä»¶è®¿é—®è¢«æ‹’ç»?**

æ£€æŸ¥:

1. æ–‡ä»¶è·¯å¾„æ˜¯å¦åœ¨å·²æˆæƒåˆ—è¡¨ (`cowork:get-allowed-paths`)
2. æ˜¯å¦æœ‰å¯¹åº”æƒé™ï¼ˆread/write/executeï¼‰
3. æ˜¯å¦å‘½ä¸­æ•æ„Ÿæ–‡ä»¶æ¨¡å¼
4. æŸ¥çœ‹å®¡è®¡æ—¥å¿— (`cowork:get-audit-log`) äº†è§£æ‹’ç»åŸå› 

### è°ƒè¯•æ¨¡å¼

```javascript
// è®¾ç½®æ—¥å¿—çº§åˆ«
await window.electron.ipcRenderer.invoke("cowork:set-log-level", {
  level: "debug",
});

// æŸ¥çœ‹ç»„ä»¶æ—¥å¿—
const logs = await window.electron.ipcRenderer.invoke("cowork:get-logs", {
  component: "teammate-tool", // file-sandbox | long-running-task | agent-pool | skills
  since: Date.now() - 3600000, // æœ€è¿‘ 1 å°æ—¶
});
```

## å…³é”®æ–‡ä»¶

### v1.0.0 æ ¸å¿ƒæ–‡ä»¶

| æ–‡ä»¶                                                     | èŒè´£                         | è¡Œæ•°   |
| -------------------------------------------------------- | ---------------------------- | ------ |
| `src/main/ai-engine/cowork/teammate-tool.js`             | 13 æ ¸å¿ƒæ“ä½œå¼•æ“              | ~1,700 |
| `src/main/ai-engine/cowork/file-sandbox.js`              | æ–‡ä»¶æ²™ç®±å®‰å…¨ç³»ç»Ÿ             | ~830   |
| `src/main/ai-engine/cowork/long-running-task-manager.js` | é•¿æ—¶ä»»åŠ¡ + å¢é‡æ£€æŸ¥ç‚¹        | ~1,300 |
| `src/main/ai-engine/cowork/agent-pool.js`                | èƒ½åŠ›æ± åŒ– + å†…å­˜æ„ŸçŸ¥          | ~630   |
| `src/main/ai-engine/cowork/cowork-ipc.js`                | 51 IPC å¤„ç†å™¨                | ~650   |
| `src/main/ai-engine/cowork/skills/index.js`              | Skills æ¨¡å—å…¥å£              | ~70    |
| `src/main/ai-engine/cowork/skills/skills-ipc.js`         | Skills IPC (17 å¤„ç†å™¨)       | ~400   |
| `src/main/ai-engine/cowork/skills/skill-md-parser.js`    | SKILL.md è§£æå™¨ + æ‡’åŠ è½½     | ~400   |
| `src/main/ai-engine/cowork/skills/markdown-skill.js`     | æŠ€èƒ½å®ä¾‹ + ensureFullyLoaded | ~260   |
| `src/main/ai-engine/cowork/skills/skill-loader.js`       | å››å±‚åŠ è½½ + loadSingleSkill   | ~360   |
| `src/main/ai-engine/cowork/skills/skill-registry.js`     | æ³¨å†Œè¡¨ + çƒ­åŠ è½½/å¸è½½         | ~200   |
| `src/main/ai-engine/cowork/skills/builtin/`              | 90 å†…ç½®æŠ€èƒ½ Handler          | ~3,000 |
| `src/renderer/pages/CoworkDashboard.vue`                 | ä»ªè¡¨æ¿é¡µé¢                   | ~638   |
| `src/renderer/pages/CoworkAnalytics.vue`                 | åˆ†æé¡µé¢                     | ~1,080 |
| `src/renderer/stores/cowork.ts`                          | Pinia çŠ¶æ€ç®¡ç†               | ~1,410 |

### v1.1.0 æ–°å¢æ–‡ä»¶

| æ–‡ä»¶                                                          | èŒè´£                        | è¡Œæ•° |
| ------------------------------------------------------------- | --------------------------- | ---- |
| `src/main/ai-engine/cowork/skills/skill-pipeline-engine.js`   | æµæ°´çº¿å¼•æ“ï¼ˆ5 ç§æ­¥éª¤ç±»å‹ï¼‰  | ~580 |
| `src/main/ai-engine/cowork/skills/pipeline-templates.js`      | 10 é¢„ç½®æµæ°´çº¿æ¨¡æ¿           | ~470 |
| `src/main/ai-engine/cowork/skills/skill-metrics-collector.js` | æŠ€èƒ½æŒ‡æ ‡é‡‡é›†å™¨              | ~320 |
| `src/main/ai-engine/cowork/skills/skill-pipeline-ipc.js`      | Pipeline IPCï¼ˆ12 handlersï¼‰ | ~180 |
| `src/main/ai-engine/cowork/skills/skill-metrics-ipc.js`       | Metrics IPCï¼ˆ5 handlersï¼‰   | ~90  |
| `src/main/ai-engine/cowork/skills/skill-workflow-engine.js`   | å¯è§†åŒ–å·¥ä½œæµå¼•æ“            | ~350 |
| `src/main/ai-engine/cowork/skills/skill-workflow-ipc.js`      | Workflow IPCï¼ˆ10 handlersï¼‰ | ~150 |
| `src/main/hooks/git-hook-runner.js`                           | Git Hook è¿è¡Œå™¨             | ~300 |
| `src/main/hooks/git-hook-ipc.js`                              | Git Hook IPCï¼ˆ8 handlersï¼‰  | ~130 |
| `src/renderer/pages/SkillPipelinePage.vue`                    | æµæ°´çº¿ç¼–æ’é¡µ                | ~163 |
| `src/renderer/pages/WorkflowDesignerPage.vue`                 | å·¥ä½œæµè®¾è®¡å™¨                | ~209 |
| `src/renderer/pages/SkillPerformancePage.vue`                 | æŠ€èƒ½æ€§èƒ½ä»ªè¡¨æ¿              | ~122 |
| `src/renderer/pages/GitHooksPage.vue`                         | Git Hooks ç®¡ç†é¡µ            | ~147 |
| `src/renderer/stores/skill-pipeline.ts`                       | æµæ°´çº¿ Pinia Store          | â€”    |
| `src/renderer/stores/skill-metrics.ts`                        | æŒ‡æ ‡ Pinia Store            | â€”    |
| `src/renderer/stores/workflow-designer.ts`                    | å·¥ä½œæµè®¾è®¡å™¨ Store          | ~284 |
| `src/renderer/stores/git-hooks.ts`                            | Git Hooks Store             | â€”    |

### v1.2.0 æ–°å¢æ–‡ä»¶

| æ–‡ä»¶                                                                    | èŒè´£                        | è¡Œæ•°   |
| ----------------------------------------------------------------------- | --------------------------- | ------ |
| `src/main/llm/instinct-manager.js`                                      | Instinct å­¦ä¹ æ ¸å¿ƒå¼•æ“       | ~1,100 |
| `src/main/llm/instinct-ipc.js`                                          | Instinct IPCï¼ˆ11 handlersï¼‰ | ~280   |
| `src/main/ai-engine/cowork/skills/builtin/orchestrate/SKILL.md`         | Orchestrate æŠ€èƒ½å®šä¹‰        | ~112   |
| `src/main/ai-engine/cowork/skills/builtin/orchestrate/handler.js`       | Orchestrate ç¼–æ’å¼•æ“        | ~507   |
| `src/main/ai-engine/cowork/skills/builtin/verification-loop/SKILL.md`   | Verification Loop æŠ€èƒ½å®šä¹‰  | ~118   |
| `src/main/ai-engine/cowork/skills/builtin/verification-loop/handler.js` | Verification Loop éªŒè¯å¼•æ“  | ~547   |

### v2.0.0 æ–°å¢æ–‡ä»¶

| æ–‡ä»¶                                               | èŒè´£                          | è¡Œæ•° |
| -------------------------------------------------- | ----------------------------- | ---- |
| `src/main/ai-engine/cowork/p2p-agent-network.js`   | P2P ä»£ç†ç½‘ç»œï¼ˆ15 ç§æ¶ˆæ¯ç±»å‹ï¼‰ | ~680 |
| `src/main/ai-engine/cowork/device-discovery.js`    | è®¾å¤‡èƒ½åŠ›å‘ç°ï¼ˆ4 çº§åˆ†å±‚ï¼‰      | ~420 |
| `src/main/ai-engine/cowork/hybrid-executor.js`     | æ··åˆæ‰§è¡Œç­–ç•¥ï¼ˆ6 ç§ç­–ç•¥ï¼‰      | ~510 |
| `src/main/ai-engine/cowork/computer-use-bridge.js` | Computer Use é›†æˆï¼ˆ12 å·¥å…·ï¼‰  | ~430 |
| `src/main/ai-engine/cowork/cowork-api-server.js`   | RESTful API æœåŠ¡ï¼ˆ20+ ç«¯ç‚¹ï¼‰  | ~520 |
| `src/main/ai-engine/cowork/webhook-manager.js`     | Webhook äº‹ä»¶æ¨é€ï¼ˆ17 äº‹ä»¶ï¼‰   | ~530 |
| `src/main/ai-engine/cowork/cowork-v2-ipc.js`       | 34 ä¸ª IPC Handler             | ~420 |

## å‰ç«¯è·¯ç”±ï¼ˆv1.1.0 æ–°å¢ï¼‰

| è·¯ç”±                   | é¡µé¢                     | è¯´æ˜           |
| ---------------------- | ------------------------ | -------------- |
| `#/cowork/pipeline`    | SkillPipelinePage.vue    | æµæ°´çº¿ç¼–æ’     |
| `#/cowork/workflow`    | WorkflowDesignerPage.vue | å·¥ä½œæµè®¾è®¡å™¨   |
| `#/cowork/performance` | SkillPerformancePage.vue | æŠ€èƒ½æ€§èƒ½ä»ªè¡¨æ¿ |
| `#/cowork/git-hooks`   | GitHooksPage.vue         | Git Hooks ç®¡ç† |

## npm æ–°ä¾èµ–ï¼ˆv1.1.0ï¼‰

```
@vue-flow/core @vue-flow/background @vue-flow/controls @vue-flow/minimap
```

## ç›¸å…³æ–‡æ¡£

- [å¿«é€Ÿå…¥é—¨æŒ‡å— â†’](/guide/cowork-quick-start)
- [Skills æŠ€èƒ½ç³»ç»Ÿ â†’](/chainlesschain/skills)
- [Computer Use â†’](/chainlesschain/computer-use)
- [æƒé™ç³»ç»Ÿ â†’](/chainlesschain/permissions)
- [Hooks ç³»ç»Ÿ â†’](/chainlesschain/hooks)
- [Plan Mode â†’](/chainlesschain/plan-mode)
- [Session Manager â†’](/chainlesschain/session-manager)

## v1.1.0 æ–°å¢åŠŸèƒ½

### æŠ€èƒ½æ‡’åŠ è½½ï¼ˆå¯åŠ¨æå‡ 87%ï¼‰

v1.1.0 å¼•å…¥ metadata-only è§£æç­–ç•¥ï¼Œ90 æŠ€èƒ½å¯åŠ¨æ—¶é—´ä» ~360ms é™è‡³ ~45msï¼š

```
å¯åŠ¨åŠ è½½æµç¨‹:
  parseMetadataOnly() â”€â”€ åªè¯» YAML frontmatterï¼Œè·³è¿‡ Markdown body
       â†“
  åˆ›å»º SkillDefinitionStub (_isStub: true, _bodyLoaded: false)
       â†“
  æ³¨å†Œåˆ° SkillRegistryï¼ˆè½»é‡å…ƒæ•°æ®ï¼‰
       â†“
  é¦–æ¬¡ä½¿ç”¨æ—¶ ensureFullyLoaded() å®Œæ•´è§£æ body + handler
```

**çƒ­åŠ è½½/çƒ­å¸è½½**: æ”¯æŒè¿è¡Œæ—¶åŠ¨æ€æ³¨å†Œå’Œç§»é™¤æŠ€èƒ½

```javascript
// çƒ­åŠ è½½æ–°æŠ€èƒ½
await skillRegistry.hotLoadSkill("my-skill", definition);
// äº‹ä»¶: skill-hot-loaded

// çƒ­å¸è½½æŠ€èƒ½
await skillRegistry.hotUnloadSkill("my-skill");
// äº‹ä»¶: skill-hot-unloaded
```

**Marketplace è‡ªåŠ¨çƒ­åŠ è½½**: å®‰è£…æ’ä»¶æ—¶ï¼Œå¦‚æœåŒ…å« `SKILL.md`ï¼Œè‡ªåŠ¨è°ƒç”¨ `loadSingleSkill()` + `hotLoadSkill()` æ³¨å†Œåˆ° SkillRegistry å¹¶åˆ·æ–° UnifiedToolRegistryã€‚

### æŠ€èƒ½æµæ°´çº¿å¼•æ“ï¼ˆSkill Pipeline Engineï¼‰

æµæ°´çº¿å¼•æ“æ”¯æŒå¤šæŠ€èƒ½ç¼–æ’ï¼Œæä¾› 5 ç§æ­¥éª¤ç±»å‹å’Œå˜é‡ä¼ é€’æœºåˆ¶ï¼š

#### æ­¥éª¤ç±»å‹

| ç±»å‹        | è¯´æ˜                                          |
| ----------- | --------------------------------------------- |
| `SKILL`     | æ‰§è¡Œå•ä¸ªæŠ€èƒ½ï¼Œè¾“å…¥æ˜ å°„ â†’ è¾“å‡ºå˜é‡             |
| `CONDITION` | åŸºäºè¡¨è¾¾å¼åˆ†æ”¯ï¼ˆtrue/false è¾“å‡ºå£ï¼‰           |
| `PARALLEL`  | å¹¶è¡Œæ‰§è¡Œå¤šä¸ªæŠ€èƒ½ï¼Œ`Promise.allSettled()` åˆå¹¶ |
| `TRANSFORM` | JavaScript è¡¨è¾¾å¼è¿›è¡Œæ•°æ®è½¬æ¢                 |
| `LOOP`      | éå†æ•°ç»„è¾“å‡ºï¼Œé€é¡¹æ‰§è¡Œå­æ­¥éª¤                  |

#### Pipeline æ‰§è¡Œæ¨¡å¼

```
ä¸²è”æ¨¡å¼ (Serial):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚web-scrap â”‚â”€â”€â†’â”‚data-analysis â”‚â”€â”€â†’â”‚chart-creator â”‚â”€â”€â†’â”‚doc-generator â”‚
â”‚  ing     â”‚   â”‚              â”‚   â”‚              â”‚   â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†“              â†“                   â†“                   â†“
  åŸå§‹HTML      ç»“æ„åŒ–æ•°æ®          å›¾è¡¨PNG/SVG          PDFæŠ¥å‘Š

å¹¶è¡Œæ¨¡å¼ (Parallel):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚code-review   â”‚â”€â”€â†’ ä»£ç è´¨é‡æŠ¥å‘Š
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚security-auditâ”‚â”€â”€â†’ å®‰å…¨æ¼æ´æŠ¥å‘Š    â”€â”€â†’ åˆå¹¶ç»“æœ
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚test-generatorâ”‚â”€â”€â†’ æµ‹è¯•ç”¨ä¾‹
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ¡ä»¶åˆ†æ”¯ (Condition):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€trueâ”€â”€â†’ å‘å¸ƒ
â”‚ ä»£ç å®¡æŸ¥  â”‚â”€â”€â†’â”‚ æµ‹è¯•é€šè¿‡?     â”‚â”€â”€â†’â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€falseâ”€â”€â†’ ä¿®å¤
```

#### å˜é‡ä¼ é€’

æ­¥éª¤é—´é€šè¿‡ `${stepName.result.field}` æ¨¡æ¿å¼•ç”¨ä¼ é€’æ•°æ®ï¼š

```javascript
const pipeline = engine.createPipeline({
  name: "data-report",
  steps: [
    {
      id: "fetch",
      type: "SKILL",
      skillId: "web-scraping",
      outputVariable: "fetch",
    },
    {
      id: "analyze",
      type: "SKILL",
      skillId: "data-analysis",
      inputMapping: { data: "${fetch.result.content}" },
      outputVariable: "analyze",
    },
    {
      id: "check",
      type: "CONDITION",
      expression: "${analyze.result.count} >= 10",
      trueBranch: "report",
      falseBranch: null,
    },
    {
      id: "report",
      type: "SKILL",
      skillId: "doc-generator",
      inputMapping: { summary: "${analyze.result.summary}" },
    },
  ],
});

const result = await engine.executePipeline(pipeline.id, {
  url: "https://...",
});
```

#### æ‰§è¡Œæ§åˆ¶

```javascript
// æš‚åœ
await engine.pausePipeline(executionId);
// æ¢å¤
await engine.resumePipeline(executionId);
// å–æ¶ˆ
await engine.cancelPipeline(executionId);
// æŸ¥è¯¢çŠ¶æ€
const status = engine.getPipelineStatus(executionId);
// { state: 'RUNNING', currentStep: 2, totalSteps: 4, startedAt: ..., results: [...] }
```

#### äº‹ä»¶

| äº‹ä»¶                      | è§¦å‘æ—¶æœº   |
| ------------------------- | ---------- |
| `pipeline:created`        | æµæ°´çº¿åˆ›å»º |
| `pipeline:started`        | å¼€å§‹æ‰§è¡Œ   |
| `pipeline:step-started`   | æ­¥éª¤å¼€å§‹   |
| `pipeline:step-completed` | æ­¥éª¤å®Œæˆ   |
| `pipeline:step-failed`    | æ­¥éª¤å¤±è´¥   |
| `pipeline:completed`      | æµæ°´çº¿å®Œæˆ |
| `pipeline:failed`         | æµæ°´çº¿å¤±è´¥ |
| `pipeline:paused`         | æµæ°´çº¿æš‚åœ |

### 10 é¢„ç½®æµæ°´çº¿æ¨¡æ¿

| #   | æ¨¡æ¿å           | æŠ€èƒ½ä¸²è”                                                                 | åˆ†ç±»        |
| --- | ---------------- | ------------------------------------------------------------------------ | ----------- |
| 1   | data-report      | web-scraping â†’ data-analysis â†’ chart-creator â†’ doc-generator             | data        |
| 2   | code-review      | code-review â†’ security-audit â†’ lint-and-fix â†’ doc-generator              | development |
| 3   | release          | test-generator â†’ test-and-fix â†’ changelog-generator â†’ release-manager    | development |
| 4   | research         | web-scraping â†’ data-analysis â†’ knowledge-graph â†’ doc-generator           | knowledge   |
| 5   | onboarding       | repo-map â†’ dependency-analyzer â†’ onboard-project â†’ doc-generator         | development |
| 6   | security-audit   | security-audit â†’ vulnerability-scanner â†’ impact-analyzer â†’ doc-generator | security    |
| 7   | i18n             | i18n-manager â†’ code-translator â†’ doc-generator                           | development |
| 8   | media-processing | audio-transcriber â†’ subtitle-generator â†’ doc-converter                   | media       |
| 9   | performance      | performance-optimizer â†’ log-analyzer â†’ chart-creator                     | devops      |
| 10  | data-migration   | db-migration â†’ data-exporter â†’ backup-manager                            | devops      |

```javascript
// è·å–æ‰€æœ‰æ¨¡æ¿
const templates = getTemplates();
// æŒ‰åˆ†ç±»ç­›é€‰
const devTemplates = getTemplatesByCategory("development"); // 4 ä¸ª
// ä»æ¨¡æ¿åˆ›å»ºæµæ°´çº¿
const pipeline = engine.createPipeline(getTemplateById("tpl-code-review"));
```

### æŠ€èƒ½æŒ‡æ ‡é‡‡é›†å™¨ï¼ˆSkill Metrics Collectorï¼‰

å®æ—¶é‡‡é›†æŠ€èƒ½å’Œæµæ°´çº¿æ‰§è¡ŒæŒ‡æ ‡ï¼Œæ”¯æŒä»ªè¡¨æ¿å¯è§†åŒ–ï¼š

```javascript
// æŸ¥è¯¢å•æŠ€èƒ½æŒ‡æ ‡
const metrics = collector.getSkillMetrics("code-review");
// { executions: 42, successRate: 0.95, avgDuration: 2300, totalTokens: 15000, totalCost: 0.45 }

// Top æŠ€èƒ½æ’è¡Œ
const top = collector.getTopSkills(5, "executions");
// [{ skillId: 'code-review', executions: 42, ... }, ...]

// æ—¶é—´åºåˆ—ï¼ˆå›¾è¡¨æ•°æ®ï¼‰
const series = collector.getTimeSeriesData("code-review", "day");
// [{ timestamp: ..., executions: 5, avgDuration: 2100, successRate: 1.0 }, ...]

// å¯¼å‡ºå…¨é‡æŒ‡æ ‡
const exported = collector.exportMetrics();
```

**å­˜å‚¨**: å†…å­˜ Map + å®šæœŸåˆ·å…¥ SQLiteï¼ˆ`skill_execution_metrics` è¡¨ï¼‰ï¼Œ60 ç§’åˆ·æ–°é—´éš”ã€‚

### Git Hooks é›†æˆ

GitHookRunner å°†æŠ€èƒ½æµæ°´çº¿ä¸ Git å·¥ä½œæµæ‰“é€šï¼š

#### Pre-commit æ™ºèƒ½æ£€æŸ¥

```javascript
const result = await runner.runPreCommit([
  "src/main/index.js",
  "src/utils/helper.js",
]);
// {
//   passed: true,
//   duration: 45000,
//   steps: [
//     { skill: 'lint-and-fix', issues: [...], fixes: [...] },
//     { skill: 'code-review', issues: [...] },
//     { skill: 'security-audit', issues: [...] },
//   ],
//   issues: [...],      // æ‰€æœ‰é—®é¢˜æ±‡æ€»
//   autoFixes: [...],   // è‡ªåŠ¨ä¿®å¤åˆ—è¡¨
//   blocking: false,    // æ˜¯å¦é˜»æ­¢æäº¤
// }
```

#### å½±å“èŒƒå›´åˆ†æ

```javascript
const impact = await runner.runImpactAnalysis(["src/main/database.js"]);
// {
//   affectedFiles: ['src/main/index.js', 'tests/db.test.js', ...],
//   suggestedTests: ['tests/db.test.js', 'tests/integration/...'],
//   riskScore: 7.5,
//   duration: 12000,
// }
```

#### CI å¤±è´¥è‡ªåŠ¨ä¿®å¤

```javascript
const fix = await runner.runAutoFix([
  "test-login-flow",
  "test-auth-middleware",
]);
// {
//   fixed: ['test-login-flow'],
//   remaining: ['test-auth-middleware'],
//   patchFiles: ['patches/fix-login.patch'],
//   duration: 30000,
// }
```

#### Git Hooks å·¥ä½œæµ

```
git commit
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Pre-commit Hook   â”‚
â”‚                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ lint-and-fix â”‚ â”‚ â”€â”€ è‡ªåŠ¨ä¿®å¤ ESLint/Prettier
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â–¼        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ code-review  â”‚ â”‚ â”€â”€ AI å¿«é€Ÿå®¡æŸ¥å…³é”®é—®é¢˜
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â–¼        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚security-auditâ”‚â”‚ â”€â”€ æ•æ„Ÿä¿¡æ¯/æ¼æ´æ‰«æ
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
  æäº¤æˆåŠŸ (30-60ç§’, åŸ 2-5 åˆ†é’Ÿ)
```

**Hook äº‹ä»¶**: æ–°å¢ `PreGitCommit`ã€`PostGitCommit`ã€`PreGitPush`ã€`CIFailure` 4 ä¸ªäº‹ä»¶åˆ° HookRegistryã€‚

### å¯è§†åŒ–å·¥ä½œæµç¼–è¾‘å™¨

åŸºäº Vue Flow çš„æ‹–æ‹½å¼å·¥ä½œæµè®¾è®¡å™¨ï¼Œæ”¯æŒ 8 ç§èŠ‚ç‚¹ç±»å‹ï¼š

#### èŠ‚ç‚¹ç±»å‹

| èŠ‚ç‚¹ç±»å‹         | è¯´æ˜             | å¯¹åº” Pipeline æ­¥éª¤ |
| ---------------- | ---------------- | ------------------ |
| `START_NODE`     | æµç¨‹èµ·å§‹         | â€”                  |
| `END_NODE`       | æµç¨‹ç»“æŸ         | â€”                  |
| `SKILL_NODE`     | æŠ€èƒ½æ‰§è¡ŒèŠ‚ç‚¹     | SKILL              |
| `CONDITION_NODE` | æ¡ä»¶åˆ†æ”¯ï¼ˆè±å½¢ï¼‰ | CONDITION          |
| `PARALLEL_NODE`  | å¹¶è¡Œ Fork/Join   | PARALLEL           |
| `LOOP_NODE`      | å¾ªç¯è¿­ä»£         | LOOP               |
| `TRANSFORM_NODE` | æ•°æ®è½¬æ¢         | TRANSFORM          |
| `MERGE_NODE`     | ç»“æœåˆå¹¶         | â€”                  |

#### Pipeline äº’è½¬

```javascript
// Pipeline â†’ Workflowï¼ˆè‡ªåŠ¨ç”ŸæˆèŠ‚ç‚¹ä½ç½®ï¼‰
const workflow = engine.importFromPipeline(pipelineId);

// Workflow â†’ Pipelineï¼ˆæ‹“æ‰‘æ’åºç”Ÿæˆæ­¥éª¤é¡ºåºï¼‰
const pipeline = engine.exportToPipeline(workflowId);
```

#### å·¥ä½œæµæ‰§è¡Œ

```javascript
// å§”æ‰˜ SkillPipelineEngine æ‰§è¡Œ
const result = await engine.executeWorkflow(workflowId, { input: "data" });
```

**å‰ç«¯é¡µé¢**: `#/cowork/workflow` â€” WorkflowDesignerPage.vueï¼Œä¸‰æ å¸ƒå±€ï¼ˆæŠ€èƒ½é¢æ¿ + ç”»å¸ƒ + å±æ€§é¢æ¿ + è°ƒè¯•é¢æ¿ï¼‰

### UnifiedToolRegistry å¢å¼ºï¼ˆv1.1.0ï¼‰

- **äº‹ä»¶é©±åŠ¨åˆ·æ–°**: ç›‘å¬ SkillRegistry çš„ `skill-registered`ã€`skill-unregistered`ã€`skill-hot-loaded`ã€`skill-hot-unloaded` äº‹ä»¶ï¼Œè‡ªåŠ¨åˆ·æ–°å·¥å…·åˆ—è¡¨
- **ç»Ÿä¸€æ‰§è¡Œ API**: `executeToolByName(toolName, params, context)` â€” è·¯ç”±åˆ° FunctionCaller/MCP/SkillRegistry
- **æ‰§è¡Œå™¨æŸ¥è¯¢**: `getToolExecutor(toolName)` â€” è¿”å›ç»‘å®šæ‰§è¡Œå™¨å‡½æ•°
- **æ–°å¢ 2 IPC**: `tools:execute-by-name`ã€`tools:get-executors`ï¼ˆæ€»è®¡ 8 handlersï¼‰

### Agent æ± åŒ–å¢å¼ºï¼ˆv1.1.0ï¼‰

- **èƒ½åŠ›æ± åŒ–**: `_pools: Map<agentType, Agent[]>` æŒ‰ç±»å‹åˆ†æ± ï¼Œ`acquireByCapabilities(capabilities)` åŒ¹é…
- **æ¸©å¤ç”¨**: `_warmResetAgent(agent)` é‡ç½®çŠ¶æ€ä¿ç•™è¿æ¥ï¼ˆå†·å¯åŠ¨ ~2s â†’ ~200msï¼‰
- **å†…å­˜æ„ŸçŸ¥**: ç›‘æ§ `process.memoryUsage().heapUsed`ï¼Œè¶…é˜ˆå€¼è‡ªåŠ¨ç¼©æ± 
- **å¥åº·æ£€æŸ¥**: 60s å‘¨æœŸæ¢æ´»ï¼Œè‡ªåŠ¨ç§»é™¤æ— å“åº” agent

```javascript
const stats = agentPool.getPoolStats();
// {
//   pools: { 'CodeSecurity': { total: 3, available: 2, busy: 1 }, ... },
//   memory: { heapUsed: 150MB, heapTotal: 256MB, heapRatio: 0.59, rss: 320MB },
// }
```

### å¢é‡æ£€æŸ¥ç‚¹ï¼ˆv1.1.0ï¼‰

ä»»åŠ¡ > 5 åˆ†é’Ÿé»˜è®¤å¯ç”¨å¢é‡æ¨¡å¼ï¼Œå…¨é‡ ~50-100KB/æ¬¡ â†’ å¢é‡ ~2-10KB/æ¬¡ï¼ˆèŠ‚çœ 60-80%ï¼‰ï¼š

```javascript
const checkpoint = new IncrementalCheckpoint();

// åˆ›å»ºåŸºçº¿ï¼ˆå…¨é‡å¿«ç…§ï¼‰
checkpoint.createBaseline(state);

// åˆ›å»ºå¢é‡ï¼ˆåªä¿å­˜ JSON diffï¼‰
checkpoint.createDelta(currentState);
// { type: 'delta', size: 1234, changes: 5 }

// æ¢å¤ï¼ˆåŸºçº¿ + ç´¯åŠ  deltaï¼‰
const restored = checkpoint.restore(checkpointId);

// å‹ç¼©ï¼ˆåˆå¹¶æ—§ delta ä¸ºæ–°åŸºçº¿ï¼‰
checkpoint.compact(currentState);
```

## æœªæ¥è§„åˆ’

---

### v1.2.0 â€” ä¸“ä¸šåŒ–ä»£ç†ä¸æ™ºèƒ½è°ƒåº¦ âœ…

**ç›®æ ‡**: Instinct å­¦ä¹ ç³»ç»Ÿ + Orchestrate ç¼–æ’å·¥ä½œæµ + Verification Loop éªŒè¯æµæ°´çº¿

#### å·²å®Œæˆ

- [x] **Instinct Learning System** â€” è‡ªåŠ¨ä» Hook è§‚æµ‹ä¸­æå–å¯å¤ç”¨æ¨¡å¼ï¼Œç½®ä¿¡åº¦å¼ºåŒ–/è¡°å‡ï¼Œä¸Šä¸‹æ–‡æ„ŸçŸ¥æ£€ç´¢ï¼ŒLLM Prompt è‡ªåŠ¨æ³¨å…¥ï¼ˆ11 IPC handlers, ~1,380 è¡Œï¼‰
- [x] **Orchestrate Workflow Skill** â€” 4 ç§é¢„ç½®å·¥ä½œæµæ¨¡æ¿ï¼ˆfeature/bugfix/refactor/security-auditï¼‰ï¼Œä»£ç†äº¤æ¥åè®®ï¼ŒAgentCoordinator é›†æˆï¼ˆ~620 è¡Œï¼‰
- [x] **Verification Loop Skill** â€” 6 é˜¶æ®µè‡ªåŠ¨åŒ–éªŒè¯æµæ°´çº¿ï¼ˆBuild â†’ TypeCheck â†’ Lint â†’ Test â†’ Security â†’ DiffReviewï¼‰ï¼Œé¡¹ç›®ç±»å‹è‡ªåŠ¨æ£€æµ‹ï¼ŒREADY/NOT READY è£å†³ï¼ˆ~665 è¡Œï¼‰
- [x] **Context Engineering é›†æˆ** â€” InstinctManager æ³¨å…¥ ContextEngineeringï¼Œè‡ªåŠ¨åœ¨ KV-Cache Prompt ä¸­æ·»åŠ å·²å­¦ä¹ æ¨¡å¼
- [x] **æ•°æ®åº“ Schema** â€” instincts + instinct_observations è¡¨ï¼Œå«ç´¢å¼•
- [x] **IPC Registry Phase 17** â€” Instinct Learning System 11 ä¸ª IPC handler æ³¨å†Œ

#### ä»£ç†èƒ½åŠ›ç”»åƒï¼ˆå·²å®ç°åŸºç¡€ç‰ˆ â€” Instinct é©±åŠ¨ï¼‰

```
Instinct é©±åŠ¨çš„èƒ½åŠ›ç”»åƒ:

  Instinct Cache (ç¤ºä¾‹):
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ [tool-preference] confidence: 0.72         â”‚
  â”‚   "User frequently uses file_reader"       â”‚
  â”‚                                            â”‚
  â”‚ [workflow] confidence: 0.35                â”‚
  â”‚   "Sequence: file_reader â†’ analyzer â†’ writer" â”‚
  â”‚                                            â”‚
  â”‚ [error-fix] confidence: 0.60               â”‚
  â”‚   "Recurring error: ENOENT on config path" â”‚
  â”‚                                            â”‚
  â”‚ [coding-pattern] confidence: 0.55          â”‚
  â”‚   "Prefers async/await over callbacks"     â”‚
  â”‚                                            â”‚
  â”‚ è¿›åŒ–: è‡ªåŠ¨ä» PostToolUse äº‹ä»¶æå–          â”‚
  â”‚ æ³¨å…¥: ContextEngineering ç¬¬ 4.5 æ­¥         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### v1.3.0 â€” ML è°ƒåº¦ã€è´Ÿè½½å‡è¡¡ã€CI/CD ä¼˜åŒ–ã€API æ–‡æ¡£

- [x] **ML é©±åŠ¨çš„ä»»åŠ¡è°ƒåº¦** â€” åŸºäºå†å²æ•°æ®è®­ç»ƒè½»é‡æ¨¡å‹ï¼Œé¢„æµ‹ä»»åŠ¡å¤æ‚åº¦å’Œèµ„æºéœ€æ±‚ â†’ `ml-task-scheduler.js` (8 IPC handlers)
- [x] **åŠ¨æ€è´Ÿè½½å‡è¡¡** â€” å®æ—¶ç›‘æ§ä»£ç†è´Ÿè½½ï¼Œè‡ªåŠ¨è¿ç§»ä»»åŠ¡åˆ°ç©ºé—²ä»£ç† â†’ `load-balancer.js` (8 IPC handlers)
- [x] **CI/CD æ·±åº¦ä¼˜åŒ–** â€” æ™ºèƒ½æµ‹è¯•é€‰æ‹©ï¼ˆ70%+ ç¼“å­˜å‘½ä¸­ç‡ï¼‰ã€å¢é‡æ„å»ºç¼–æ’ â†’ `cicd-optimizer.js` (10 IPC handlers)
- [x] **API æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ** â€” æ‰«æ IPC handlers å’Œå‡½æ•°ç­¾åï¼Œç”Ÿæˆ OpenAPI/Swagger æ–‡æ¡£ â†’ `ipc-api-doc-generator.js` (6 IPC handlers)

##### ML é©±åŠ¨çš„ä»»åŠ¡è°ƒåº¦

MLTaskScheduler ä½¿ç”¨åŠ æƒçº¿æ€§å›å½’æ¨¡å‹ï¼ˆæ— å¤–éƒ¨ ML ä¾èµ–ï¼‰é¢„æµ‹ä»»åŠ¡å¤æ‚åº¦ï¼š

- **ç‰¹å¾æå–**: è¯æ•°ã€å…³é”®è¯å¯†åº¦ã€å­ä»»åŠ¡æ•°ã€ä¼˜å…ˆçº§æƒé‡ã€ä»»åŠ¡ç±»å‹åŸºå‡†
- **åœ¨çº¿å­¦ä¹ **: ä»»åŠ¡å®Œæˆåé€šè¿‡æŒ‡æ•°ç§»åŠ¨å¹³å‡ (EMA) æ›´æ–°æƒé‡
- **å¤æ‚åº¦é¢„æµ‹**: 1-10 åˆ†åˆ¶ï¼Œé™„å¸¦ç½®ä¿¡åº¦è¯„ä¼°
- **èµ„æºä¼°ç®—**: æ ¹æ®å¤æ‚åº¦æ¨èä»£ç†æ•°é‡ã€Token é¢„ç®—ã€é¢„ä¼°è€—æ—¶
- **æ‰¹é‡å†è®­ç»ƒ**: æ”¯æŒä»æ•°æ®åº“å†å²æ•°æ®å…¨é‡é‡æ–°è®­ç»ƒ

```javascript
// é¢„æµ‹ä»»åŠ¡å¤æ‚åº¦
const result = await window.electron.ipcRenderer.invoke(
  "ml-scheduler:predict-complexity",
  "é‡æ„è®¤è¯æ¨¡å—ï¼Œæ”¯æŒ OAuth2.0 + PKCE æµç¨‹",
  { priority: "high", type: "refactoring" },
);
// result.data = { complexity: 7.2, confidence: 0.68, estimatedDurationMs: 129600, ... }

// é¢„æµ‹èµ„æºéœ€æ±‚
const resources = await window.electron.ipcRenderer.invoke(
  "ml-scheduler:predict-resources",
  7.2,
  "refactoring",
);
// resources.data = { agentCount: 3, tokenBudget: 15000, tier: 4, ... }
```

| IPC Channel                           | åŠŸèƒ½               |
| ------------------------------------- | ------------------ |
| `ml-scheduler:predict-complexity`     | é¢„æµ‹ä»»åŠ¡å¤æ‚åº¦     |
| `ml-scheduler:predict-resources`      | é¢„æµ‹èµ„æºéœ€æ±‚       |
| `ml-scheduler:get-model-stats`        | æ¨¡å‹å‡†ç¡®ç‡ã€æ ·æœ¬é‡ |
| `ml-scheduler:retrain`                | å¼ºåˆ¶æ‰¹é‡å†è®­ç»ƒ     |
| `ml-scheduler:get-history`            | å†å²é¢„æµ‹ vs å®é™…   |
| `ml-scheduler:get-feature-importance` | ç‰¹å¾æƒé‡æ’å       |
| `ml-scheduler:configure`              | æ›´æ–°è°ƒåº¦å™¨é…ç½®     |
| `ml-scheduler:get-config`             | è·å–å½“å‰é…ç½®       |

##### åŠ¨æ€è´Ÿè½½å‡è¡¡

LoadBalancer å®æ—¶ç›‘æ§æ¯ä¸ªä»£ç†çš„è´Ÿè½½æŒ‡æ ‡ï¼Œè‡ªåŠ¨å»ºè®®ä»»åŠ¡è¿ç§»ï¼š

- **å¤åˆè´Ÿè½½è¯„åˆ†**: `0.4*taskLoad + 0.3*queueDepth + 0.2*errorRate + 0.1*responseTime`
- **å¥åº·ç›‘æ§**: 30s å¿ƒè·³æ£€æŸ¥ï¼Œè‡ªåŠ¨æ ‡è®°æ— å“åº”ä»£ç†
- **è‡ªåŠ¨é‡å¹³è¡¡**: å½“ä»£ç†è´Ÿè½½è¶…è¿‡é˜ˆå€¼ (0.8) æ—¶å»ºè®®è¿ç§»
- **è´Ÿè½½å¸è½½**: ç³»ç»Ÿæ•´ä½“è´Ÿè½½ > 90% æ—¶æ‹’ç»æ–°ä»»åŠ¡

```javascript
// è·å–ç³»ç»Ÿè´Ÿè½½
const load = await window.electron.ipcRenderer.invoke(
  "load-balancer:get-system-load",
);
// load.data = { agents: [...], avgLoad: 0.45, maxLoad: 0.72, loadSheddingActive: false }

// å»ºè®®æœ€ä½³ä»£ç†
const suggestion = await window.electron.ipcRenderer.invoke(
  "load-balancer:suggest-assignment",
  { type: "code-review", priority: "high" },
);
// suggestion.data = { agentId: "agent-3", loadScore: 0.21, reason: "Least loaded agent" }
```

| IPC Channel                        | åŠŸèƒ½                 |
| ---------------------------------- | -------------------- |
| `load-balancer:get-metrics`        | æ‰€æœ‰ä»£ç†è´Ÿè½½æŒ‡æ ‡     |
| `load-balancer:get-agent-load`     | å•ä¸ªä»£ç†è´Ÿè½½         |
| `load-balancer:get-system-load`    | ç³»ç»Ÿè´Ÿè½½æ‘˜è¦         |
| `load-balancer:suggest-assignment` | æ¨èæœ€ä¼˜ä»£ç†         |
| `load-balancer:migrate-task`       | è¿ç§»ä»»åŠ¡åˆ°å…¶ä»–ä»£ç†   |
| `load-balancer:set-threshold`      | é…ç½®è´Ÿè½½é˜ˆå€¼         |
| `load-balancer:get-history`        | è´Ÿè½½å†å²ï¼ˆå›¾è¡¨æ•°æ®ï¼‰ |
| `load-balancer:get-config`         | è·å–å‡è¡¡å™¨é…ç½®       |

##### CI/CD æ·±åº¦ä¼˜åŒ–

CICDOptimizer é€šè¿‡ä¾èµ–å›¾åˆ†æå’Œç¼“å­˜å®ç°æ™ºèƒ½æµ‹è¯•é€‰æ‹©å’Œå¢é‡æ„å»ºï¼š

- **æµ‹è¯•ç¼“å­˜**: SHA256(å˜æ›´æ–‡ä»¶é›†) â†’ ç¼“å­˜æµ‹è¯•é€‰æ‹©ç»“æœï¼Œç›¸åŒå˜æ›´å¤ç”¨
- **ä¾èµ–å›¾**: è§£æ require/import æ„å»ºä¼ é€’æ€§ä¾èµ–æ ‘
- **Flakiness è¯„åˆ†**: è¿½è¸ªæµ‹è¯•é€šè¿‡/å¤±è´¥å†å²ï¼Œè®¡ç®—ä¸ç¨³å®šåº¦
- **è¦†ç›–æ˜ å°„**: æºæ–‡ä»¶ â†” æµ‹è¯•æ–‡ä»¶åŒå‘æ˜ å°„
- **å¢é‡æ„å»º**: DAG æ‹“æ‰‘æ’åºï¼Œå¹¶è¡Œæ‰§è¡Œæ— ä¾èµ–æ­¥éª¤

```javascript
// æ™ºèƒ½æµ‹è¯•é€‰æ‹©
const result = await window.electron.ipcRenderer.invoke("cicd:select-tests", [
  "src/main/llm/context-engineering.js",
  "src/main/llm/session-manager.js",
]);
// result.data = { tests: ["tests/context.test.js", ...], cached: true, hitRate: "75%" }

// å¢é‡æ„å»ºè®¡åˆ’
const plan = await window.electron.ipcRenderer.invoke("cicd:plan-build", [
  "src/main/llm/context-engineering.js",
]);
// plan.data = { steps: [...], savedTimeMs: 85000, savingsPercent: "71%" }
```

| IPC Channel                 | åŠŸèƒ½                |
| --------------------------- | ------------------- |
| `cicd:select-tests`         | æ™ºèƒ½æµ‹è¯•é€‰æ‹©        |
| `cicd:get-cache-stats`      | ç¼“å­˜å‘½ä¸­ç‡          |
| `cicd:clear-cache`          | æ¸…é™¤æµ‹è¯•ç¼“å­˜        |
| `cicd:get-test-history`     | æµ‹è¯• Flakiness æ•°æ® |
| `cicd:get-dependency-graph` | ä¾èµ–å›¾å¯è§†åŒ–        |
| `cicd:plan-build`           | ç”Ÿæˆå¢é‡æ„å»ºè®¡åˆ’    |
| `cicd:execute-build-step`   | æ‰§è¡Œå•ä¸ªæ„å»ºæ­¥éª¤    |
| `cicd:get-build-cache`      | æ„å»ºç¼“å­˜ç»Ÿè®¡        |
| `cicd:analyze-coverage`     | æºç â†’æµ‹è¯•è¦†ç›–åˆ†æ   |
| `cicd:get-config`           | è·å–ä¼˜åŒ–å™¨é…ç½®      |

##### API æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ

IPCApiDocGenerator æ‰«ææ‰€æœ‰ `*-ipc.js` æ–‡ä»¶ï¼Œæå– IPC handler å®šä¹‰ï¼Œç”Ÿæˆ OpenAPI 3.0 è§„èŒƒå’Œ Markdown æ–‡æ¡£ï¼š

- **Handler æ‰«æ**: é€’å½’å‘ç°æ‰€æœ‰ IPC æ–‡ä»¶ï¼Œæ­£åˆ™ + JSDoc è§£æ
- **å‚æ•°æå–**: ä»å‡½æ•°ç­¾åã€è§£æ„æ¨¡å¼ã€`@param` æ ‡ç­¾æå–
- **å“åº”æ¨æ–­**: æ£€æµ‹ `{ success, data, error }` æ ‡å‡†æ¨¡å¼
- **OpenAPI 3.0**: æ¯ä¸ª IPC channel æ˜ å°„ä¸º `POST /ipc/{namespace}/{operation}`
- **Markdown è¾“å‡º**: æŒ‰å‘½åç©ºé—´åˆ†ç»„çš„å¯è¯» API å‚è€ƒ

```javascript
// ç”Ÿæˆå®Œæ•´æ–‡æ¡£
const docs = await window.electron.ipcRenderer.invoke("api-docs:generate", {
  rescan: true,
});
// docs.data = { openApiSpec: {...}, markdown: "# ChainlessChain IPC API\n...", stats: {...} }

// æŸ¥è¯¢ç‰¹å®š channel
const info = await window.electron.ipcRenderer.invoke(
  "api-docs:get-channel-info",
  "instinct:get-all",
);
// info.data = { channel, params, response, file, line, jsdoc }
```

| IPC Channel                 | åŠŸèƒ½                    |
| --------------------------- | ----------------------- |
| `api-docs:generate`         | ç”Ÿæˆ OpenAPI + Markdown |
| `api-docs:scan-handlers`    | æ‰«ææ‰€æœ‰ IPC handlers   |
| `api-docs:get-spec`         | è·å– OpenAPI è§„èŒƒ       |
| `api-docs:get-channel-info` | æŸ¥è¯¢ç‰¹å®š channel ä¿¡æ¯   |
| `api-docs:get-stats`        | Handler ç»Ÿè®¡            |
| `api-docs:get-config`       | è·å–ç”Ÿæˆå™¨é…ç½®          |

#### å…³é”®æ–‡ä»¶

| æ–‡ä»¶                                                                    | è¡Œæ•°   | èŒè´£                      |
| ----------------------------------------------------------------------- | ------ | ------------------------- |
| `src/main/llm/instinct-manager.js`                                      | ~1,100 | Instinct ç®¡ç†æ ¸å¿ƒ         |
| `src/main/llm/instinct-ipc.js`                                          | ~280   | 11 ä¸ª IPC Handler         |
| `src/main/ai-engine/cowork/skills/builtin/orchestrate/handler.js`       | ~507   | Orchestrate ç¼–æ’å¼•æ“      |
| `src/main/ai-engine/cowork/skills/builtin/orchestrate/SKILL.md`         | ~112   | Orchestrate æŠ€èƒ½å®šä¹‰      |
| `src/main/ai-engine/cowork/skills/builtin/verification-loop/handler.js` | ~547   | Verification Loop å¼•æ“    |
| `src/main/ai-engine/cowork/skills/builtin/verification-loop/SKILL.md`   | ~118   | Verification Loop å®šä¹‰    |
| `src/main/llm/context-engineering.js`                                   | +35    | Instinct ä¸Šä¸‹æ–‡æ³¨å…¥é›†æˆ   |
| `src/main/database.js`                                                  | +30    | instincts/observations è¡¨ |
| `src/main/ipc/ipc-registry.js`                                          | +44    | Phase 17 æ³¨å†Œ             |

---

### v2.0.0 â€” è·¨è®¾å¤‡åä½œä¸åˆ†å¸ƒå¼æ‰§è¡Œ âœ…

**ç›®æ ‡**: çªç ´å•è®¾å¤‡é™åˆ¶ï¼Œå®ç°æ¡Œé¢ç«¯ã€Androidã€iOS ä¸‰ç«¯ååŒçš„å¤šæ™ºèƒ½ä½“ç½‘ç»œ

#### å·²å®Œæˆ

- [x] **P2P Agent Network** â€” åŸºäº WebRTC DataChannel + MobileBridge çš„è·¨è®¾å¤‡ä»£ç†é€šä¿¡ï¼Œ15 ç§æ¶ˆæ¯ç±»å‹ï¼Œå¿ƒè·³ç›‘æµ‹ï¼Œä»»åŠ¡å§”æ´¾/ç»“æœå›ä¼ ï¼ˆ~680 è¡Œï¼‰
- [x] **Device Discovery** â€” è‡ªåŠ¨å‘ç°ç½‘ç»œè®¾å¤‡åŠå…¶èƒ½åŠ›ï¼Œ4 çº§èƒ½åŠ›åˆ†å±‚ï¼ˆfull/standard/light/cloudï¼‰ï¼ŒæŠ€èƒ½â†’è®¾å¤‡ç´¢å¼•ï¼Œæœ€ä¼˜è®¾å¤‡è·¯ç”±ï¼ˆ~420 è¡Œï¼‰
- [x] **Hybrid Executor** â€” 6 ç§æ‰§è¡Œç­–ç•¥ï¼ˆlocal-only/remote-only/local-first/remote-first/best-fit/load-balanceï¼‰ï¼Œ4 çº§ä»»åŠ¡æƒé‡åˆ†ç±»ï¼Œæ‰¹é‡æ‰§è¡Œï¼Œå›é€€é‡è¯•ï¼ˆ~510 è¡Œï¼‰
- [x] **Computer Use Bridge** â€” 12 ä¸ª AI å·¥å…·æ˜ å°„ä¸º Cowork æŠ€èƒ½ï¼Œå½•åˆ¶å›æ”¾å…±äº«åº“ï¼ŒFileSandbox + SafeMode ç»Ÿä¸€æƒé™ï¼ˆ~430 è¡Œï¼‰
- [x] **Cowork API Server** â€” RESTful APIï¼ˆ20+ ç«¯ç‚¹ï¼‰ï¼ŒSSE å®æ—¶äº‹ä»¶æ¨é€ï¼ŒBearer/API-Key è®¤è¯ï¼ŒCORSï¼Œé™æµï¼ˆ~520 è¡Œï¼‰
- [x] **Webhook Manager** â€” 17 ç§äº‹ä»¶ç±»å‹ï¼ŒHMAC ç­¾åéªŒè¯ï¼ŒæŒ‡æ•°é€€é¿é‡è¯•ï¼ˆ3 æ¬¡ï¼‰ï¼ŒæŠ•é€’æ—¥å¿—æŒä¹…åŒ–ï¼ˆ~530 è¡Œï¼‰
- [x] **IPC Handler æ³¨å†Œ** â€” 34 ä¸ª IPC handlerï¼ˆPhase 18ï¼‰ï¼Œ6 æ¨¡å—å…¨è¦†ç›–
- [x] **æ•°æ®åº“ Schema** â€” 4 å¼ æ–°è¡¨ï¼ˆp2p_remote_agents, p2p_remote_tasks, cowork_webhooks, cowork_webhook_deliveriesï¼‰

#### è·¨è®¾å¤‡åä½œæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     WebRTC      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Desktop ç«¯      â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚   Android ç«¯      â”‚
â”‚                   â”‚   DataChannel   â”‚                   â”‚
â”‚  92 Skills å…¨é‡   â”‚                â”‚  28 Skills æœ¬åœ°   â”‚
â”‚  GPU åŠ é€Ÿ         â”‚                â”‚  8 REMOTE æŠ€èƒ½    â”‚
â”‚  å…¨èƒ½åŠ›ä»£ç†      â”‚                â”‚  è½»é‡ä»£ç†         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                                     â”‚
         â”‚           WebRTC                    â”‚
         â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
         â””â”€â”€â”€â”€â”€â”€â”¤ Signaling   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ Server 9001 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”¤             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
         â”‚                                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   iOS ç«¯           â”‚                â”‚   äº‘ç«¯ï¼ˆå¯é€‰ï¼‰     â”‚
â”‚                   â”‚                â”‚                   â”‚
â”‚  ComputerUse å·¥å…· â”‚                â”‚  å¤§æ¨¡å‹æ¨ç†       â”‚
â”‚  12 AI Tools      â”‚                â”‚  åˆ†å¸ƒå¼è®¡ç®—       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  æŠ€èƒ½å§”æ´¾è·¯ç”±:
  Android REMOTE skill â†’ P2PSkillBridge â†’ Desktop æ‰§è¡Œ â†’ ç»“æœå›ä¼ 
```

#### P2P Agent Network

åŸºäºç°æœ‰ WebRTC DataChannel å’Œ MobileBridge åŸºç¡€è®¾æ–½ï¼Œå®ç°è·¨è®¾å¤‡ä»£ç†é€šä¿¡åè®®ï¼š

**15 ç§æ¶ˆæ¯ç±»å‹**:

| æ¶ˆæ¯ç±»å‹                      | æ–¹å‘ | è¯´æ˜                    |
| ----------------------------- | ---- | ----------------------- |
| `cowork:agent-announce`       | åŒå‘ | è®¾å¤‡ä¸Šçº¿å¹¿æ’­ + èƒ½åŠ›é€šå‘Š |
| `cowork:agent-depart`         | å¹¿æ’­ | è®¾å¤‡ä¸‹çº¿é€šçŸ¥            |
| `cowork:agent-heartbeat`      | å¹¿æ’­ | å¿ƒè·³ä¿æ´» + èµ„æºçŠ¶æ€æ›´æ–° |
| `cowork:task-delegate`        | å•å‘ | å§”æ´¾ä»»åŠ¡åˆ°è¿œç¨‹è®¾å¤‡      |
| `cowork:task-accept`          | å›å¤ | è¿œç¨‹è®¾å¤‡æ¥å—ä»»åŠ¡        |
| `cowork:task-reject`          | å›å¤ | è¿œç¨‹è®¾å¤‡æ‹’ç»ä»»åŠ¡        |
| `cowork:task-progress`        | å•å‘ | è¿œç¨‹ä»»åŠ¡è¿›åº¦æ›´æ–°        |
| `cowork:task-result`          | å›å¤ | è¿œç¨‹ä»»åŠ¡æ‰§è¡Œç»“æœ        |
| `cowork:task-cancel`          | å•å‘ | å–æ¶ˆè¿œç¨‹ä»»åŠ¡            |
| `cowork:skill-query`          | å¹¿æ’­ | æŸ¥è¯¢è¿œç¨‹æŠ€èƒ½å¯ç”¨æ€§      |
| `cowork:skill-response`       | å›å¤ | è¿œç¨‹æŠ€èƒ½æŸ¥è¯¢å“åº”        |
| `cowork:team-sync`            | å¤šæ’­ | å›¢é˜ŸçŠ¶æ€åŒæ­¥            |
| `cowork:team-invite`          | å•å‘ | é‚€è¯·è¿œç¨‹ä»£ç†åŠ å…¥å›¢é˜Ÿ    |
| `cowork:team-invite-response` | å›å¤ | å›¢é˜Ÿé‚€è¯·å“åº”            |

```javascript
// å§”æ´¾ä»»åŠ¡åˆ°è¿œç¨‹è®¾å¤‡
const result = await p2pNetwork.delegateTask("mobile-peer-001", {
  skillId: "code-review",
  description: "Review the authentication module",
  input: { files: ["src/auth/*.js"] },
  priority: "HIGH",
  timeout: 120000,
});
```

#### Device Discovery

è‡ªåŠ¨å‘ç°ç½‘ç»œä¸­å„è®¾å¤‡çš„å¯ç”¨æŠ€èƒ½å’Œè®¡ç®—èµ„æºï¼š

**4 çº§èƒ½åŠ›åˆ†å±‚**:

| å±‚çº§     | æ ‡è¯†       | å…¸å‹è®¾å¤‡           | ç‰¹å¾                  |
| -------- | ---------- | ------------------ | --------------------- |
| Full     | `full`     | Desktop (Win/Mac)  | 92+ æŠ€èƒ½, GPU, å…¨èƒ½åŠ› |
| Standard | `standard` | Android (10+ æŠ€èƒ½) | 12+ native handler    |
| Light    | `light`    | Android (REMOTE)   | ä»…å§”æ´¾åˆ° Desktop æ‰§è¡Œ |
| Cloud    | `cloud`    | äº‘ç«¯ Worker        | å¤§æ¨¡å‹æ¨ç†, é‡è®¡ç®—    |

```javascript
// æŸ¥æ‰¾èƒ½æ‰§è¡ŒæŒ‡å®šæŠ€èƒ½çš„æœ€ä½³è®¾å¤‡
const device = deviceDiscovery.getBestDeviceForSkill("data-analysis", {
  minCpus: 4,
  minMemoryMB: 2048,
});
// â†’ { deviceId: "local", platform: "win32", tier: "full", ... }

// è·å–å…¨ç½‘ç»œæŠ€èƒ½ç›®å½•
const catalog = deviceDiscovery.getNetworkSkillCatalog();
// â†’ [{ skillId: "code-review", availableOn: [{deviceId, platform, tier}, ...] }, ...]
```

#### Hybrid Executor

æ™ºèƒ½ä»»åŠ¡è·¯ç”±å¼•æ“ï¼Œ6 ç§æ‰§è¡Œç­–ç•¥ï¼š

| ç­–ç•¥         | æ ‡è¯†           | è¡Œä¸º                                |
| ------------ | -------------- | ----------------------------------- |
| Local Only   | `local-only`   | å¼ºåˆ¶æœ¬åœ°æ‰§è¡Œ                        |
| Remote Only  | `remote-only`  | å¼ºåˆ¶è¿œç¨‹æ‰§è¡Œ                        |
| Local First  | `local-first`  | ä¼˜å…ˆæœ¬åœ°ï¼Œå¤±è´¥å›é€€è¿œç¨‹              |
| Remote First | `remote-first` | ä¼˜å…ˆè¿œç¨‹ï¼Œå¤±è´¥å›é€€æœ¬åœ°              |
| Best Fit     | `best-fit`     | æ ¹æ®ä»»åŠ¡æƒé‡ + è®¾å¤‡èƒ½åŠ›è¯„åˆ†é€‰æ‹©æœ€ä¼˜ |
| Load Balance | `load-balance` | æ»šåŠ¨çª—å£è´Ÿè½½å‡è¡¡ï¼Œé€‰æ‹©æœ€ç©ºé—²è®¾å¤‡    |

**4 çº§ä»»åŠ¡æƒé‡åˆ†ç±»**:

| æƒé‡   | å…¸å‹æŠ€èƒ½                              | ç‰¹å¾            |
| ------ | ------------------------------------- | --------------- |
| light  | text-transformer, json-yaml, regex    | < 5s, ä½è®¡ç®—    |
| medium | code-review, lint-and-fix, test-gen   | 5-30s, ä¸­ç­‰è®¡ç®— |
| heavy  | data-analysis, web-scraping, research | 30s+, é«˜è®¡ç®—    |
| gpu    | computer-use, image-editor, OCR       | éœ€ GPU åŠ é€Ÿ     |

```javascript
// Best-fit æ‰§è¡Œ
const result = await hybridExecutor.execute({
  skillId: "code-review",
  description: "Review authentication module",
  input: { files: ["src/auth/*.js"] },
  strategy: "best-fit",
});
// result._executedOn â†’ "local" æˆ– "remote:device-abc123"

// æ‰¹é‡è´Ÿè½½å‡è¡¡æ‰§è¡Œ
const results = await hybridExecutor.executeBatch(
  [
    { skillId: "code-review", input: { file: "a.js" } },
    { skillId: "security-audit", input: { file: "b.js" } },
    { skillId: "test-generator", input: { file: "c.js" } },
  ],
  { concurrency: 3, strategy: "load-balance" },
);
```

#### Computer Use Bridge

12 ä¸ª AI å·¥å…·æ˜ å°„ä¸º Cowork æŠ€èƒ½ï¼š

| CU å·¥å…·              | Cowork æŠ€èƒ½ ID          | æƒé‡   |
| -------------------- | ----------------------- | ------ |
| `browser_click`      | `cu-browser-click`      | light  |
| `visual_click`       | `cu-visual-click`       | medium |
| `browser_type`       | `cu-browser-type`       | light  |
| `browser_key`        | `cu-browser-key`        | light  |
| `browser_scroll`     | `cu-browser-scroll`     | light  |
| `browser_screenshot` | `cu-browser-screenshot` | light  |
| `analyze_page`       | `cu-analyze-page`       | medium |
| `browser_navigate`   | `cu-browser-navigate`   | light  |
| `browser_wait`       | `cu-browser-wait`       | light  |
| `desktop_screenshot` | `cu-desktop-screenshot` | medium |
| `desktop_click`      | `cu-desktop-click`      | light  |
| `desktop_type`       | `cu-desktop-type`       | light  |

**å½•åˆ¶å›æ”¾å…±äº«**:

```javascript
// ä»£ç† A å…±äº«å½•åˆ¶
const shareId = bridge.shareRecording(
  "rec-001",
  {
    steps: [
      { tool: "browser_navigate", params: { url: "https://example.com" } },
      { tool: "browser_click", params: { selector: "#login" } },
      {
        tool: "browser_type",
        params: { selector: "#email", text: "user@..." },
      },
    ],
    metadata: { stopOnError: true },
  },
  { agentId: "agent-A" },
);

// ä»£ç† B å›æ”¾
const result = await bridge.replaySharedRecording(shareId, {
  agentId: "agent-B",
});
// â†’ { success: true, totalSteps: 3, executedSteps: 3, results: [...] }
```

#### Cowork API Server

RESTful API ç«¯ç‚¹ï¼ˆé»˜è®¤ç«¯å£ 9100ï¼‰ï¼š

| æ–¹æ³•     | è·¯å¾„                              | åŠŸèƒ½           |
| -------- | --------------------------------- | -------------- |
| `GET`    | `/api/v1/cowork/health`           | å¥åº·æ£€æŸ¥       |
| `GET`    | `/api/v1/cowork/stats`            | ç»¼åˆç»Ÿè®¡       |
| `GET`    | `/api/v1/cowork/teams`            | åˆ—å‡ºå›¢é˜Ÿ       |
| `POST`   | `/api/v1/cowork/teams`            | åˆ›å»ºå›¢é˜Ÿ       |
| `GET`    | `/api/v1/cowork/teams/:id`        | å›¢é˜Ÿè¯¦æƒ…       |
| `DELETE` | `/api/v1/cowork/teams/:id`        | é”€æ¯å›¢é˜Ÿ       |
| `POST`   | `/api/v1/cowork/teams/:id/tasks`  | åˆ†é…ä»»åŠ¡       |
| `GET`    | `/api/v1/cowork/teams/:id/tasks`  | å›¢é˜Ÿä»»åŠ¡åˆ—è¡¨   |
| `POST`   | `/api/v1/cowork/teams/:id/agents` | åŠ å…¥å›¢é˜Ÿ       |
| `GET`    | `/api/v1/cowork/teams/:id/agents` | æˆå‘˜åˆ—è¡¨       |
| `GET`    | `/api/v1/cowork/skills`           | æŠ€èƒ½åˆ—è¡¨       |
| `POST`   | `/api/v1/cowork/skills/execute`   | æ‰§è¡ŒæŠ€èƒ½       |
| `GET`    | `/api/v1/cowork/devices`          | è®¾å¤‡åˆ—è¡¨       |
| `GET`    | `/api/v1/cowork/devices/skills`   | å…¨ç½‘ç»œæŠ€èƒ½ç›®å½• |
| `GET`    | `/api/v1/cowork/webhooks`         | Webhook åˆ—è¡¨   |
| `POST`   | `/api/v1/cowork/webhooks`         | æ³¨å†Œ Webhook   |
| `DELETE` | `/api/v1/cowork/webhooks/:id`     | åˆ é™¤ Webhook   |
| `GET`    | `/api/v1/cowork/events`           | SSE å®æ—¶äº‹ä»¶æµ |

**è®¤è¯æ–¹å¼**:

```bash
# Bearer Token
curl -H "Authorization: Bearer <token>" http://localhost:9100/api/v1/cowork/teams

# API Key
curl -H "X-API-Key: <key>" http://localhost:9100/api/v1/cowork/teams
```

#### Webhook Manager

17 ç§äº‹ä»¶ç±»å‹ï¼ŒHMAC ç­¾åéªŒè¯ï¼ŒæŒ‡æ•°é€€é¿é‡è¯•ï¼š

| äº‹ä»¶ç±»å‹                    | è§¦å‘æ¡ä»¶       |
| --------------------------- | -------------- |
| `team.created`              | æ–°å›¢é˜Ÿåˆ›å»º     |
| `team.destroyed`            | å›¢é˜Ÿé”€æ¯       |
| `team.paused`               | å›¢é˜Ÿæš‚åœ       |
| `team.resumed`              | å›¢é˜Ÿæ¢å¤       |
| `agent.joined`              | ä»£ç†åŠ å…¥å›¢é˜Ÿ   |
| `agent.terminated`          | ä»£ç†ç»ˆæ­¢       |
| `agent.remote.connected`    | è¿œç¨‹ä»£ç†è¿æ¥   |
| `agent.remote.disconnected` | è¿œç¨‹ä»£ç†æ–­å¼€   |
| `task.assigned`             | ä»»åŠ¡åˆ†é…       |
| `task.completed`            | ä»»åŠ¡å®Œæˆ       |
| `task.failed`               | ä»»åŠ¡å¤±è´¥       |
| `task.delegated`            | ä»»åŠ¡å§”æ´¾åˆ°è¿œç¨‹ |
| `skill.executed`            | æŠ€èƒ½æ‰§è¡ŒæˆåŠŸ   |
| `skill.failed`              | æŠ€èƒ½æ‰§è¡Œå¤±è´¥   |
| `vote.completed`            | æŠ•ç¥¨å†³ç­–å®Œæˆ   |
| `device.discovered`         | æ–°è®¾å¤‡å‘ç°     |
| `device.offline`            | è®¾å¤‡ç¦»çº¿       |

```javascript
// æ³¨å†Œ Webhook
const webhook = webhookManager.registerWebhook({
  url: "https://ci.example.com/cowork-hook",
  events: ["task.completed", "task.failed"],
  secret: "my-hmac-secret",
});

// è¯·æ±‚å¤´åŒ…å« HMAC ç­¾å:
// X-Webhook-Signature: sha256=<hex-digest>
// X-Webhook-Event: task.completed
// X-Webhook-Delivery: dlv-abc12345
```

#### v2.0.0 IPC é€šé“ï¼ˆ34 ä¸ª â€” Phase 18ï¼‰

**P2P Agent Networkï¼ˆ9 ä¸ªï¼‰**:

| é€šé“                          | åŠŸèƒ½                 |
| ----------------------------- | -------------------- |
| `p2p-agent:get-remote-agents` | è·å–è¿œç¨‹ä»£ç†åˆ—è¡¨     |
| `p2p-agent:find-for-skill`    | æŒ‰æŠ€èƒ½æŸ¥æ‰¾è¿œç¨‹ä»£ç†   |
| `p2p-agent:delegate-task`     | å§”æ´¾ä»»åŠ¡åˆ°è¿œç¨‹       |
| `p2p-agent:cancel-task`       | å–æ¶ˆè¿œç¨‹ä»»åŠ¡         |
| `p2p-agent:query-skill`       | å¹¿æ’­æŸ¥è¯¢è¿œç¨‹æŠ€èƒ½     |
| `p2p-agent:invite-to-team`    | é‚€è¯·è¿œç¨‹ä»£ç†åŠ å…¥å›¢é˜Ÿ |
| `p2p-agent:sync-team`         | åŒæ­¥å›¢é˜ŸçŠ¶æ€åˆ°è¿œç¨‹   |
| `p2p-agent:announce`          | å¹¿æ’­æœ¬åœ°è®¾å¤‡åœ¨çº¿     |
| `p2p-agent:get-stats`         | P2P ç½‘ç»œç»Ÿè®¡         |

**Device Discoveryï¼ˆ5 ä¸ªï¼‰**:

| é€šé“                        | åŠŸèƒ½               |
| --------------------------- | ------------------ |
| `device:get-all`            | è·å–æ‰€æœ‰è®¾å¤‡       |
| `device:get-by-id`          | è·å–æŒ‡å®šè®¾å¤‡è¯¦æƒ…   |
| `device:find-for-skill`     | æŒ‰æŠ€èƒ½æŸ¥æ‰¾æœ€ä¼˜è®¾å¤‡ |
| `device:get-network-skills` | å…¨ç½‘ç»œæŠ€èƒ½ç›®å½•     |
| `device:get-stats`          | è®¾å¤‡å‘ç°ç»Ÿè®¡       |

**Hybrid Executorï¼ˆ3 ä¸ªï¼‰**:

| é€šé“                   | åŠŸèƒ½             |
| ---------------------- | ---------------- |
| `hybrid:execute`       | æ™ºèƒ½è·¯ç”±æ‰§è¡Œä»»åŠ¡ |
| `hybrid:execute-batch` | æ‰¹é‡è´Ÿè½½å‡è¡¡æ‰§è¡Œ |
| `hybrid:get-stats`     | æ‰§è¡Œå™¨ç»Ÿè®¡       |

**Computer Use Bridgeï¼ˆ6 ä¸ªï¼‰**:

| é€šé“                         | åŠŸèƒ½             |
| ---------------------------- | ---------------- |
| `cu-bridge:execute`          | æ‰§è¡Œ CU å·¥å…·åŠ¨ä½œ |
| `cu-bridge:share-recording`  | å…±äº«å½•åˆ¶         |
| `cu-bridge:list-recordings`  | åˆ—å‡ºå…±äº«å½•åˆ¶     |
| `cu-bridge:replay-recording` | å›æ”¾å…±äº«å½•åˆ¶     |
| `cu-bridge:get-permissions`  | è·å–ä»£ç† CU æƒé™ |
| `cu-bridge:get-stats`        | CU Bridge ç»Ÿè®¡   |

**Cowork API Serverï¼ˆ4 ä¸ªï¼‰**:

| é€šé“                       | åŠŸèƒ½          |
| -------------------------- | ------------- |
| `cowork-api:start`         | å¯åŠ¨ API æœåŠ¡ |
| `cowork-api:stop`          | åœæ­¢ API æœåŠ¡ |
| `cowork-api:get-status`    | è·å–æœåŠ¡çŠ¶æ€  |
| `cowork-api:broadcast-sse` | å¹¿æ’­ SSE äº‹ä»¶ |

**Webhook Managerï¼ˆ7 ä¸ªï¼‰**:

| é€šé“                       | åŠŸèƒ½              |
| -------------------------- | ----------------- |
| `webhook:register`         | æ³¨å†Œ Webhook      |
| `webhook:unregister`       | åˆ é™¤ Webhook      |
| `webhook:update`           | æ›´æ–° Webhook é…ç½® |
| `webhook:list`             | åˆ—å‡ºæ‰€æœ‰ Webhook  |
| `webhook:dispatch`         | æ‰‹åŠ¨æ´¾å‘äº‹ä»¶      |
| `webhook:get-delivery-log` | è·å–æŠ•é€’æ—¥å¿—      |
| `webhook:get-stats`        | Webhook ç»Ÿè®¡      |

#### æ•°æ®åº“ Schemaï¼ˆv2.0.0 æ–°å¢ 4 è¡¨ï¼‰

```sql
-- P2P è¿œç¨‹ä»£ç†æ³¨å†Œè¡¨
CREATE TABLE p2p_remote_agents (
  peer_id TEXT PRIMARY KEY,
  device_id TEXT NOT NULL,
  platform TEXT,
  skills TEXT DEFAULT '[]',
  resources TEXT DEFAULT '{}',
  state TEXT DEFAULT 'offline',
  last_heartbeat TEXT,
  registered_at TEXT,
  updated_at TEXT
);

-- P2P è¿œç¨‹ä»»åŠ¡è®°å½•
CREATE TABLE p2p_remote_tasks (
  task_id TEXT PRIMARY KEY,
  peer_id TEXT NOT NULL,
  skill_id TEXT,
  description TEXT,
  input TEXT DEFAULT '{}',
  status TEXT DEFAULT 'pending',
  result TEXT,
  delegated_at TEXT,
  completed_at TEXT
);

-- Webhook æ³¨å†Œè¡¨
CREATE TABLE cowork_webhooks (
  id TEXT PRIMARY KEY,
  url TEXT NOT NULL,
  events TEXT DEFAULT '[]',
  secret TEXT,
  metadata TEXT DEFAULT '{}',
  active INTEGER DEFAULT 1,
  delivery_count INTEGER DEFAULT 0,
  last_delivery TEXT,
  fail_count INTEGER DEFAULT 0,
  created_at TEXT
);

-- Webhook æŠ•é€’æ—¥å¿—
CREATE TABLE cowork_webhook_deliveries (
  id TEXT PRIMARY KEY,
  webhook_id TEXT NOT NULL,
  event_type TEXT NOT NULL,
  status TEXT DEFAULT 'pending',
  http_status INTEGER,
  attempt INTEGER DEFAULT 0,
  error TEXT,
  created_at TEXT
);
```

#### å…³é”®æ–‡ä»¶

| æ–‡ä»¶                                               | è¡Œæ•° | èŒè´£                          |
| -------------------------------------------------- | ---- | ----------------------------- |
| `src/main/ai-engine/cowork/p2p-agent-network.js`   | ~680 | P2P ä»£ç†ç½‘ç»œï¼ˆ15 ç§æ¶ˆæ¯ç±»å‹ï¼‰ |
| `src/main/ai-engine/cowork/device-discovery.js`    | ~420 | è®¾å¤‡èƒ½åŠ›å‘ç°ï¼ˆ4 çº§åˆ†å±‚ï¼‰      |
| `src/main/ai-engine/cowork/hybrid-executor.js`     | ~510 | æ··åˆæ‰§è¡Œç­–ç•¥ï¼ˆ6 ç§ç­–ç•¥ï¼‰      |
| `src/main/ai-engine/cowork/computer-use-bridge.js` | ~430 | Computer Use é›†æˆï¼ˆ12 å·¥å…·ï¼‰  |
| `src/main/ai-engine/cowork/cowork-api-server.js`   | ~520 | RESTful API æœåŠ¡ï¼ˆ20+ ç«¯ç‚¹ï¼‰  |
| `src/main/ai-engine/cowork/webhook-manager.js`     | ~530 | Webhook äº‹ä»¶æ¨é€ï¼ˆ17 äº‹ä»¶ï¼‰   |
| `src/main/ai-engine/cowork/cowork-v2-ipc.js`       | ~420 | 34 ä¸ª IPC Handler             |
| `src/main/database.js`                             | +55  | 4 å¼ æ–°è¡¨                      |
| `src/main/ipc/ipc-registry.js`                     | +95  | Phase 18 æ³¨å†Œ                 |

---

### v2.1.0 â€” è‡ªè¿›åŒ–ä¸çŸ¥è¯†å›¾è°±

**ç›®æ ‡**: æ„å»ºèƒ½å¤Ÿè‡ªæˆ‘å­¦ä¹ å’ŒçŸ¥è¯†ç§¯ç´¯çš„æ™ºèƒ½ä»£ç†ç½‘ç»œ

#### çŸ¥è¯†å›¾è°±é©±åŠ¨

- [ ] **ä»£ç çŸ¥è¯†å›¾è°±** â€” åŸºäº `knowledge-graph` æŠ€èƒ½è‡ªåŠ¨æ„å»ºé¡¹ç›®ä»£ç çš„å®ä½“å…³ç³»å›¾è°±ï¼ˆç±»ã€å‡½æ•°ã€æ¨¡å—ã€ä¾èµ–ï¼‰
- [ ] **å†³ç­–çŸ¥è¯†åº“** â€” ç§¯ç´¯å†å²å†³ç­–æ•°æ®ï¼ˆæŠ•ç¥¨ç»“æœã€æ–¹æ¡ˆé€‰æ‹©ã€æ•…éšœå¤„ç†ï¼‰ï¼Œä¸ºæœªæ¥å†³ç­–æä¾›å‚è€ƒ
- [ ] **æœ€ä½³å®è·µæ¨è** â€” åŸºäºçŸ¥è¯†å›¾è°±åˆ†æï¼Œè‡ªåŠ¨æ¨èé€‚åˆå½“å‰ä»»åŠ¡çš„ä»£ç æ¨¡å¼å’Œè§£å†³æ–¹æ¡ˆ

#### çŸ¥è¯†å›¾è°±æ¶æ„

```
ä»£ç çŸ¥è¯†å›¾è°±:

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    imports    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Module A â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ Module B â”‚
  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚ contains                â”‚ contains
       â–¼                         â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    calls     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Class X  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ Class Y  â”‚
  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
       â”‚ has method              â”‚ has method
       â–¼                         â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   depends    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ func()  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚ func()  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  å†³ç­–çŸ¥è¯†å›¾:

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ é—®é¢˜ P001    â”‚
  â”‚ "æ€§èƒ½ç“¶é¢ˆ"   â”‚
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ å†å²æ–¹æ¡ˆ
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â–¼         â–¼            â–¼
  æ–¹æ¡ˆA     æ–¹æ¡ˆB        æ–¹æ¡ˆC
  (ç¼“å­˜)   (ç´¢å¼•ä¼˜åŒ–)   (å¼‚æ­¥å¤„ç†)
  æˆåŠŸç‡92% æˆåŠŸç‡78%   æˆåŠŸç‡85%
    â†“
  æ¨èæ–¹æ¡ˆA
```

#### è‡ªè¿›åŒ–ä»£ç†

- [ ] **æŠ€èƒ½è‡ªåŠ¨å‘ç°** â€” ä»£ç†æ ¹æ®ä»»åŠ¡å¤±è´¥åŸå› è‡ªåŠ¨æœç´¢ Marketplace ä¸­çš„æ–°æŠ€èƒ½å¹¶å»ºè®®å®‰è£…
- [ ] **Prompt è‡ªä¼˜åŒ–** â€” åŸºäºæ‰§è¡Œç»“æœåé¦ˆï¼Œè‡ªåŠ¨è°ƒä¼˜æŠ€èƒ½çš„ Prompt æ¨¡æ¿ï¼ˆé›†æˆ `prompt-enhancer`ï¼‰
- [ ] **ç»éªŒå›æ”¾å­¦ä¹ ** â€” å°†æˆåŠŸçš„ä»»åŠ¡æ‰§è¡Œè·¯å¾„æå–ä¸ºæ–°çš„å·¥ä½œæµæ¨¡æ¿ï¼ŒæŒç»­ä¸°å¯Œæ¨¡æ¿åº“

#### é«˜çº§åä½œæ¨¡å¼

- [ ] **è¾©è®ºå¼ä»£ç å®¡æŸ¥** â€” å¤šä¸ªä»£ç†ä»ä¸åŒè§’åº¦ï¼ˆæ€§èƒ½ã€å®‰å…¨ã€å¯ç»´æŠ¤æ€§ï¼‰å®¡æŸ¥ä»£ç ï¼Œé€šè¿‡æŠ•ç¥¨è¾¾æˆå…±è¯†
- [ ] **A/B æ–¹æ¡ˆå¯¹æ¯”** â€” å¯¹åŒä¸€ä»»åŠ¡ç”Ÿæˆå¤šä¸ªå®ç°æ–¹æ¡ˆï¼Œè‡ªåŠ¨è¿è¡ŒåŸºå‡†æµ‹è¯•å¹¶æ¨èæœ€ä¼˜æ–¹æ¡ˆ
- [ ] **æµå¼ä»»åŠ¡å¤„ç†** â€” æ”¯æŒæ•°æ®æµå¼å¤„ç†æ¨¡å¼ï¼Œé€‚ç”¨äºæ—¥å¿—åˆ†æã€å®æ—¶ç›‘æ§ç­‰æŒç»­æ€§ä»»åŠ¡

#### è¾©è®ºå¼ä»£ç å®¡æŸ¥æµç¨‹

```
ä»£ç å˜æ›´æäº¤
      â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â–¼                 â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ€§èƒ½ä»£ç†  â”‚    â”‚ å®‰å…¨ä»£ç†  â”‚        â”‚ ç»´æŠ¤æ€§ä»£ç†â”‚
â”‚          â”‚    â”‚          â”‚        â”‚          â”‚
â”‚ åˆ†ææ€§èƒ½  â”‚    â”‚ æ‰«ææ¼æ´  â”‚        â”‚ æ£€æŸ¥å¯è¯»æ€§â”‚
â”‚ å½±å“     â”‚    â”‚ å®‰å…¨éšæ‚£  â”‚        â”‚ å¤æ‚åº¦    â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚               â”‚                   â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  æŠ•ç¥¨å†³ç­–      â”‚
              â”‚              â”‚
              â”‚ æ€§èƒ½: é€šè¿‡    â”‚
              â”‚ å®‰å…¨: éœ€ä¿®æ”¹  â”‚
              â”‚ ç»´æŠ¤: é€šè¿‡    â”‚
              â”‚              â”‚
              â”‚ ç»“æœ: éœ€ä¿®æ”¹  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å…³é”®æ–‡ä»¶ï¼ˆè§„åˆ’ï¼‰

| æ–‡ä»¶                                                   | èŒè´£              |
| ------------------------------------------------------ | ----------------- |
| `src/main/ai-engine/cowork/code-knowledge-graph.js`    | ä»£ç çŸ¥è¯†å›¾è°±æ„å»º  |
| `src/main/ai-engine/cowork/decision-knowledge-base.js` | å†³ç­–çŸ¥è¯†åº“        |
| `src/main/ai-engine/cowork/skill-discoverer.js`        | æŠ€èƒ½è‡ªåŠ¨å‘ç°      |
| `src/main/ai-engine/cowork/prompt-optimizer.js`        | Prompt è‡ªä¼˜åŒ–å¼•æ“ |
| `src/main/ai-engine/cowork/debate-review.js`           | è¾©è®ºå¼ä»£ç å®¡æŸ¥    |
| `src/main/ai-engine/cowork/ab-comparator.js`           | A/B æ–¹æ¡ˆå¯¹æ¯”å¼•æ“  |

---

### é•¿æœŸæ„¿æ™¯ (2026 H2+)

| æ–¹å‘                 | ç›®æ ‡                                 | å…³é”®æŒ‡æ ‡              |
| -------------------- | ------------------------------------ | --------------------- |
| **å…¨è‡ªåŠ¨å¼€å‘æµæ°´çº¿** | ä»éœ€æ±‚åˆ°éƒ¨ç½²å…¨ç¨‹ AI ä»£ç†åä½œ         | äººå·¥å¹²é¢„ç‡ < 20%      |
| **è‡ªç„¶è¯­è¨€ç¼–ç¨‹**     | ç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ï¼Œä»£ç†å›¢é˜Ÿè‡ªåŠ¨å®ç° | éœ€æ±‚â†’ä»£ç è½¬åŒ–ç‡ > 80% |
| **å»ä¸­å¿ƒåŒ–ä»£ç†ç½‘ç»œ** | åŸºäº DID çš„ä»£ç†èº«ä»½è®¤è¯å’Œè·¨ç»„ç»‡åä½œ  | æ”¯æŒ 100+ èŠ‚ç‚¹        |
| **å¤šæ¨¡æ€åä½œ**       | é›†æˆè¯­éŸ³ã€è§†è§‰ã€æ–‡æ¡£ç­‰å¤šæ¨¡æ€è¾“å…¥è¾“å‡º | æ”¯æŒ 5+ æ¨¡æ€          |
| **è‡ªä¸»è¿ç»´**         | ä»£ç†è‡ªåŠ¨ç›‘æ§ã€è¯Šæ–­ã€ä¿®å¤ç”Ÿäº§ç¯å¢ƒé—®é¢˜ | MTTR < 5 åˆ†é’Ÿ         |

### è·¯çº¿å›¾æ€»è§ˆ

| ç‰ˆæœ¬   | åŠŸèƒ½                   | æ ¸å¿ƒæŠ€æœ¯                            | çŠ¶æ€      |
| ------ | ---------------------- | ----------------------------------- | --------- |
| v1.1.0 | æŠ€èƒ½ç”Ÿæ€ä¸å·¥ä½œæµé›†æˆ   | Pipelineã€Vue Flowã€Git Hooks       | âœ… å·²å®Œæˆ |
| v1.2.0 | ä¸“ä¸šåŒ–ä»£ç†ä¸æ™ºèƒ½è°ƒåº¦   | Instinctã€Orchestrateã€Verification | âœ… å·²å®Œæˆ |
| v1.3.0 | ML è°ƒåº¦ä¸ CI/CD ä¼˜åŒ–   | çº¿æ€§å›å½’ã€è´Ÿè½½å‡è¡¡ã€OpenAPI 3.0     | âœ… å·²å®Œæˆ |
| v2.0.0 | è·¨è®¾å¤‡åä½œä¸åˆ†å¸ƒå¼æ‰§è¡Œ | WebRTC P2Pã€REST APIã€Webhook       | âœ… å·²å®Œæˆ |
| v2.1.0 | è‡ªè¿›åŒ–ä¸çŸ¥è¯†å›¾è°±       | çŸ¥è¯†å›¾è°±ã€Prompt ä¼˜åŒ–               | â­â­â­    |

## è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç å’Œåé¦ˆé—®é¢˜ï¼

- [GitHub Issues](https://github.com/chainlesschain/issues)
- [è´¡çŒ®æŒ‡å—](https://github.com/chainlesschain/CONTRIBUTING.md)

## è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](https://github.com/chainlesschain/LICENSE)

---

**ä»£ç è¡Œæ•°**: ~24,300 è¡Œ (å«æµ‹è¯•å’Œæ–‡æ¡£)
**IPC å¤„ç†å™¨**: 131 ä¸ª (51 æ ¸å¿ƒ + 35 v1.1.0 + 11 v1.2.0 + 34 v2.0.0)
**å†…ç½®æŠ€èƒ½**: 92+ ä¸ª (100% Handler è¦†ç›–, æ‡’åŠ è½½, +12 CU Bridge æŠ€èƒ½)
**æµæ°´çº¿æ¨¡æ¿**: 10 ä¸ªé¢„ç½®æ¨¡æ¿
**è·¨è®¾å¤‡æ”¯æŒ**: Desktop + Android + iOS + Cloud (4 å¹³å°)
**API ç«¯ç‚¹**: 20+ RESTful ç«¯ç‚¹ + SSE å®æ—¶æ¨é€
**Webhook äº‹ä»¶**: 17 ç§äº‹ä»¶ç±»å‹
**æµ‹è¯•ç”¨ä¾‹**: 440+ (é€šè¿‡ç‡ 99.6%)
**ç»´æŠ¤è€…**: ChainlessChain Team
