# ChainlessChain Markdown富文本编辑器使用指南

欢迎使用ChainlessChain v0.31.0的Markdown富文本编辑器！本指南将帮助你掌握如何创作格式丰富、表达力强的动态内容。

---

## 📖 目录

1. [功能概述](#功能概述)
2. [快速开始](#快速开始)
3. [工具栏功能](#工具栏功能)
4. [Markdown语法详解](#markdown语法详解)
5. [编辑模式切换](#编辑模式切换)
6. [高级技巧](#高级技巧)
7. [常见问题](#常见问题)

---

## 功能概述

Markdown富文本编辑器让你可以：

- ✍️ **边写边看**: 实时语法高亮，即时预览效果
- 🛠️ **一键格式化**: 8种常用格式，点击即可插入
- 👁️ **三种模式**: 编辑/预览/分屏模式自由切换
- 🎨 **代码高亮**: 支持Kotlin、Java、Python等多种语言
- 📊 **智能统计**: 自动计算渲染后的实际字数

**适用场景**:

- 📝 分享技术文章和代码片段
- 📋 制作清单和待办事项
- 📖 撰写长文和教程
- 🎯 突出重点内容

---

## 快速开始

### 步骤1: 打开发布页面

1. 进入"社交"页面
2. 点击右上角的 **"发布"** 按钮（或底部的"+"按钮）
3. 自动进入Markdown编辑器

### 步骤2: 开始输入

在编辑框中输入内容，支持两种方式：

**方式一：直接输入Markdown语法**

```markdown
# 标题

这是**粗体**，这是*斜体*
```

**方式二：选中文本后点击工具栏按钮**

1. 输入"粗体文本"
2. 选中文本
3. 点击工具栏的 **B** 按钮
4. 自动变为 `**粗体文本**`

<img src="./images/markdown_editor.png" width="400" alt="Markdown编辑器界面" />

---

## 工具栏功能

编辑器顶部有8个格式按钮：

| 图标    | 名称     | 快捷操作      | Markdown语法   |
| ------- | -------- | ------------- | -------------- |
| **B**   | 粗体     | 选中文本→点击 | `**text**`     |
| _I_     | 斜体     | 选中文本→点击 | `*text*`       |
| ~~S~~   | 删除线   | 选中文本→点击 | `~~text~~`     |
| **H**   | 标题     | 点击插入      | `# text`       |
| **•**   | 无序列表 | 点击插入      | `- text`       |
| **1.**  | 有序列表 | 点击插入      | `1. text`      |
| **</>** | 代码块   | 选中代码→点击 | ` ```code``` ` |
| **🔗**  | 链接     | 选中文本→点击 | `[text](url)`  |

### 工具栏使用示例

#### 1. 粗体（Bold）

**操作步骤**:

```
1. 输入"重要提示"
2. 选中文本
3. 点击 B 按钮
```

**效果**:

```markdown
输入前: 重要提示
输入后: **重要提示**
渲染结果: 重要提示（加粗显示）
```

#### 2. 标题（Heading）

**操作步骤**:

```
1. 光标定位到行首
2. 点击 H 按钮
3. 连续点击可升级标题（H1→H2→...→H6→普通文本）
```

**效果**:

```markdown
第1次点击: # 标题 (H1)
第2次点击: ## 标题 (H2)
第3次点击: ### 标题 (H3)
...
第7次点击: 标题 (取消标题)
```

#### 3. 列表（List）

**无序列表**:

```
1. 点击 • 按钮
2. 自动插入 "- 列表项"
3. 继续输入，按Enter自动添加新行
```

**有序列表**:

```
1. 点击 1. 按钮
2. 自动插入 "1. 列表项"
3. 后续行自动编号 2. 3. 4...
```

#### 4. 代码块（Code Block）

**操作步骤**:

````
1. 输入代码（或选中已有代码）
2. 点击 </> 按钮
3. 自动添加 ``` 包裹
````

**指定语言**（手动添加）:

````markdown
```kotlin
fun greet(name: String) {
    println("Hello, $name!")
}
```
````

````

---

## Markdown语法详解

### 1. 文本格式

| 语法 | 效果 | 示例 |
|------|------|------|
| `**粗体**` | **粗体** | 这是**重要内容** |
| `*斜体*` | *斜体* | 这是*强调内容* |
| `~~删除线~~` | ~~删除线~~ | 这是~~错误内容~~ |
| `` `代码` `` | `代码` | 使用`println()`函数 |

**组合使用**:
```markdown
***粗斜体***
~~**删除粗体**~~
*~~删除斜体~~*
````

### 2. 标题

```markdown
# 一级标题 (H1)

## 二级标题 (H2)

### 三级标题 (H3)

#### 四级标题 (H4)

##### 五级标题 (H5)

###### 六级标题 (H6)
```

**渲染效果**:

# 一级标题

## 二级标题

### 三级标题

**最佳实践**:

- 一篇文档只用一个H1（作为标题）
- 使用H2-H4构建层级结构
- 避免跨级使用（如H1直接跳到H3）

### 3. 列表

**无序列表**:

```markdown
- 第一项
- 第二项
  - 子项1
  - 子项2
- 第三项
```

**渲染效果**:

- 第一项
- 第二项
  - 子项1
  - 子项2
- 第三项

**有序列表**:

```markdown
1. 第一步
2. 第二步
   1. 子步骤1
   2. 子步骤2
3. 第三步
```

**渲染效果**:

1. 第一步
2. 第二步
   1. 子步骤1
   2. 子步骤2
3. 第三步

**任务列表**（扩展语法）:

```markdown
- [x] 已完成任务
- [ ] 未完成任务
- [ ] 待办事项
```

### 4. 代码块

**行内代码**:

```markdown
使用 `System.out.println()` 打印日志
```

**多行代码块**:

````markdown
```kotlin
fun main() {
    println("Hello, ChainlessChain!")
}
```
````

**支持的语言高亮**:

- `kotlin`, `java`, `python`, `javascript`, `typescript`
- `c`, `cpp`, `csharp`, `go`, `rust`, `swift`
- `html`, `css`, `json`, `xml`, `yaml`, `sql`

**示例（Kotlin高亮）**:

```kotlin
data class User(
    val id: String,
    val name: String
)

fun greet(user: User) {
    println("Hello, ${user.name}!")
}
```

### 5. 链接

**基本链接**:

```markdown
[ChainlessChain官网](https://chainlesschain.com)
```

**自动链接**:

```markdown
https://github.com/chainlesschain/chainlesschain
```

**带标题的链接**（鼠标悬停显示）:

```markdown
[ChainlessChain](https://chainlesschain.com "去官网看看")
```

### 6. 图片

**图片语法**（需要图片URL）:

```markdown
![替代文本](https://example.com/image.jpg)
```

**本地图片**（先上传）:

1. 使用编辑器下方的"图片"按钮上传
2. 上传成功后自动获得URL
3. 在Markdown中引用该URL

### 7. 引用

```markdown
> 这是一条引用
>
> 可以跨越多行
```

**渲染效果**:

> 这是一条引用
>
> 可以跨越多行

### 8. 表格

```markdown
| 列1   | 列2   | 列3   |
| ----- | ----- | ----- |
| 数据1 | 数据2 | 数据3 |
| 数据4 | 数据5 | 数据6 |
```

**渲染效果**:
| 列1 | 列2 | 列3 |
|-----|-----|-----|
| 数据1 | 数据2 | 数据3 |
| 数据4 | 数据5 | 数据6 |

**对齐方式**:

```markdown
| 左对齐 | 居中 | 右对齐 |
| :----- | :--: | -----: |
| 文本   | 文本 |   文本 |
```

---

## 编辑模式切换

编辑器支持三种模式，点击右上角的模式切换按钮（👁️图标）循环切换。

### 模式1: 编辑模式 (EDIT)

**特点**:

- 显示原始Markdown文本
- 实时语法高亮
- 工具栏全部可用
- 适合专注写作

**图示**:

````
┌─────────────────────────────┐
│  [B][I][S][H][•][1.][</>][🔗] │ 工具栏
├─────────────────────────────┤
│  # 标题                      │
│  这是**粗体**文本            │
│  - 列表项1                   │
│  - 列表项2                   │
│                              │
│  ```kotlin                   │
│  fun test()                  │
│  ```                         │
└─────────────────────────────┘
````

### 模式2: 预览模式 (PREVIEW)

**特点**:

- 显示渲染后的效果
- 只读模式，无法编辑
- 隐藏Markdown语法符号
- 适合查看最终效果

**图示**:

```
┌─────────────────────────────┐
│         [切换模式]            │
├─────────────────────────────┤
│                              │
│  一级标题                     │
│                              │
│  这是粗体文本                 │
│  • 列表项1                   │
│  • 列表项2                   │
│                              │
│  [代码块（高亮显示）]         │
│                              │
└─────────────────────────────┘
```

### 模式3: 分屏模式 (SPLIT)

**特点**:

- 左侧编辑，右侧实时预览
- 同步滚动
- 修改立即生效
- 适合边写边看

**图示**:

````
┌──────────────┬──────────────┐
│ 编辑区       │ 预览区       │
├──────────────┼──────────────┤
│ # 标题       │  一级标题     │
│ **粗体**     │  粗体        │
│ - 列表       │  • 列表      │
│              │              │
│ ```kotlin    │ [高亮代码]   │
│ fun test()   │              │
│ ```          │              │
└──────────────┴──────────────┘
````

**模式切换循环**:

```
编辑模式 → 预览模式 → 分屏模式 → 编辑模式 → ...
```

---

## 高级技巧

### 1. 使用快捷键（自定义键盘）

如果使用外接键盘，部分Markdown编辑器支持快捷键：

| 快捷键             | 功能     |
| ------------------ | -------- |
| `Ctrl + B`         | 粗体     |
| `Ctrl + I`         | 斜体     |
| `Ctrl + K`         | 插入链接 |
| `Ctrl + Shift + C` | 代码块   |

_注：移动端默认不支持，需外接键盘_

### 2. 嵌套格式

**列表嵌套**:

````markdown
1. 第一步
   - 子项A
   - 子项B
     - 子子项1
2. 第二步
   ```kotlin
   // 在列表中嵌入代码
   fun example() {}
   ```
````

````

**引用嵌套**:
```markdown
> 一级引用
>> 二级引用
>>> 三级引用
````

### 3. 表格对齐技巧

```markdown
| 左对齐 | 居中对齐 | 右对齐 |
| :----- | :------: | -----: |
| 内容1  |  内容2   |  内容3 |
```

### 4. 长文档分段

对于超过1000字的长文档，建议：

```markdown
# 主标题

## 第一部分

内容...

---

## 第二部分

内容...

---

## 第三部分

内容...
```

使用 `---` 创建分隔线，让内容更清晰。

### 5. 字数统计

编辑器底部显示两种字数：

```
158 字 (Markdown) · 原始 187 字符
```

- **Markdown字数**: 渲染后去除格式符号的实际字数
- **原始字符**: 包含Markdown语法的总字符数

**实际案例**:

```markdown
输入: **粗体** (8字符)
Markdown字数: 2字 (只计算"粗体")
```

---

## 常见问题

### Q1: 格式按钮点击后没反应？

**解决方案**:

1. 确保光标在编辑框内
2. 如果需要包裹文本，先选中文本再点击按钮
3. 尝试重启应用

---

### Q2: 预览模式看不到效果？

**可能原因**:

- Markdown语法错误
- 缺少必要的符号（如代码块的三个反引号）

**解决方案**:
切换回编辑模式，检查语法是否正确。

---

### Q3: 代码高亮不生效？

**检查清单**:

````markdown
✅ 正确写法：

```kotlin
fun test() {}
```
````

❌ 错误写法：

```kotli（拼写错误）
fun test() {}
```

````

确保语言名称拼写正确，支持的语言列表见"代码块"章节。

---

### Q4: 在分屏模式下滚动不同步？

**临时解决方案**:
1. 切换到其他模式再切回分屏
2. 手动滚动左侧编辑区，右侧会跟随
3. 如果仍不同步，重启应用

**已知问题**: 部分设备在快速滚动时可能出现延迟。

---

### Q5: 表格在手机上显示不全？

**解决方案**:
- 减少表格列数（建议≤3列）
- 使用列表代替表格
- 横屏查看
- 缩短单元格内容

---

### Q6: 插入的链接无法点击？

**原因**: 在编辑模式下，链接显示为Markdown语法，不可点击。

**解决方案**: 切换到预览模式或分屏模式，右侧预览区的链接可点击。

---

## 实战示例

### 示例1: 技术分享动态

```markdown
# Kotlin协程快速入门

## 什么是协程？
协程是一种**轻量级线程**，可以在不阻塞主线程的情况下执行异步操作。

## 基本用法

```kotlin
import kotlinx.coroutines.*

fun main() = runBlocking {
    launch {
        delay(1000L)
        println("World!")
    }
    println("Hello,")
}
````

## 优势

- ⚡ 性能优秀
- 📝 代码简洁
- 🔧 易于调试

了解更多：[Kotlin官方文档](https://kotlinlang.org/docs/coroutines-overview.html)

````

### 示例2: 待办清单动态

```markdown
# 本周任务清单

## 工作
- [x] 完成项目报告
- [ ] 参加团队会议（周三下午3点）
- [ ] Code Review（5个PR）

## 生活
- [x] 购买生活用品
- [ ] 健身打卡（3次）
- [ ] 阅读《人类简史》第5章

**进度**: 2/6 完成
````

### 示例3: 活动公告

```markdown
# 🎉 ChainlessChain线下Meetup

**时间**: 2026年2月10日 14:00-17:00
**地点**: 深圳南山区科技园
**主题**: 去中心化社交的未来

## 议程

| 时间        | 内容        | 讲师 |
| ----------- | ----------- | ---- |
| 14:00-14:30 | 签到+茶歇   | -    |
| 14:30-15:30 | DID技术分享 | 张三 |
| 15:30-16:30 | P2P网络实战 | 李四 |
| 16:30-17:00 | Q&A环节     | 全体 |

> 报名链接：[点击这里](https://example.com/register)
```

---

## 反馈与支持

遇到问题或有建议？

- 📖 **查看文档**: [完整文档](https://docs.chainlesschain.com)
- 🐛 **报告Bug**: [GitHub Issues](https://github.com/chainlesschain/chainlesschain/issues)
- 💬 **交流讨论**: [Discord社区](https://discord.gg/chainlesschain)

---

## 参考资源

- [Markdown官方教程](https://www.markdownguide.org/)
- [GitHub Flavored Markdown规范](https://github.github.com/gfm/)
- [Markwon库文档](https://noties.io/Markwon/)

---

**用Markdown让你的表达更有力量！** ✨

---

_最后更新: 2026-01-26 | v0.31.0_
