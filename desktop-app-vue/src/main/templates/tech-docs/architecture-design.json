{
  "id": "tpl_tech_docs_arch_002",
  "name": "architecture_design",
  "display_name": "ç³»ç»Ÿæ¶æ„è®¾è®¡æ–‡æ¡£",
  "description": "ä¸“ä¸šçš„ç³»ç»Ÿæ¶æ„è®¾è®¡æ–‡æ¡£æ¨¡æ¿,åŒ…å«ç³»ç»Ÿæ¦‚è¿°ã€æŠ€æœ¯é€‰å‹ã€æ¶æ„è®¾è®¡ã€éƒ¨ç½²æ–¹æ¡ˆã€å®‰å…¨è®¾è®¡ç­‰å®Œæ•´å†…å®¹",
  "icon": "ğŸ—ï¸",
  "category": "tech-docs",
  "subcategory": "æ¶æ„è®¾è®¡",
  "tags": ["æ¶æ„è®¾è®¡", "ç³»ç»Ÿè®¾è®¡", "æŠ€æœ¯æ¶æ„", "è®¾è®¡æ–‡æ¡£"],
  "project_type": "document",
  "prompt_template": "è¯·å¸®æˆ‘ç”Ÿæˆç³»ç»Ÿæ¶æ„è®¾è®¡æ–‡æ¡£ï¼Œè¦æ±‚:\n\n# {{systemName}} ç³»ç»Ÿæ¶æ„è®¾è®¡æ–‡æ¡£\n\n## 1. æ–‡æ¡£ä¿¡æ¯\n\n| é¡¹ç›® | å†…å®¹ |\n|------|------|\n| ç³»ç»Ÿåç§° | {{systemName}} |\n| æ–‡æ¡£ç‰ˆæœ¬ | {{docVersion}} |\n| æ¶æ„å¸ˆ | {{#if architect}}{{architect}}{{else}}æ¶æ„å›¢é˜Ÿ{{/if}} |\n| åˆ›å»ºæ—¥æœŸ | {{#if createDate}}{{createDate}}{{else}}{{currentDate}}{{/if}} |\n| æ›´æ–°æ—¥æœŸ | {{#if updateDate}}{{updateDate}}{{else}}{{currentDate}}{{/if}} |\n\n## 2. ç³»ç»Ÿæ¦‚è¿°\n\n### 2.1 ä¸šåŠ¡èƒŒæ™¯\n\n{{businessBackground}}\n\n### 2.2 ç³»ç»Ÿå®šä½\n\n{{systemDescription}}\n\n### 2.3 æ ¸å¿ƒåŠŸèƒ½\n\n{{coreFunctions}}\n\n### 2.4 éåŠŸèƒ½æ€§éœ€æ±‚\n\n| éœ€æ±‚ç±»å‹ | ç›®æ ‡æŒ‡æ ‡ |\n|----------|----------|\n| **æ€§èƒ½** | {{#if performanceTarget}}{{performanceTarget}}{{else}}QPS > 1000, å“åº”æ—¶é—´ < 200ms{{/if}} |\n| **å¯ç”¨æ€§** | {{#if availabilityTarget}}{{availabilityTarget}}{{else}}99.9%{{/if}} |\n| **å¹¶å‘** | {{#if concurrencyTarget}}{{concurrencyTarget}}{{else}}æ”¯æŒ10000+åœ¨çº¿ç”¨æˆ·{{/if}} |\n| **æ‰©å±•æ€§** | {{#if scalabilityTarget}}{{scalabilityTarget}}{{else}}æ”¯æŒæ°´å¹³æ‰©å±•{{/if}} |\n| **å®‰å…¨æ€§** | {{#if securityTarget}}{{securityTarget}}{{else}}æ•°æ®åŠ å¯†ã€æƒé™æ§åˆ¶{{/if}} |\n\n## 3. æŠ€æœ¯é€‰å‹\n\n### 3.1 æŠ€æœ¯æ ˆ\n\n{{#eq architecturePattern \"å¾®æœåŠ¡\"}}\n**æ¶æ„æ¨¡å¼**: å¾®æœåŠ¡æ¶æ„\n\n| æŠ€æœ¯ç±»å‹ | é€‰å‹ | ç†ç”± |\n|----------|------|------|\n| **åç«¯æ¡†æ¶** | {{#if backendFramework}}{{backendFramework}}{{else}}Spring Boot 3.x{{/if}} | æˆç†Ÿç¨³å®šï¼Œç”Ÿæ€å®Œå–„ |\n| **æœåŠ¡æ³¨å†Œ** | {{#if serviceRegistry}}{{serviceRegistry}}{{else}}Nacos / Eureka{{/if}} | æœåŠ¡å‘ç°ä¸é…ç½®ç®¡ç† |\n| **APIç½‘å…³** | {{#if apiGateway}}{{apiGateway}}{{else}}Spring Cloud Gateway{{/if}} | ç»Ÿä¸€å…¥å£ï¼Œè·¯ç”±è½¬å‘ |\n| **è´Ÿè½½å‡è¡¡** | {{#if loadBalancer}}{{loadBalancer}}{{else}}Ribbon / LoadBalancer{{/if}} | å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ |\n| **ç†”æ–­é™çº§** | {{#if circuitBreaker}}{{circuitBreaker}}{{else}}Resilience4j{{/if}} | æœåŠ¡å®¹é”™ä¿æŠ¤ |\n| **åˆ†å¸ƒå¼è¿½è¸ª** | {{#if tracing}}{{tracing}}{{else}}Zipkin / Skywalking{{/if}} | é“¾è·¯è¿½è¸ª |\n{{/eq}}\n\n{{#eq architecturePattern \"å•ä½“åº”ç”¨\"}}\n**æ¶æ„æ¨¡å¼**: å•ä½“åº”ç”¨æ¶æ„\n\n| æŠ€æœ¯ç±»å‹ | é€‰å‹ | ç†ç”± |\n|----------|------|------|\n| **åç«¯æ¡†æ¶** | {{#if backendFramework}}{{backendFramework}}{{else}}Spring Boot{{/if}} | å¿«é€Ÿå¼€å‘ï¼Œæ˜“äºç»´æŠ¤ |\n| **ORMæ¡†æ¶** | {{#if ormFramework}}{{ormFramework}}{{else}}MyBatis Plus / JPA{{/if}} | æ•°æ®åº“è®¿é—® |\n| **ç¼“å­˜** | {{#if cache}}{{cache}}{{else}}Redis{{/if}} | æå‡æ€§èƒ½ |\n{{/eq}}\n\n{{#eq architecturePattern \"å‰åç«¯åˆ†ç¦»\"}}\n**æ¶æ„æ¨¡å¼**: å‰åç«¯åˆ†ç¦»æ¶æ„\n\n| æŠ€æœ¯ç±»å‹ | é€‰å‹ | ç†ç”± |\n|----------|------|------|\n| **å‰ç«¯æ¡†æ¶** | {{#if frontendFramework}}{{frontendFramework}}{{else}}Vue 3 / React{{/if}} | ç°ä»£åŒ–UIå¼€å‘ |\n| **çŠ¶æ€ç®¡ç†** | {{#if stateManagement}}{{stateManagement}}{{else}}Pinia / Redux{{/if}} | çŠ¶æ€ç®¡ç† |\n| **åç«¯æ¡†æ¶** | {{#if backendFramework}}{{backendFramework}}{{else}}Spring Boot{{/if}} | RESTful APIå¼€å‘ |\n| **æ¥å£è§„èŒƒ** | {{#if apiSpec}}{{apiSpec}}{{else}}OpenAPI 3.0{{/if}} | APIæ–‡æ¡£æ ‡å‡†åŒ– |\n{{/eq}}\n\n| **æ•°æ®åº“** | {{#if database}}{{database}}{{else}}PostgreSQL / MySQL{{/if}} | å…³ç³»å‹æ•°æ®å­˜å‚¨ |\n| **ç¼“å­˜** | {{#if cache}}{{cache}}{{else}}Redis{{/if}} | ç¼“å­˜çƒ­ç‚¹æ•°æ® |\n| **æ¶ˆæ¯é˜Ÿåˆ—** | {{#if messageQueue}}{{messageQueue}}{{else}}RabbitMQ / Kafka{{/if}} | å¼‚æ­¥å¤„ç†ã€å‰Šå³°å¡«è°· |\n| **æœç´¢å¼•æ“** | {{#if searchEngine}}{{searchEngine}}{{else}}Elasticsearch{{/if}} | å…¨æ–‡æ£€ç´¢ |\n| **å¯¹è±¡å­˜å‚¨** | {{#if objectStorage}}{{objectStorage}}{{else}}MinIO / OSS{{/if}} | æ–‡ä»¶å­˜å‚¨ |\n| **ç›‘æ§å‘Šè­¦** | {{#if monitoring}}{{monitoring}}{{else}}Prometheus + Grafana{{/if}} | ç³»ç»Ÿç›‘æ§ |\n| **æ—¥å¿—æ”¶é›†** | {{#if logging}}{{logging}}{{else}}ELK Stack{{/if}} | æ—¥å¿—èšåˆåˆ†æ |\n\n### 3.2 å¼€å‘å·¥å…·\n\n- **ç‰ˆæœ¬æ§åˆ¶**: Git + GitHub/GitLab\n- **CI/CD**: {{#if cicd}}{{cicd}}{{else}}Jenkins / GitLab CI{{/if}}\n- **å®¹å™¨åŒ–**: Docker + Kubernetes\n- **é¡¹ç›®ç®¡ç†**: {{#if projectManagement}}{{projectManagement}}{{else}}JIRA / ç¦…é“{{/if}}\n- **APIæµ‹è¯•**: Postman / Apifox\n- **ä»£ç è´¨é‡**: SonarQube\n\n## 4. ç³»ç»Ÿæ¶æ„è®¾è®¡\n\n### 4.1 æ€»ä½“æ¶æ„\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                     ç”¨æˆ·ç«¯                          â”‚\nâ”‚        Webæµè§ˆå™¨ / ç§»åŠ¨App / å°ç¨‹åº               â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                   â”‚ HTTPS\n                   â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                  CDN / è´Ÿè½½å‡è¡¡                     â”‚\nâ”‚                 Nginx / ALB                         â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                   â”‚\n                   â–¼\n{{#eq architecturePattern \"å¾®æœåŠ¡\"}}\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                   APIç½‘å…³å±‚                         â”‚\nâ”‚            Spring Cloud Gateway                     â”‚\nâ”‚        (è·¯ç”±ã€è®¤è¯ã€é™æµã€æ—¥å¿—)                    â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                   â”‚\n         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n         â–¼                   â–¼             â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  ç”¨æˆ·æœåŠ¡   â”‚    â”‚  è®¢å•æœåŠ¡   â”‚  â”‚  å•†å“æœåŠ¡   â”‚\nâ”‚             â”‚    â”‚             â”‚  â”‚             â”‚\nâ”‚ Spring Boot â”‚    â”‚ Spring Boot â”‚  â”‚ Spring Boot â”‚\nâ””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜\n       â”‚                  â”‚                â”‚\n       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                          â”‚\n                          â–¼\n           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n           â”‚      æœåŠ¡æ³¨å†Œä¸­å¿ƒ        â”‚\n           â”‚         Nacos            â”‚\n           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n{{/eq}}\n\n{{#eq architecturePattern \"å•ä½“åº”ç”¨\"}}\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                  åº”ç”¨æœåŠ¡å±‚                         â”‚\nâ”‚                 Spring Boot                         â”‚\nâ”‚        (Controller / Service / Repository)          â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n{{/eq}}\n                   â”‚\n         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n         â–¼                   â–¼             â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚   æ•°æ®åº“    â”‚    â”‚    ç¼“å­˜     â”‚  â”‚  æ¶ˆæ¯é˜Ÿåˆ—   â”‚\nâ”‚  PostgreSQL â”‚    â”‚    Redis    â”‚  â”‚  RabbitMQ   â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### 4.2 åˆ†å±‚æ¶æ„\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚         æ¥å…¥å±‚ (Access Layer)       â”‚  â† Web/Appè¯·æ±‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚        ç½‘å…³å±‚ (Gateway Layer)       â”‚  â† è·¯ç”±ã€è®¤è¯ã€é™æµ\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚       ä¸šåŠ¡å±‚ (Business Layer)       â”‚  â† ä¸šåŠ¡é€»è¾‘å¤„ç†\nâ”‚     â€¢ Controller (æ§åˆ¶å™¨)           â”‚\nâ”‚     â€¢ Service (ä¸šåŠ¡æœåŠ¡)            â”‚\nâ”‚     â€¢ Manager (é€šç”¨ä¸šåŠ¡å¤„ç†)        â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚       æ•°æ®å±‚ (Data Layer)           â”‚  â† æ•°æ®è®¿é—®\nâ”‚     â€¢ Repository (æ•°æ®ä»“åº“)         â”‚\nâ”‚     â€¢ DAO (æ•°æ®è®¿é—®å¯¹è±¡)            â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚      åŸºç¡€è®¾æ–½å±‚ (Infrastructure)     â”‚  â† æ•°æ®åº“ã€ç¼“å­˜ã€MQ\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### 4.3 æ ¸å¿ƒæ¨¡å—\n\n#### 4.3.1 ç”¨æˆ·æ¨¡å—\n\n- **åŠŸèƒ½**: ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æƒé™ç®¡ç†\n- **æŠ€æœ¯**: Spring Security + JWT\n- **æ•°æ®è¡¨**: users, roles, permissions\n\n#### 4.3.2 ä¸šåŠ¡æ¨¡å—\n\n- **åŠŸèƒ½**: {{businessModuleDescription}}\n- **æŠ€æœ¯**: {{businessModuleTech}}\n- **æ•°æ®è¡¨**: {{businessModuleTables}}\n\n### 4.4 æ•°æ®æ¨¡å‹\n\n#### 4.4.1 æ ¸å¿ƒå®ä½“\n\n```sql\n-- ç”¨æˆ·è¡¨\nCREATE TABLE users (\n    id BIGINT PRIMARY KEY AUTO_INCREMENT,\n    username VARCHAR(50) UNIQUE NOT NULL,\n    email VARCHAR(100) UNIQUE NOT NULL,\n    password_hash VARCHAR(255) NOT NULL,\n    status VARCHAR(20) DEFAULT 'active',\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n    INDEX idx_email (email),\n    INDEX idx_status (status)\n);\n\n-- è§’è‰²è¡¨\nCREATE TABLE roles (\n    id BIGINT PRIMARY KEY AUTO_INCREMENT,\n    name VARCHAR(50) UNIQUE NOT NULL,\n    description VARCHAR(200),\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\n-- ç”¨æˆ·è§’è‰²å…³è”è¡¨\nCREATE TABLE user_roles (\n    user_id BIGINT NOT NULL,\n    role_id BIGINT NOT NULL,\n    PRIMARY KEY (user_id, role_id),\n    FOREIGN KEY (user_id) REFERENCES users(id),\n    FOREIGN KEY (role_id) REFERENCES roles(id)\n);\n```\n\n#### 4.4.2 æ•°æ®åº“è®¾è®¡åŸåˆ™\n\n1. **è§„èŒƒåŒ–**: éµå¾ªç¬¬ä¸‰èŒƒå¼ï¼Œé¿å…æ•°æ®å†—ä½™\n2. **ç´¢å¼•ä¼˜åŒ–**: ä¸ºå¸¸ç”¨æŸ¥è¯¢å­—æ®µå»ºç«‹ç´¢å¼•\n3. **åˆ†åŒºåˆ†è¡¨**: å¯¹å¤§è¡¨è¿›è¡Œåˆ†åŒºæˆ–åˆ†è¡¨å¤„ç†\n4. **è½¯åˆ é™¤**: ä½¿ç”¨deleted_atå­—æ®µæ ‡è®°åˆ é™¤\n\n## 5. æ¥å£è®¾è®¡\n\n### 5.1 RESTful APIè§„èŒƒ\n\n- **èµ„æºå‘½å**: ä½¿ç”¨åè¯å¤æ•°å½¢å¼ (å¦‚ `/users`, `/orders`)\n- **HTTPæ–¹æ³•**:\n  - GET: æŸ¥è¯¢èµ„æº\n  - POST: åˆ›å»ºèµ„æº\n  - PUT: å®Œæ•´æ›´æ–°èµ„æº\n  - PATCH: éƒ¨åˆ†æ›´æ–°èµ„æº\n  - DELETE: åˆ é™¤èµ„æº\n- **çŠ¶æ€ç **: éµå¾ªHTTPæ ‡å‡†çŠ¶æ€ç \n- **ç‰ˆæœ¬æ§åˆ¶**: URLè·¯å¾„ç‰ˆæœ¬ (`/api/v1/users`)\n\n### 5.2 æ¥å£å®‰å…¨\n\n1. **è®¤è¯**: JWT Tokenè®¤è¯\n2. **æˆæƒ**: RBACæƒé™æ§åˆ¶\n3. **åŠ å¯†**: HTTPSä¼ è¾“åŠ å¯†\n4. **é˜²æŠ¤**: æ¥å£é™æµã€é˜²é‡æ”¾æ”»å‡»\n5. **å®¡è®¡**: æ“ä½œæ—¥å¿—è®°å½•\n\n## 6. ç¼“å­˜è®¾è®¡\n\n### 6.1 ç¼“å­˜ç­–ç•¥\n\n| æ•°æ®ç±»å‹ | ç¼“å­˜ç­–ç•¥ | è¿‡æœŸæ—¶é—´ |\n|----------|----------|----------|\n| ç”¨æˆ·ä¿¡æ¯ | Cache-Aside | 30åˆ†é’Ÿ |\n| é…ç½®ä¿¡æ¯ | Read-Through | 1å°æ—¶ |\n| çƒ­ç‚¹æ•°æ® | Write-Behind | æ ¹æ®ä¸šåŠ¡ |\n\n### 6.2 ç¼“å­˜å±‚çº§\n\n```\næµè§ˆå™¨ç¼“å­˜ â†’ CDNç¼“å­˜ â†’ åº”ç”¨ç¼“å­˜(æœ¬åœ°) â†’ Redisç¼“å­˜ â†’ æ•°æ®åº“\n```\n\n### 6.3 ç¼“å­˜é—®é¢˜å¤„ç†\n\n- **ç¼“å­˜ç©¿é€**: å¸ƒéš†è¿‡æ»¤å™¨ + ç©ºå€¼ç¼“å­˜\n- **ç¼“å­˜å‡»ç©¿**: äº’æ–¥é” + çƒ­ç‚¹æ•°æ®æ°¸ä¸è¿‡æœŸ\n- **ç¼“å­˜é›ªå´©**: éšæœºè¿‡æœŸæ—¶é—´ + å¤šçº§ç¼“å­˜\n\n## 7. é«˜å¯ç”¨è®¾è®¡\n\n### 7.1 æœåŠ¡é«˜å¯ç”¨\n\n- **è´Ÿè½½å‡è¡¡**: Nginx / ALBå¤šèŠ‚ç‚¹éƒ¨ç½²\n- **æœåŠ¡é™çº§**: Resilience4jç†”æ–­å™¨\n- **é™æµä¿æŠ¤**: ä»¤ç‰Œæ¡¶ / æ¼æ¡¶ç®—æ³•\n- **æ•…éšœè½¬ç§»**: ä¸»å¤‡åˆ‡æ¢ + å¥åº·æ£€æŸ¥\n\n### 7.2 æ•°æ®é«˜å¯ç”¨\n\n- **æ•°æ®åº“**: ä¸»ä»å¤åˆ¶ + è¯»å†™åˆ†ç¦»\n- **ç¼“å­˜**: Rediså“¨å…µ/é›†ç¾¤æ¨¡å¼\n- **æ¶ˆæ¯é˜Ÿåˆ—**: é›†ç¾¤éƒ¨ç½² + æŒä¹…åŒ–\n- **å¤‡ä»½**: å®šæ—¶å…¨é‡å¤‡ä»½ + å¢é‡å¤‡ä»½\n\n### 7.3 å®¹ç¾æ–¹æ¡ˆ\n\n- **åŒåŸåŒæ´»**: ä¸¤ä¸ªæœºæˆ¿äº’ä¸ºå¤‡ä»½\n- **å¼‚åœ°å®¹ç¾**: å¼‚åœ°æ•°æ®ä¸­å¿ƒçƒ­å¤‡\n- **ç¾éš¾æ¢å¤**: RTO < 4å°æ—¶, RPO < 15åˆ†é’Ÿ\n\n## 8. å®‰å…¨è®¾è®¡\n\n### 8.1 è®¤è¯æˆæƒ\n\n```\nç”¨æˆ·ç™»å½• â†’ ç”ŸæˆJWT Token â†’ Tokenæºå¸¦åœ¨è¯·æ±‚å¤´ â†’ ç½‘å…³éªŒè¯Token â†’ \næƒé™æ ¡éªŒ â†’ è®¿é—®èµ„æº\n```\n\n### 8.2 æ•°æ®å®‰å…¨\n\n- **ä¼ è¾“å®‰å…¨**: HTTPS/TLS 1.3\n- **å­˜å‚¨å®‰å…¨**: æ•æ„Ÿæ•°æ®åŠ å¯†(AES-256)\n- **å¯†ç å®‰å…¨**: BCryptå“ˆå¸Œ + Salt\n- **SQLæ³¨å…¥**: å‚æ•°åŒ–æŸ¥è¯¢\n- **XSSé˜²æŠ¤**: è¾“å…¥éªŒè¯ + è¾“å‡ºç¼–ç \n- **CSRFé˜²æŠ¤**: TokenéªŒè¯\n\n### 8.3 å®‰å…¨ç›‘æ§\n\n- **å¼‚å¸¸æ£€æµ‹**: ç™»å½•å¤±è´¥æ¬¡æ•°é™åˆ¶\n- **å®¡è®¡æ—¥å¿—**: æ“ä½œæ—¥å¿—è®°å½•ä¸åˆ†æ\n- **å®‰å…¨æ‰«æ**: å®šæœŸæ¼æ´æ‰«æ\n- **åº”æ€¥å“åº”**: å®‰å…¨äº‹ä»¶åº”æ€¥é¢„æ¡ˆ\n\n## 9. æ€§èƒ½ä¼˜åŒ–\n\n### 9.1 æ•°æ®åº“ä¼˜åŒ–\n\n- **ç´¢å¼•ä¼˜åŒ–**: åˆç†å»ºç«‹ç´¢å¼•\n- **æŸ¥è¯¢ä¼˜åŒ–**: é¿å…N+1æŸ¥è¯¢\n- **è¿æ¥æ± **: HikariCPè¿æ¥æ± \n- **è¯»å†™åˆ†ç¦»**: ä¸»åº“å†™ï¼Œä»åº“è¯»\n- **åˆ†åº“åˆ†è¡¨**: æ°´å¹³/å‚ç›´æ‹†åˆ†\n\n### 9.2 åº”ç”¨ä¼˜åŒ–\n\n- **å¼‚æ­¥å¤„ç†**: CompletableFuture / @Async\n- **æ‰¹é‡æ“ä½œ**: å‡å°‘ç½‘ç»œIO\n- **å¯¹è±¡æ± åŒ–**: å¤ç”¨å¯¹è±¡å‡å°‘GC\n- **æ‡’åŠ è½½**: å»¶è¿ŸåŠ è½½éå¿…éœ€æ•°æ®\n\n### 9.3 å‰ç«¯ä¼˜åŒ–\n\n- **èµ„æºå‹ç¼©**: Gzip/Brotliå‹ç¼©\n- **CDNåŠ é€Ÿ**: é™æ€èµ„æºCDNåˆ†å‘\n- **æ‡’åŠ è½½**: å›¾ç‰‡/ç»„ä»¶æ‡’åŠ è½½\n- **Code Splitting**: ä»£ç åˆ†å‰²æŒ‰éœ€åŠ è½½\n\n## 10. ç›‘æ§è¿ç»´\n\n### 10.1 ç›‘æ§æŒ‡æ ‡\n\n| ç›‘æ§ç±»å‹ | æŒ‡æ ‡ | å·¥å…· |\n|----------|------|------|\n| **åº”ç”¨ç›‘æ§** | QPSã€å“åº”æ—¶é—´ã€é”™è¯¯ç‡ | Prometheus + Grafana |\n| **ç³»ç»Ÿç›‘æ§** | CPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œ | Node Exporter |\n| **æ—¥å¿—ç›‘æ§** | é”™è¯¯æ—¥å¿—ã€ä¸šåŠ¡æ—¥å¿— | ELK Stack |\n| **é“¾è·¯è¿½è¸ª** | è¯·æ±‚é“¾è·¯ã€ä¾èµ–å…³ç³» | Zipkin / Skywalking |\n| **ä¸šåŠ¡ç›‘æ§** | è®¢å•é‡ã€ç”¨æˆ·æ´»è·ƒåº¦ | è‡ªå®šä¹‰Dashboard |\n\n### 10.2 å‘Šè­¦ç­–ç•¥\n\n- **ç´§æ€¥å‘Šè­¦**: æœåŠ¡å®•æœºã€æ•°æ®åº“è¿æ¥å¤±è´¥ â†’ çŸ­ä¿¡+ç”µè¯\n- **é‡è¦å‘Šè­¦**: é”™è¯¯ç‡>5%ã€å“åº”æ—¶é—´>1s â†’ çŸ­ä¿¡+é‚®ä»¶\n- **ä¸€èˆ¬å‘Šè­¦**: ç£ç›˜ä½¿ç”¨ç‡>80% â†’ é‚®ä»¶\n\n### 10.3 æ—¥å¿—è§„èŒƒ\n\n```java\n// æ—¥å¿—çº§åˆ«ä½¿ç”¨\nlogger.error(\"ç³»ç»Ÿé”™è¯¯\", exception);  // éœ€è¦ç«‹å³å¤„ç†çš„é”™è¯¯\nlogger.warn(\"å¯ç–‘è¡Œä¸º\");              // è­¦å‘Šä¿¡æ¯\nlogger.info(\"ç”¨æˆ·ç™»å½•æˆåŠŸ\");          // é‡è¦ä¸šåŠ¡æ—¥å¿—\nlogger.debug(\"è°ƒè¯•ä¿¡æ¯\");             // å¼€å‘è°ƒè¯•ä¿¡æ¯\n```\n\n## 11. éƒ¨ç½²æ¶æ„\n\n### 11.1 éƒ¨ç½²ç¯å¢ƒ\n\n| ç¯å¢ƒ | è¯´æ˜ | é…ç½® |\n|------|------|------|\n| **å¼€å‘ç¯å¢ƒ** | æœ¬åœ°å¼€å‘ | å•æœºéƒ¨ç½² |\n| **æµ‹è¯•ç¯å¢ƒ** | åŠŸèƒ½æµ‹è¯• | 2å°æœåŠ¡å™¨ |\n| **é¢„å‘ç¯å¢ƒ** | ç”Ÿäº§éªŒè¯ | ä¸ç”Ÿäº§ä¸€è‡´ |\n| **ç”Ÿäº§ç¯å¢ƒ** | æ­£å¼æœåŠ¡ | {{#if prodConfig}}{{prodConfig}}{{else}}é«˜å¯ç”¨é›†ç¾¤{{/if}} |\n\n### 11.2 å®¹å™¨åŒ–éƒ¨ç½²\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\n\nservices:\n  app:\n    image: {{systemName}}:{{docVersion}}\n    ports:\n      - \"8080:8080\"\n    environment:\n      - SPRING_PROFILES_ACTIVE=prod\n    depends_on:\n      - db\n      - redis\n  \n  db:\n    image: postgres:15\n    environment:\n      POSTGRES_DB: {{systemName}}\n      POSTGRES_PASSWORD: ${DB_PASSWORD}\n    volumes:\n      - db-data:/var/lib/postgresql/data\n  \n  redis:\n    image: redis:7-alpine\n    ports:\n      - \"6379:6379\"\n\nvolumes:\n  db-data:\n```\n\n### 11.3 K8séƒ¨ç½²\n\n```yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: {{systemName}}\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: {{systemName}}\n  template:\n    metadata:\n      labels:\n        app: {{systemName}}\n    spec:\n      containers:\n      - name: {{systemName}}\n        image: {{systemName}}:{{docVersion}}\n        ports:\n        - containerPort: 8080\n        resources:\n          requests:\n            memory: \"512Mi\"\n            cpu: \"500m\"\n          limits:\n            memory: \"1Gi\"\n            cpu: \"1000m\"\n```\n\n## 12. æŠ€æœ¯å€ºåŠ¡ä¸æ”¹è¿›è®¡åˆ’\n\n### 12.1 å½“å‰æŠ€æœ¯å€ºåŠ¡\n\n1. {{#if techDebt1}}{{techDebt1}}{{else}}éƒ¨åˆ†è€æ—§ä¾èµ–éœ€è¦å‡çº§{{/if}}\n2. {{#if techDebt2}}{{techDebt2}}{{else}}å•å…ƒæµ‹è¯•è¦†ç›–ç‡åä½(<60%){{/if}}\n3. {{#if techDebt3}}{{techDebt3}}{{else}}éƒ¨åˆ†æ¥å£æ€§èƒ½éœ€è¦ä¼˜åŒ–{{/if}}\n\n### 12.2 æ”¹è¿›è®¡åˆ’\n\n| ä¼˜å…ˆçº§ | æ”¹è¿›é¡¹ | è®¡åˆ’æ—¶é—´ |\n|--------|--------|----------|\n| P0 | {{#if improvement1}}{{improvement1}}{{else}}æ€§èƒ½ä¼˜åŒ–{{/if}} | Q1 |\n| P1 | {{#if improvement2}}{{improvement2}}{{else}}æµ‹è¯•è¦†ç›–ç‡æå‡{{/if}} | Q2 |\n| P2 | {{#if improvement3}}{{improvement3}}{{else}}æŠ€æœ¯æ ˆå‡çº§{{/if}} | Q3 |\n\n## 13. é™„å½•\n\n### 13.1 æœ¯è¯­è¡¨\n\n- **QPS**: Queries Per Second, æ¯ç§’æŸ¥è¯¢æ¬¡æ•°\n- **RT**: Response Time, å“åº”æ—¶é—´\n- **RTO**: Recovery Time Objective, æ¢å¤æ—¶é—´ç›®æ ‡\n- **RPO**: Recovery Point Objective, æ¢å¤ç‚¹ç›®æ ‡\n\n### 13.2 å‚è€ƒæ–‡æ¡£\n\n- [Spring Bootå®˜æ–¹æ–‡æ¡£](https://spring.io/projects/spring-boot)\n- [Redisæœ€ä½³å®è·µ](https://redis.io/docs/manual/)\n- [MySQLæ€§èƒ½ä¼˜åŒ–](https://dev.mysql.com/doc/refman/8.0/en/optimization.html)\n\n---\n\n**æ–‡æ¡£ç‰ˆæœ¬**: {{docVersion}}\n**æ¶æ„å¸ˆ**: {{#if architect}}{{architect}}{{else}}æ¶æ„å›¢é˜Ÿ{{/if}}\n**æœ€åæ›´æ–°**: {{#if updateDate}}{{updateDate}}{{else}}{{currentDate}}{{/if}}",
  "variables_schema": [
    {
      "name": "systemName",
      "type": "text",
      "label": "ç³»ç»Ÿåç§°",
      "default": "ç¤ºä¾‹ç³»ç»Ÿ",
      "required": true,
      "description": "ç³»ç»Ÿçš„åç§°"
    },
    {
      "name": "docVersion",
      "type": "text",
      "label": "æ–‡æ¡£ç‰ˆæœ¬",
      "default": "v1.0.0",
      "required": true,
      "description": "æ–‡æ¡£ç‰ˆæœ¬å·"
    },
    {
      "name": "architecturePattern",
      "type": "select",
      "label": "æ¶æ„æ¨¡å¼",
      "default": "å¾®æœåŠ¡",
      "required": true,
      "options": [
        {"value": "å¾®æœåŠ¡", "label": "å¾®æœåŠ¡æ¶æ„"},
        {"value": "å•ä½“åº”ç”¨", "label": "å•ä½“åº”ç”¨"},
        {"value": "å‰åç«¯åˆ†ç¦»", "label": "å‰åç«¯åˆ†ç¦»"}
      ],
      "description": "ç³»ç»Ÿé‡‡ç”¨çš„æ¶æ„æ¨¡å¼"
    },
    {
      "name": "businessBackground",
      "type": "textarea",
      "label": "ä¸šåŠ¡èƒŒæ™¯",
      "default": "éšç€ä¸šåŠ¡å¿«é€Ÿå‘å±•ï¼Œç°æœ‰ç³»ç»Ÿé¢ä¸´æ€§èƒ½ç“¶é¢ˆå’Œæ‰©å±•æ€§é—®é¢˜ï¼Œéœ€è¦é‡æ–°è®¾è®¡ç³»ç»Ÿæ¶æ„ã€‚",
      "required": true,
      "description": "é¡¹ç›®çš„ä¸šåŠ¡èƒŒæ™¯"
    },
    {
      "name": "systemDescription",
      "type": "textarea",
      "label": "ç³»ç»Ÿæè¿°",
      "default": "æœ¬ç³»ç»Ÿæ˜¯ä¸€ä¸ªé¢å‘Cç«¯ç”¨æˆ·çš„åœ¨çº¿æœåŠ¡å¹³å°ï¼Œæä¾›ç”¨æˆ·æ³¨å†Œã€å•†å“æµè§ˆã€è®¢å•ç®¡ç†ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚",
      "required": true,
      "description": "ç³»ç»Ÿçš„å®šä½å’Œæè¿°"
    },
    {
      "name": "coreFunctions",
      "type": "textarea",
      "label": "æ ¸å¿ƒåŠŸèƒ½",
      "default": "1. ç”¨æˆ·ç®¡ç†\n2. å•†å“ç®¡ç†\n3. è®¢å•ç®¡ç†\n4. æ”¯ä»˜ç»“ç®—",
      "required": true,
      "description": "ç³»ç»Ÿçš„æ ¸å¿ƒåŠŸèƒ½åˆ—è¡¨"
    },
    {
      "name": "businessModuleDescription",
      "type": "text",
      "label": "ä¸šåŠ¡æ¨¡å—æè¿°",
      "default": "è®¢å•ç®¡ç†ã€åº“å­˜ç®¡ç†",
      "required": false,
      "description": "æ ¸å¿ƒä¸šåŠ¡æ¨¡å—çš„æè¿°"
    },
    {
      "name": "businessModuleTech",
      "type": "text",
      "label": "ä¸šåŠ¡æ¨¡å—æŠ€æœ¯",
      "default": "Spring Boot + MyBatis",
      "required": false,
      "description": "ä¸šåŠ¡æ¨¡å—ä½¿ç”¨çš„æŠ€æœ¯"
    },
    {
      "name": "businessModuleTables",
      "type": "text",
      "label": "ä¸šåŠ¡æ¨¡å—æ•°æ®è¡¨",
      "default": "orders, order_items, inventory",
      "required": false,
      "description": "ä¸šåŠ¡æ¨¡å—ç›¸å…³çš„æ•°æ®è¡¨"
    },
    {
      "name": "architect",
      "type": "text",
      "label": "æ¶æ„å¸ˆ",
      "default": "",
      "required": false,
      "description": "è´Ÿè´£æ¶æ„è®¾è®¡çš„æ¶æ„å¸ˆï¼ˆå¯é€‰ï¼‰"
    },
    {
      "name": "performanceTarget",
      "type": "text",
      "label": "æ€§èƒ½ç›®æ ‡",
      "default": "",
      "required": false,
      "description": "ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡ç›®æ ‡ï¼ˆå¯é€‰ï¼‰"
    },
    {
      "name": "availabilityTarget",
      "type": "text",
      "label": "å¯ç”¨æ€§ç›®æ ‡",
      "default": "",
      "required": false,
      "description": "ç³»ç»Ÿå¯ç”¨æ€§ç›®æ ‡ï¼ˆå¯é€‰ï¼‰"
    },
    {
      "name": "backendFramework",
      "type": "text",
      "label": "åç«¯æ¡†æ¶",
      "default": "",
      "required": false,
      "description": "åç«¯ä½¿ç”¨çš„æ¡†æ¶ï¼ˆå¯é€‰ï¼‰"
    },
    {
      "name": "frontendFramework",
      "type": "text",
      "label": "å‰ç«¯æ¡†æ¶",
      "default": "",
      "required": false,
      "description": "å‰ç«¯ä½¿ç”¨çš„æ¡†æ¶ï¼ˆå¯é€‰ï¼‰"
    },
    {
      "name": "database",
      "type": "text",
      "label": "æ•°æ®åº“",
      "default": "",
      "required": false,
      "description": "ä½¿ç”¨çš„æ•°æ®åº“ï¼ˆå¯é€‰ï¼‰"
    },
    {
      "name": "createDate",
      "type": "text",
      "label": "åˆ›å»ºæ—¥æœŸ",
      "default": "",
      "required": false,
      "description": "æ–‡æ¡£åˆ›å»ºæ—¥æœŸï¼ˆå¯é€‰ï¼‰"
    },
    {
      "name": "updateDate",
      "type": "text",
      "label": "æ›´æ–°æ—¥æœŸ",
      "default": "",
      "required": false,
      "description": "æ–‡æ¡£æœ€åæ›´æ–°æ—¥æœŸï¼ˆå¯é€‰ï¼‰"
    }
  ],
  "file_structure": {
    "type": "folder",
    "name": "{{systemName}}_æ¶æ„æ–‡æ¡£",
    "children": [
      {"type": "file", "name": "README.md", "description": "æ¶æ„æ–‡æ¡£ä¸»æ–‡ä»¶"},
      {
        "type": "folder",
        "name": "diagrams",
        "children": [
          {"type": "file", "name": "architecture.drawio", "description": "æ¶æ„å›¾"},
          {"type": "file", "name": "deployment.png", "description": "éƒ¨ç½²æ¶æ„å›¾"},
          {"type": "file", "name": "data-model.sql", "description": "æ•°æ®æ¨¡å‹"}
        ]
      },
      {
        "type": "folder",
        "name": "adr",
        "children": [
          {"type": "file", "name": "001-tech-stack.md", "description": "æŠ€æœ¯é€‰å‹å†³ç­–"},
          {"type": "file", "name": "002-cache-strategy.md", "description": "ç¼“å­˜ç­–ç•¥å†³ç­–"}
        ]
      }
    ]
  },
  "is_builtin": true,
  "author": "ChainlessChain Team",
  "version": "1.0.0",
  "usage_count": 0,
  "rating": 0,
  "rating_count": 0,
  "created_at": "2024-01-15T10:00:00Z",
  "updated_at": "2024-01-15T10:00:00Z"
}
