# 高级功能指南

**版本**: v1.1
**日期**: 2025-12-29

---

## 🚀 新增功能概览

本版本新增了4个强大的高级功能：

1. **键盘快捷键支持** - 提升操作效率
2. **暗色模式** - 护眼舒适的深色主题
3. **操作历史记录** - 追踪所有操作记录
4. **国际化支持** - 中英文双语切换

---

## ⌨️ 键盘快捷键

### 支持的快捷键

| 快捷键 | 功能 | 适用范围 |
|--------|------|----------|
| **Ctrl/Cmd + K** | 快速搜索 | 全局 |
| **Ctrl/Cmd + N** | 创建新项 | 全局 |
| **Ctrl/Cmd + R** | 刷新列表 | 全局 |
| **Ctrl/Cmd + S** | 保存 | 编辑器 |
| **Ctrl/Cmd + A** | 全选 | 列表页面 |
| **Ctrl/Cmd + D** | 取消选择 | 列表页面 |
| **Delete** | 删除选中项 | 列表页面 |
| **Escape** | 关闭模态框/抽屉 | 全局 |
| **F1** | 打开帮助中心 | 全局 |

### 使用说明

#### 快速搜索 (Ctrl/Cmd + K)
- 在任意页面按下快捷键
- 自动聚焦到搜索输入框
- 开始输入关键词搜索

#### 批量操作快捷键
1. 使用 `Ctrl/Cmd + A` 全选当前页面项目
2. 使用 `Delete` 键批量删除选中项
3. 使用 `Ctrl/Cmd + D` 清空选择

#### 自定义快捷键
```javascript
import { useKeyboardShortcuts, SHORTCUTS } from '@/composables/useKeyboardShortcuts';

const { registerShortcut } = useKeyboardShortcuts();

// 注册自定义快捷键
registerShortcut('ctrl+shift+x', () => {
  // 你的处理逻辑
}, { global: true });
```

### 平台差异

- **Windows/Linux**: 使用 `Ctrl` 键
- **macOS**: 使用 `Cmd` 键

系统会自动检测平台并适配快捷键。

---

## 🌙 暗色模式

### 启用暗色模式

**方式1: 点击主题切换按钮**
1. 点击顶部导航栏的主题图标（💡）
2. 选择"深色模式"

**方式2: 跟随系统**
- 选择"跟随系统"选项
- 主题将自动跟随操作系统设置

### 主题选项

- **浅色模式**: 明亮舒适的默认主题
- **深色模式**: 护眼的深色配色方案
- **跟随系统**: 自动适应系统主题设置

### 暗色模式特点

✅ 精心设计的深色配色
✅ 所有组件完美适配
✅ 降低眼睛疲劳
✅ 节省电量（OLED屏幕）
✅ 自动保存偏好设置

### 技术实现

```scss
// 暗色主题自动应用
.dark-theme {
  --bg-color: #141414;
  --text-color: rgba(255, 255, 255, 0.85);
  // ... 更多CSS变量
}
```

### 自定义主题

如需自定义暗色主题样式，编辑：
```
src/renderer/styles/themes/dark.scss
```

---

## 📜 操作历史记录

### 功能特点

- ✅ 记录所有操作（创建、更新、删除等）
- ✅ 按实体类型筛选（技能/工具）
- ✅ 按操作类型筛选
- ✅ 实时统计信息
- ✅ 本地持久化存储
- ✅ 最多保存100条记录

### 打开历史面板

**方式1**: 点击顶部导航栏的历史图标
**方式2**: 使用API调用

```javascript
import { useHistoryStore } from '@/stores/history';

const historyStore = useHistoryStore();
// 查看所有记录
console.log(historyStore.records);
```

### 记录的操作类型

| 操作类型 | 说明 | 图标颜色 |
|----------|------|----------|
| 创建 | 创建新项 | 绿色 |
| 更新 | 修改现有项 | 蓝色 |
| 删除 | 删除项目 | 红色 |
| 启用 | 启用功能 | 绿色 |
| 禁用 | 禁用功能 | 橙色 |
| 批量操作 | 批量处理 | 对应颜色 |

### 自动记录

系统会自动记录以下操作：
- 创建技能/工具
- 修改技能/工具
- 删除技能/工具
- 启用/禁用技能/工具
- 批量操作

### 手动添加记录

```javascript
import { useHistoryStore, ACTION_TYPES, ENTITY_TYPES } from '@/stores/history';

const historyStore = useHistoryStore();

historyStore.addRecord({
  actionType: ACTION_TYPES.CREATE,
  entityType: ENTITY_TYPES.SKILL,
  entityName: '我的技能',
  details: '详细说明（可选）',
});
```

### 统计信息

历史面板顶部显示：
- 总记录数
- 技能操作数
- 工具操作数

### 清空历史

点击"清空"按钮可清空所有历史记录。

⚠️ **注意**: 此操作不可恢复！

---

## 🌍 国际化支持

### 支持的语言

- 🇨🇳 简体中文 (默认)
- 🇺🇸 English

### 切换语言

**方式1: 点击语言切换按钮**
1. 点击顶部导航栏的地球图标（🌍）
2. 选择目标语言
3. 页面自动刷新并应用新语言

**方式2: 编程方式切换**

```javascript
import { useI18n, LOCALES } from '@/i18n';

const { setLocale } = useI18n();

// 切换到英文
setLocale(LOCALES.EN_US);

// 切换到中文
setLocale(LOCALES.ZH_CN);
```

### 使用翻译文本

```javascript
import { useI18n } from '@/i18n';

const { t } = useI18n();

// 在模板中使用
const title = t('skill.title'); // "技能管理"

// 嵌套键
const searchPlaceholder = t('skill.searchPlaceholder'); // "搜索技能..."
```

### 在Vue组件中使用

```vue
<template>
  <div>
    <h1>{{ t('skill.title') }}</h1>
    <p>{{ t('skill.subtitle') }}</p>
  </div>
</template>

<script setup>
import { useI18n } from '@/i18n';
const { t } = useI18n();
</script>
```

### 添加新语言

1. 编辑 `src/renderer/i18n/index.js`
2. 在 `messages` 对象中添加新语言包
3. 更新 `LOCALES` 常量
4. 在 `LanguageSwitcher.vue` 中添加菜单项

### 翻译覆盖范围

目前已翻译：
- ✅ 通用词汇
- ✅ 技能管理
- ✅ 工具管理
- ✅ 批量操作
- ✅ 历史记录
- ✅ 帮助中心
- ✅ 主题设置
- ✅ 快捷键
- ✅ 消息提示

### 本地化最佳实践

1. **始终使用 `t()` 函数**
   - ❌ 不要: `<h1>技能管理</h1>`
   - ✅ 应该: `<h1>{{ t('skill.title') }}</h1>`

2. **提供完整的翻译键**
   - ❌ 不要: `t('title')`
   - ✅ 应该: `t('skill.title')`

3. **保持翻译简洁**
   - 英文通常比中文更长
   - 考虑UI布局的空间

---

## 🎯 功能组合使用

### 示例：高效工作流

1. **使用快捷键**：`Ctrl/Cmd + K` 快速搜索技能
2. **切换主题**：工作到深夜，切换暗色模式
3. **批量操作**：`Ctrl/Cmd + A` 全选后批量启用
4. **查看历史**：检查刚才的操作是否正确
5. **语言切换**：向国际团队展示时切换到英文

### 示例：团队协作

1. **切换英文界面**：统一团队语言
2. **使用快捷键**：提高操作效率
3. **查看历史记录**：了解谁做了什么修改
4. **主题偏好**：每个人选择自己喜欢的主题

---

## 🔧 故障排除

### 快捷键不生效

**可能原因**：
- 输入框中不响应（部分快捷键设计如此）
- 其他程序占用了快捷键

**解决方法**：
- 确认不在输入框中
- 关闭可能冲突的程序

### 暗色模式显示异常

**可能原因**：
- 浏览器缓存
- 样式文件未加载

**解决方法**：
1. 刷新页面 (Ctrl/Cmd + Shift + R)
2. 清除浏览器缓存
3. 检查控制台错误信息

### 历史记录丢失

**可能原因**：
- 清除了浏览器本地存储
- 超过100条记录被自动清理

**解决方法**：
- 历史记录存储在本地存储中
- 导出重要记录（功能开发中）

### 语言切换后显示异常

**可能原因**：
- 部分文本未翻译
- 缓存问题

**解决方法**：
- 刷新页面
- 报告未翻译的文本

---

## 📈 性能影响

所有新功能都经过优化，对性能影响极小：

| 功能 | 内存增加 | 性能影响 |
|------|----------|----------|
| 快捷键 | <1MB | 无 |
| 暗色模式 | <100KB | 无 |
| 历史记录 | ~2MB | <1% |
| 国际化 | ~500KB | <0.5% |

---

## 🚀 未来计划

- [ ] 更多快捷键自定义选项
- [ ] 更多主题选项（紫色、蓝色等）
- [ ] 历史记录导出功能
- [ ] 更多语言支持（日语、韩语等）
- [ ] 语音快捷键
- [ ] 主题在线商店

---

## 💡 最佳实践

1. **快捷键**：熟记常用快捷键，提升效率
2. **暗色模式**：夜间工作时使用，保护眼睛
3. **历史记录**：定期检查，避免误操作
4. **国际化**：团队协作时统一语言

---

## 📞 获取帮助

- 📧 Email: support@chainlesschain.com
- 💬 社区: https://community.chainlesschain.com
- 📚 文档: https://docs.chainlesschain.com

---

**文档版本**: v1.1
**最后更新**: 2025-12-29
**维护者**: ChainlessChain Team
