# ChainlessChain P1优化 - 生产环境配置
# 版本: v0.17.0
# 更新: 2026-01-01

# ============================================
# 环境标识
# ============================================
NODE_ENV=production

# ============================================
# P1优化模块开关（生产环境）
# ============================================

# 多意图识别
ENABLE_MULTI_INTENT=true

# 动态Few-shot学习
ENABLE_DYNAMIC_FEW_SHOT=true

# 分层任务规划
ENABLE_HIERARCHICAL_PLANNING=true

# 检查点校验
ENABLE_CHECKPOINT_VALIDATION=true

# 自我修正循环
ENABLE_SELF_CORRECTION=true

# ============================================
# P0优化模块（保持启用）
# ============================================

# 槽位填充
ENABLE_SLOT_FILLING=true

# 工具沙箱
ENABLE_TOOL_SANDBOX=true

# 性能监控
ENABLE_PERFORMANCE_MONITOR=true

# ============================================
# P1模块配置 - 生产环境（更保守）
# ============================================

# 多意图识别配置
MULTI_INTENT_SENSITIVITY=medium
MULTI_INTENT_MAX_INTENTS=5
MULTI_INTENT_ENABLE_LLM_SPLIT=true

# Few-shot学习配置
FEW_SHOT_DEFAULT_EXAMPLE_COUNT=3
FEW_SHOT_MIN_CONFIDENCE=0.85
FEW_SHOT_CACHE_EXPIRY=3600000
FEW_SHOT_ADAPTIVE_EXAMPLE_COUNT=true

# 分层规划配置
HIERARCHICAL_DEFAULT_GRANULARITY=auto
HIERARCHICAL_ENABLE_COMPLEXITY_ASSESSMENT=true
HIERARCHICAL_ENABLE_DURATION_ESTIMATION=true

# 检查点校验配置
CHECKPOINT_ENABLE_LLM_QUALITY_CHECK=true
CHECKPOINT_COMPLETENESS_THRESHOLD=80
CHECKPOINT_AUTO_RETRY_ON_FAILURE=true

# 自我修正配置
SELF_CORRECTION_MAX_RETRIES=3
SELF_CORRECTION_ENABLE_PATTERN_LEARNING=true

# ============================================
# 工具沙箱配置 - 生产环境
# ============================================

SANDBOX_TIMEOUT=60000
SANDBOX_RETRIES=3
SANDBOX_RETRY_DELAY=1000
SANDBOX_ENABLE_VALIDATION=true
SANDBOX_ENABLE_SNAPSHOT=true

# ============================================
# 性能监控配置
# ============================================

PERF_RETENTION_DAYS=90
PERF_AUTO_CLEANUP=true

# 性能阈值（毫秒）- 生产环境更宽松
PERF_INTENT_RECOGNITION_WARNING=2000
PERF_INTENT_RECOGNITION_CRITICAL=4000
PERF_TASK_PLANNING_WARNING=5000
PERF_TASK_PLANNING_CRITICAL=10000
PERF_TOOL_EXECUTION_WARNING=6000
PERF_TOOL_EXECUTION_CRITICAL=12000
PERF_RAG_RETRIEVAL_WARNING=3000
PERF_RAG_RETRIEVAL_CRITICAL=6000
PERF_LLM_CALLS_WARNING=4000
PERF_LLM_CALLS_CRITICAL=8000
PERF_TOTAL_PIPELINE_WARNING=15000
PERF_TOTAL_PIPELINE_CRITICAL=30000

# ============================================
# LLM配置
# ============================================

# Ollama配置
OLLAMA_HOST=http://localhost:11434
OLLAMA_MODEL=qwen2:7b

# ============================================
# 向量数据库配置
# ============================================

QDRANT_HOST=http://localhost:6333

# ============================================
# 数据保留策略
# ============================================

# P1优化数据保留（天）
P1_DATA_RETENTION_DAYS=90

# 性能数据保留（天）
PERFORMANCE_DATA_RETENTION_DAYS=90

# ============================================
# 日志级别
# ============================================

LOG_LEVEL=info
LOG_TO_FILE=true

# ============================================
# 特性开关
# ============================================

# 启用调试模式（生产环境关闭）
DEBUG_MODE=false

# 启用详细日志（生产环境关闭）
VERBOSE_LOGGING=false

# 启用性能分析（生产环境关闭）
ENABLE_PROFILING=false
