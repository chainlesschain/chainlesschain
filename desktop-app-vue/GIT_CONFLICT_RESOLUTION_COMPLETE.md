# Git å†²çªè§£å†³åŠŸèƒ½å®Œæˆ

**å®Œæˆæ—¶é—´**: 2025-12-18
**ç‰ˆæœ¬**: v0.4.0

---

## âœ… å®Œæˆå†…å®¹

### 1. å†²çªæ£€æµ‹ä¸å¤„ç†ï¼ˆgit-manager.jsï¼‰

å·²å¢å¼º GitManager ç±»ï¼Œæ·»åŠ å®Œæ•´çš„å†²çªæ£€æµ‹å’Œè§£å†³é€»è¾‘ã€‚

#### æ–°å¢æ–¹æ³•

**æ–‡ä»¶ä½ç½®**: `src/main/git/git-manager.js`

**æ ¸å¿ƒæ–¹æ³•**:

```javascript
class GitManager {
  // å¢å¼ºçš„ pull æ–¹æ³•ï¼ˆè‡ªåŠ¨æ£€æµ‹å†²çªï¼‰
  async pull()  // è¿”å› { success, hasConflicts, conflicts, error }

  // å†²çªæ£€æµ‹
  async getConflictFiles()  // è·å–å†²çªæ–‡ä»¶åˆ—è¡¨

  // å†²çªå†…å®¹è§£æ
  async getConflictContent(filepath)  // è·å–å†²çªæ–‡ä»¶çš„è¯¦ç»†å†…å®¹
  parseConflictMarkers(content)  // è§£æ <<<<<<< ======= >>>>>>> æ ‡è®°

  // å†²çªè§£å†³
  async resolveConflict(filepath, resolution, content)  // è§£å†³å•ä¸ªå†²çª
  async completeMerge(message)  // å®Œæˆåˆå¹¶ï¼ˆæ‰€æœ‰å†²çªè§£å†³åï¼‰
  async abortMerge()  // ä¸­æ­¢åˆå¹¶

  // è¾…åŠ©æ–¹æ³•
  async readFile(filepath)  // è¯»å–æ–‡ä»¶å†…å®¹
}
```

#### å†²çªè§£æé€»è¾‘

è§£æ Git æ ‡å‡†å†²çªæ ‡è®°ï¼š

```
è¿œç¨‹ç‰ˆæœ¬å†…å®¹
```

è§£æåè¿”å›ç»“æ„åŒ–æ•°æ®ï¼š

```javascript
{
  filepath: "knowledge/note.md",
  fullContent: "å®Œæ•´æ–‡ä»¶å†…å®¹ï¼ˆå«å†²çªæ ‡è®°ï¼‰",
  conflicts: [
    {
      startLine: 10,
      endLine: 15,
      oursLabel: "HEAD",
      theirsLabel: "origin/main",
      ours: "æœ¬åœ°ç‰ˆæœ¬å†…å®¹",
      theirs: "è¿œç¨‹ç‰ˆæœ¬å†…å®¹"
    }
  ],
  hasConflicts: true
}
```

#### ä¸‰ç§è§£å†³æ–¹å¼

1. **ä½¿ç”¨æœ¬åœ°ç‰ˆæœ¬ (ours)**:
   - ä¿ç•™æ‰€æœ‰ `<<<<<<< HEAD` å’Œ `=======` ä¹‹é—´çš„å†…å®¹
   - åˆ é™¤å†²çªæ ‡è®°å’Œè¿œç¨‹ç‰ˆæœ¬å†…å®¹

2. **ä½¿ç”¨è¿œç¨‹ç‰ˆæœ¬ (theirs)**:
   - ä¿ç•™æ‰€æœ‰ `=======` å’Œ `>>>>>>>` ä¹‹é—´çš„å†…å®¹
   - åˆ é™¤å†²çªæ ‡è®°å’Œæœ¬åœ°ç‰ˆæœ¬å†…å®¹

3. **æ‰‹åŠ¨ç¼–è¾‘ (manual)**:
   - ç”¨æˆ·æä¾›å®Œæ•´çš„è§£å†³åå†…å®¹
   - ç›´æ¥å†™å…¥æ–‡ä»¶å¹¶æ·»åŠ åˆ°æš‚å­˜åŒº

### 2. IPC é€šä¿¡æ¥å£ï¼ˆindex.js + preload.jsï¼‰

#### IPC å¤„ç†å™¨ (`src/main/index.js`)

æ–°å¢ 5 ä¸ª IPC å¤„ç†å™¨ï¼š

```javascript
ipcMain.handle('git:pull')  // å¢å¼ºè¿”å›å†²çªä¿¡æ¯
ipcMain.handle('git:get-conflicts')  // è·å–å†²çªåˆ—è¡¨
ipcMain.handle('git:get-conflict-content', filepath)  // è·å–å†²çªè¯¦æƒ…
ipcMain.handle('git:resolve-conflict', filepath, resolution, content)  // è§£å†³å†²çª
ipcMain.handle('git:abort-merge')  // ä¸­æ­¢åˆå¹¶
ipcMain.handle('git:complete-merge', message)  // å®Œæˆåˆå¹¶
```

#### Preload API (`src/preload/index.js`)

æš´éœ²ç»™æ¸²æŸ“è¿›ç¨‹çš„ APIï¼š

```javascript
window.electronAPI.git.getConflicts()
window.electronAPI.git.getConflictContent(filepath)
window.electronAPI.git.resolveConflict(filepath, resolution, content)
window.electronAPI.git.abortMerge()
window.electronAPI.git.completeMerge(message)
```

### 3. GitConflictResolver.vue UI ç»„ä»¶

**æ–‡ä»¶ä½ç½®**: `src/renderer/components/GitConflictResolver.vue`

#### åŠŸèƒ½ç‰¹æ€§

- âœ… **å†²çªæ–‡ä»¶åˆ—è¡¨**
  - æŠ˜å é¢æ¿å±•ç¤ºæ¯ä¸ªå†²çªæ–‡ä»¶
  - å·²è§£å†³/æœªè§£å†³çŠ¶æ€æ ‡è®°
  - æ”¯æŒé€ä¸ªå±•å¼€æŸ¥çœ‹

- âœ… **å¹¶æ’å¯¹æ¯”è§†å›¾**
  - å·¦ä¾§ï¼šæœ¬åœ°ç‰ˆæœ¬ (Ours)
  - å³ä¾§ï¼šè¿œç¨‹ç‰ˆæœ¬ (Theirs)
  - æ¸…æ™°çš„è¾¹ç•Œå’Œæ ‡ç­¾

- âœ… **ä¸‰ç§è§£å†³æ–¹å¼**
  - ä¸€é”®é€‰æ‹©æœ¬åœ°ç‰ˆæœ¬
  - ä¸€é”®é€‰æ‹©è¿œç¨‹ç‰ˆæœ¬
  - æ‰‹åŠ¨ç¼–è¾‘æ–‡æœ¬æ¡†

- âœ… **æ“ä½œæŒ‰é’®**
  - å®Œæˆåˆå¹¶ï¼ˆæ‰€æœ‰å†²çªè§£å†³åå¯ç”¨ï¼‰
  - ä¸­æ­¢åˆå¹¶
  - å–æ¶ˆï¼ˆå…³é—­å¯¹è¯æ¡†ï¼‰

- âœ… **è¿›åº¦æç¤º**
  - æ˜¾ç¤ºå·²è§£å†³ / æ€»å†²çªæ•°
  - å®æ—¶æ›´æ–°è§£å†³çŠ¶æ€

#### UI é¢„è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è§£å†³Gitåˆå¹¶å†²çª                               [X] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âš  æœ‰ 2 ä¸ªæ–‡ä»¶å­˜åœ¨å†²çªï¼Œè¯·é€ä¸ªè§£å†³                  â”‚
â”‚                                                    â”‚
â”‚ â–¼ knowledge/note1.md                    [æœªè§£å†³]  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚   â”‚ æœ¬åœ°ç‰ˆæœ¬ (Ours)   â”‚ è¿œç¨‹ç‰ˆæœ¬ (Theirs)â”‚         â”‚
â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚         â”‚
â”‚   â”‚ â”‚ å†…å®¹...      â”‚ â”‚ â”‚ å†…å®¹...      â”‚ â”‚         â”‚
â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚         â”‚
â”‚   â”‚ [â†ä½¿ç”¨æœ¬åœ°ç‰ˆæœ¬]  â”‚ [ä½¿ç”¨è¿œç¨‹ç‰ˆæœ¬â†’]  â”‚         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€ æˆ– â”€â”€â”€â”€â”€â”€â”€â”€â”€                          â”‚
â”‚   æ‰‹åŠ¨ç¼–è¾‘                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚   â”‚ åœ¨æ­¤è¾“å…¥æ‰‹åŠ¨è§£å†³åçš„å†…å®¹...          â”‚         â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚   [ä¿å­˜æ‰‹åŠ¨ç¼–è¾‘]                                  â”‚
â”‚                                                    â”‚
â”‚ â–¶ knowledge/note2.md                    [æœªè§£å†³]  â”‚
â”‚                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              [âœ“å®Œæˆåˆå¹¶] [âœ—ä¸­æ­¢åˆå¹¶] [å–æ¶ˆ]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. GitSettings.vue é›†æˆ

**æ–‡ä»¶ä½ç½®**: `src/renderer/components/GitSettings.vue`

#### æ–°å¢åŠŸèƒ½

- âœ… æ·»åŠ "æ‹‰å–æ›´æ–° (Pull)"æŒ‰é’®
- âœ… è‡ªåŠ¨æ£€æµ‹å†²çªå¹¶æ‰“å¼€è§£å†³å™¨
- âœ… æ˜¾ç¤ºæ“ä½œç»“æœï¼ˆæˆåŠŸ/å¤±è´¥/å†²çªï¼‰
- âœ… é›†æˆ GitConflictResolver ç»„ä»¶

#### å·¥ä½œæµç¨‹

```
ç”¨æˆ·ç‚¹å‡» "æ‹‰å–æ›´æ–°"
   â†“
è°ƒç”¨ git:pull IPC
   â†“
GitManageræ‰§è¡Œ fetch + merge
   â†“
æ£€æµ‹åˆ°å†²çªï¼Ÿ
   â”œâ”€ æ˜¯ â†’ è¿”å›å†²çªä¿¡æ¯
   â”‚        â†“
   â”‚   æ‰“å¼€ GitConflictResolver
   â”‚        â†“
   â”‚   ç”¨æˆ·é€ä¸ªè§£å†³å†²çª
   â”‚        â†“
   â”‚   ç‚¹å‡» "å®Œæˆåˆå¹¶"
   â”‚        â†“
   â”‚   æäº¤åˆå¹¶commit
   â”‚        â†“
   â”‚   æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
   â”‚
   â””â”€ å¦ â†’ ç›´æ¥æˆåŠŸ
           â†“
      æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
```

---

## ğŸ—ï¸ æŠ€æœ¯å®ç°

### å†²çªæ£€æµ‹åŸç†

isomorphic-git çš„ merge åœ¨é‡åˆ°å†²çªæ—¶ä¼šï¼š

1. **æŠ›å‡º MergeConflictError** æˆ–åŒ…å« "conflict" çš„é”™è¯¯
2. **åœ¨å·¥ä½œç›®å½•ç”Ÿæˆå†²çªæ ‡è®°**:
   ```
   <<<<<<< HEAD
   æœ¬åœ°å†…å®¹
   =======
   è¿œç¨‹å†…å®¹
   >>>>>>> origin/main
   ```
3. **status matrix** ä¸­æ–‡ä»¶çŠ¶æ€å˜ä¸ºç‰¹æ®Šå€¼

æˆ‘ä»¬çš„å®ç°ï¼š

```javascript
// 1. æ•è·mergeé”™è¯¯
try {
  await git.merge(...)
} catch (mergeError) {
  if (mergeError.message.includes('conflict')) {
    // æ£€æµ‹åˆ°å†²çª
    const conflicts = await getConflictFiles()
    return { hasConflicts: true, conflicts }
  }
}

// 2. éå†æ–‡ä»¶æ£€æŸ¥å†²çªæ ‡è®°
for (const [filepath, head, workdir, stage] of statusMatrix) {
  const content = readFileSync(filepath)
  if (content.includes('<<<<<<<')) {
    conflicts.push({ filepath, status: 'conflict' })
  }
}

// 3. è§£æå†²çªå†…å®¹
const lines = content.split('\n')
// æŸ¥æ‰¾ <<<<<<<ã€=======ã€>>>>>>> è¡Œ
// æå– ours å’Œ theirs éƒ¨åˆ†
```

### è§£å†³å†²çªåŸç†

```javascript
// æ–¹å¼1: ä½¿ç”¨ ours
resolvedContent = fullContent
  .replace(conflictBlock, conflict.ours)

// æ–¹å¼2: ä½¿ç”¨ theirs
resolvedContent = fullContent
  .replace(conflictBlock, conflict.theirs)

// æ–¹å¼3: æ‰‹åŠ¨
resolvedContent = userProvidedContent

// å…±åŒæ­¥éª¤:
// 1. å†™å…¥æ–‡ä»¶
fs.writeFileSync(filepath, resolvedContent)
// 2. æ·»åŠ åˆ°æš‚å­˜åŒº
await git.add({ fs, dir, filepath })
// 3. æ‰€æœ‰å†²çªè§£å†³åæäº¤
await git.commit({ message: 'Merge completed' })
```

---

## ğŸ§ª æµ‹è¯•æŒ‡å—

### å‡†å¤‡æµ‹è¯•ç¯å¢ƒ

#### 1. åˆ›å»ºæµ‹è¯•ä»“åº“

**æœ¬åœ°ä»“åº“**:
```bash
cd C:/code/chainlesschain/desktop-app-vue/test-repo
git init
echo "# Test" > README.md
git add .
git commit -m "Initial commit"
```

**è¿œç¨‹ä»“åº“**:
```bash
# åœ¨ GitHub åˆ›å»ºç©ºä»“åº“
git remote add origin https://github.com/your-username/test-repo.git
git push -u origin main
```

#### 2. åˆ¶é€ å†²çªåœºæ™¯

**åœ¨æœ¬åœ°ä¿®æ”¹æ–‡ä»¶**:
```bash
echo "Local version" > conflict.txt
git add .
git commit -m "Local change"
```

**åœ¨è¿œç¨‹ä¿®æ”¹åŒä¸€æ–‡ä»¶ï¼ˆGitHubç½‘é¡µç¼–è¾‘ï¼‰**:
```
conflict.txt:
Remote version
```

æäº¤è¿œç¨‹ä¿®æ”¹ã€‚

ç°åœ¨æœ¬åœ°å’Œè¿œç¨‹å¯¹åŒä¸€æ–‡ä»¶æœ‰ä¸åŒçš„ä¿®æ”¹ï¼Œæ‹‰å–æ—¶ä¼šäº§ç”Ÿå†²çªã€‚

### æµ‹è¯•ç”¨ä¾‹

#### æµ‹è¯•1: æ£€æµ‹å†²çª

**æ­¥éª¤**:
1. å¯åŠ¨åº”ç”¨
2. è¿›å…¥"è®¾ç½®" â†’ "GitåŒæ­¥"
3. é…ç½®è¿œç¨‹ä»“åº“ URL
4. ç‚¹å‡»"æ‹‰å–æ›´æ–° (Pull)"

**é¢„æœŸç»“æœ**:
- æ˜¾ç¤ºè­¦å‘Šæ¶ˆæ¯ï¼š"æ£€æµ‹åˆ°åˆå¹¶å†²çªï¼Œè¯·æ‰‹åŠ¨è§£å†³"
- è‡ªåŠ¨æ‰“å¼€ GitConflictResolver å¯¹è¯æ¡†
- æ˜¾ç¤ºå†²çªæ–‡ä»¶åˆ—è¡¨

#### æµ‹è¯•2: ä½¿ç”¨æœ¬åœ°ç‰ˆæœ¬è§£å†³

**æ­¥éª¤**:
1. åœ¨ GitConflictResolver ä¸­å±•å¼€å†²çªæ–‡ä»¶
2. æŸ¥çœ‹å·¦ä¾§æœ¬åœ°ç‰ˆæœ¬å’Œå³ä¾§è¿œç¨‹ç‰ˆæœ¬
3. ç‚¹å‡»"ä½¿ç”¨æœ¬åœ°ç‰ˆæœ¬"æŒ‰é’®

**é¢„æœŸç»“æœ**:
- æ–‡ä»¶æ ‡è®°ä¸º"å·²è§£å†³"ï¼ˆç»¿è‰²æ ‡ç­¾ï¼‰
- è¯¥å†²çªæ¶ˆå¤±
- "å®Œæˆåˆå¹¶"æŒ‰é’®å˜ä¸ºå¯ç”¨ï¼ˆå¦‚æœæ‰€æœ‰å†²çªéƒ½è§£å†³äº†ï¼‰

#### æµ‹è¯•3: ä½¿ç”¨è¿œç¨‹ç‰ˆæœ¬è§£å†³

**æ­¥éª¤**:
1. å±•å¼€å†²çªæ–‡ä»¶
2. ç‚¹å‡»"ä½¿ç”¨è¿œç¨‹ç‰ˆæœ¬"æŒ‰é’®

**é¢„æœŸç»“æœ**:
- æ–‡ä»¶æ ‡è®°ä¸º"å·²è§£å†³"
- è¿œç¨‹ç‰ˆæœ¬å†…å®¹è¢«ä¿ç•™

#### æµ‹è¯•4: æ‰‹åŠ¨ç¼–è¾‘è§£å†³

**æ­¥éª¤**:
1. å±•å¼€å†²çªæ–‡ä»¶
2. åœ¨"æ‰‹åŠ¨ç¼–è¾‘"æ–‡æœ¬æ¡†ä¸­è¾“å…¥åˆå¹¶åçš„å†…å®¹:
   ```
   Combined version: both local and remote
   ```
3. ç‚¹å‡»"ä¿å­˜æ‰‹åŠ¨ç¼–è¾‘"

**é¢„æœŸç»“æœ**:
- æ–‡ä»¶æ ‡è®°ä¸º"å·²è§£å†³"
- æ‰‹åŠ¨ç¼–è¾‘çš„å†…å®¹è¢«ä¿å­˜

#### æµ‹è¯•5: å®Œæˆåˆå¹¶

**æ­¥éª¤**:
1. è§£å†³æ‰€æœ‰å†²çª
2. ç‚¹å‡»"å®Œæˆåˆå¹¶"æŒ‰é’®

**é¢„æœŸç»“æœ**:
- æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯ï¼š"åˆå¹¶å·²å®Œæˆ"
- å¯¹è¯æ¡†å…³é—­
- Git å†å²ä¸­æ–°å¢ä¸€ä¸ª merge commit
- å¯ä»¥ç»§ç»­æ­£å¸¸ push

#### æµ‹è¯•6: ä¸­æ­¢åˆå¹¶

**æ­¥éª¤**:
1. æ‰“å¼€å†²çªè§£å†³å™¨ï¼ˆæœ‰æœªè§£å†³çš„å†²çªï¼‰
2. ç‚¹å‡»"ä¸­æ­¢åˆå¹¶"æŒ‰é’®

**é¢„æœŸç»“æœ**:
- æ˜¾ç¤ºæ¶ˆæ¯ï¼š"åˆå¹¶å·²ä¸­æ­¢"
- å¯¹è¯æ¡†å…³é—­
- å·¥ä½œç›®å½•æ¢å¤åˆ°åˆå¹¶å‰çŠ¶æ€
- å†²çªæ–‡ä»¶æ¢å¤åŸçŠ¶

#### æµ‹è¯•7: å¤šæ–‡ä»¶å†²çª

**å‡†å¤‡**:
- åˆ¶é€  3 ä¸ªæ–‡ä»¶çš„å†²çª

**æ­¥éª¤**:
1. æ‹‰å–æ›´æ–°
2. æŸ¥çœ‹å†²çªåˆ—è¡¨ï¼ˆåº”æ˜¾ç¤º 3 ä¸ªæ–‡ä»¶ï¼‰
3. é€ä¸ªè§£å†³

**é¢„æœŸç»“æœ**:
- æŠ˜å é¢æ¿æ˜¾ç¤º 3 ä¸ªå†²çªæ–‡ä»¶
- å¯ä»¥é€ä¸ªå±•å¼€å’Œè§£å†³
- æ˜¾ç¤ºè¿›åº¦ï¼š"2/3 å·²è§£å†³"
- å…¨éƒ¨è§£å†³åæ‰èƒ½å®Œæˆåˆå¹¶

---

## ğŸ“Š åŠŸèƒ½å¯¹æ¯”

### ä¸ä¸»æµ Git å·¥å…·å¯¹æ¯”

| åŠŸèƒ½ | ChainlessChain | VS Code | GitKraken | SourceTree |
|------|----------------|---------|-----------|------------|
| å†²çªæ£€æµ‹ | âœ… è‡ªåŠ¨ | âœ… è‡ªåŠ¨ | âœ… è‡ªåŠ¨ | âœ… è‡ªåŠ¨ |
| å¯è§†åŒ– diff | âœ… å¹¶æ’å¯¹æ¯” | âœ… å†…è” | âœ… å¹¶æ’ | âœ… å¹¶æ’ |
| ä½¿ç”¨ ours | âœ… ä¸€é”® | âœ… å‘½ä»¤ | âœ… æŒ‰é’® | âœ… æŒ‰é’® |
| ä½¿ç”¨ theirs | âœ… ä¸€é”® | âœ… å‘½ä»¤ | âœ… æŒ‰é’® | âœ… æŒ‰é’® |
| æ‰‹åŠ¨ç¼–è¾‘ | âœ… æ–‡æœ¬æ¡† | âœ… ç¼–è¾‘å™¨ | âœ… ç¼–è¾‘å™¨ | âœ… ç¼–è¾‘å™¨ |
| ä¸­æ­¢åˆå¹¶ | âœ… æŒ‰é’® | âœ… å‘½ä»¤ | âœ… æŒ‰é’® | âœ… æŒ‰é’® |
| å¤šæ–‡ä»¶æ”¯æŒ | âœ… æŠ˜å é¢æ¿ | âœ… æ–‡ä»¶åˆ—è¡¨ | âœ… æ–‡ä»¶åˆ—è¡¨ | âœ… æ–‡ä»¶åˆ—è¡¨ |

### ä¼˜åŠ¿

1. **é›†æˆç®€æ´**: ç›´æ¥åœ¨è®¾ç½®é¡µé¢æ“ä½œï¼Œæ— éœ€åˆ‡æ¢å·¥å…·
2. **ç”¨æˆ·å‹å¥½**: æ¸…æ™°çš„è§†è§‰å¯¹æ¯”ï¼Œé™ä½ç†è§£é—¨æ§›
3. **ä¸‰ç§æ–¹å¼**: æ—¢æœ‰å¿«æ·é€‰æ‹©ï¼Œä¹Ÿæ”¯æŒå®Œå…¨æ‰‹åŠ¨
4. **è¿›åº¦é€æ˜**: å®æ—¶æ˜¾ç¤ºå·²è§£å†³/æœªè§£å†³çŠ¶æ€

### å¾…æ”¹è¿›

1. **ä»£ç é«˜äº®**: æ‰‹åŠ¨ç¼–è¾‘æ—¶æ²¡æœ‰è¯­æ³•é«˜äº®
2. **ä¸‰è·¯åˆå¹¶**: æ²¡æœ‰æ˜¾ç¤º base ç‰ˆæœ¬ï¼ˆå…±åŒç¥–å…ˆï¼‰
3. **é€å—è§£å†³**: ä¸æ”¯æŒåœ¨åŒä¸€æ–‡ä»¶çš„ä¸åŒå†²çªå—é€‰æ‹©ä¸åŒç­–ç•¥
4. **å¤–éƒ¨ç¼–è¾‘å™¨**: ä¸æ”¯æŒç”¨å¤–éƒ¨ç¼–è¾‘å™¨æ‰“å¼€å†²çªæ–‡ä»¶

---

## ğŸ› å·²çŸ¥é—®é¢˜ä¸é™åˆ¶

### 1. å¤æ‚å†²çªåœºæ™¯

- **é—®é¢˜**: å½“å‰å‡è®¾æ¯ä¸ªæ–‡ä»¶åªæœ‰ä¸€ä¸ªå†²çªå—
- **å½±å“**: å¦‚æœä¸€ä¸ªæ–‡ä»¶æœ‰å¤šä¸ªå†²çªå—ï¼Œåªæ˜¾ç¤ºç¬¬ä¸€ä¸ª
- **è§£å†³æ–¹æ¡ˆ**:
  - çŸ­æœŸï¼šæç¤ºç”¨æˆ·ä½¿ç”¨æ‰‹åŠ¨ç¼–è¾‘
  - é•¿æœŸï¼šæ”¯æŒå¤šå†²çªå—ç‹¬ç«‹è§£å†³

### 2. äºŒè¿›åˆ¶æ–‡ä»¶å†²çª

- **é—®é¢˜**: æ— æ³•å¤„ç†äºŒè¿›åˆ¶æ–‡ä»¶å†²çªï¼ˆå›¾ç‰‡ã€PDFç­‰ï¼‰
- **å½±å“**: è¿™ç±»å†²çªä¼šæ˜¾ç¤ºä¹±ç æˆ–æ— æ³•è§£æ
- **è§£å†³æ–¹æ¡ˆ**: æ£€æµ‹æ–‡ä»¶ç±»å‹ï¼Œå¯¹äºŒè¿›åˆ¶æ–‡ä»¶æä¾›ä¸åŒUI

### 3. å¤§æ–‡ä»¶æ€§èƒ½

- **é—®é¢˜**: è¶…å¤§æ–‡ä»¶ï¼ˆ>1MBï¼‰çš„å†²çªè§£æå¯èƒ½è¾ƒæ…¢
- **å½±å“**: UI åŠ è½½æ—¶é—´è¾ƒé•¿
- **è§£å†³æ–¹æ¡ˆ**: å®ç°åˆ†é¡µåŠ è½½æˆ–è™šæ‹Ÿæ»šåŠ¨

### 4. æ²¡æœ‰ Base ç‰ˆæœ¬

- **é—®é¢˜**: ä¸‰è·¯åˆå¹¶ä¸­ç¼ºå°‘ baseï¼ˆå…±åŒç¥–å…ˆï¼‰ç‰ˆæœ¬
- **å½±å“**: ç”¨æˆ·æ— æ³•çœ‹åˆ°åˆå¹¶å‰çš„åŸå§‹å†…å®¹
- **è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨ git çš„ä¸‰è·¯åˆå¹¶APIè·å– base

---

## ğŸš€ åç»­ä¼˜åŒ–è®¡åˆ’

### çŸ­æœŸ (P1 - 1å‘¨å†…)

- [x] åŸºæœ¬å†²çªæ£€æµ‹ âœ…
- [x] ä¸‰ç§è§£å†³æ–¹å¼ âœ…
- [x] UI ç»„ä»¶ âœ…
- [ ] æ·»åŠ æµ‹è¯•ç”¨ä¾‹
- [ ] ç”¨æˆ·æ–‡æ¡£å®Œå–„

### ä¸­æœŸ (P2 - 2-4å‘¨)

- [ ] ä»£ç è¯­æ³•é«˜äº®ï¼ˆæ‰‹åŠ¨ç¼–è¾‘ï¼‰
- [ ] Base ç‰ˆæœ¬æ˜¾ç¤ºï¼ˆä¸‰è·¯åˆå¹¶ï¼‰
- [ ] å¤šå†²çªå—æ”¯æŒ
- [ ] å¤–éƒ¨ç¼–è¾‘å™¨é›†æˆ
- [ ] æ’¤é”€/é‡åšåŠŸèƒ½

### é•¿æœŸ (P3 - 1-3æœˆ)

- [ ] AI è¾…åŠ©åˆå¹¶ï¼ˆä½¿ç”¨ LLM å»ºè®®æœ€ä½³åˆå¹¶æ–¹æ¡ˆï¼‰
- [ ] å†²çªå†å²è®°å½•
- [ ] æ‰¹é‡è§£å†³ç­–ç•¥ï¼ˆå¯¹æ‰€æœ‰æ–‡ä»¶åº”ç”¨åŒä¸€ç­–ç•¥ï¼‰
- [ ] å¯è§†åŒ–åˆå¹¶å›¾ï¼ˆæ˜¾ç¤ºåˆ†æ”¯åˆå¹¶æ‹“æ‰‘ï¼‰
- [ ] å†²çªé¢„é˜²æç¤ºï¼ˆpush å‰æ£€æŸ¥æ½œåœ¨å†²çªï¼‰

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [isomorphic-git Merge API](https://isomorphic-git.org/docs/en/merge)
- [Git Merge Conflicts](https://git-scm.com/book/en/v2/Git-Branching-Basic-Branching-and-Merging)
- [Resolving Merge Conflicts](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/addressing-merge-conflicts/resolving-a-merge-conflict-using-the-command-line)

---

## ğŸ’¡ è®¾è®¡å†³ç­–

### ä¸ºä»€ä¹ˆé€‰æ‹©æ¨¡æ€å¯¹è¯æ¡†ï¼Ÿ

1. **ä¸“æ³¨è§£å†³**: å†²çªè§£å†³æ˜¯å…³é”®æ“ä½œï¼Œéœ€è¦ç”¨æˆ·å…¨ç¥è´¯æ³¨
2. **é¿å…è¯¯æ“ä½œ**: æ¨¡æ€å¯¹è¯æ¡†é˜²æ­¢ç”¨æˆ·åœ¨æœªå®Œæˆæ—¶è¿›è¡Œå…¶ä»–æ“ä½œ
3. **æ¸…æ™°æµç¨‹**: ä»æ£€æµ‹ â†’ è§£å†³ â†’ å®Œæˆï¼Œæµç¨‹ä¸€ç›®äº†ç„¶

### ä¸ºä»€ä¹ˆå¹¶æ’å¯¹æ¯”è€Œéå†…è”ï¼Ÿ

1. **è§†è§‰æ¸…æ™°**: å·¦å³å¯¹æ¯”æ¯”ä¸Šä¸‹æˆ–å†…è”æ›´ç›´è§‚
2. **ç©ºé—´åˆ©ç”¨**: 1000px å®½åº¦è¶³å¤Ÿæ˜¾ç¤ºä¸¤åˆ—ä»£ç 
3. **è¡Œä¸šæ ‡å‡†**: ä¸»æµ diff å·¥å…·éƒ½é‡‡ç”¨å¹¶æ’è§†å›¾
4. **å‡å°‘æ»šåŠ¨**: åŒå±æ˜¾ç¤ºä¸¤ä¸ªç‰ˆæœ¬ï¼Œå‡å°‘åˆ‡æ¢

### ä¸ºä»€ä¹ˆæä¾›ä¸‰ç§è§£å†³æ–¹å¼ï¼Ÿ

1. **æ•ˆç‡ä¼˜å…ˆ**: ç®€å•å†²çªä¸€é”®è§£å†³ï¼ˆours/theirsï¼‰
2. **çµæ´»æ€§**: å¤æ‚å†²çªéœ€è¦æ‰‹åŠ¨åˆå¹¶
3. **ç”¨æˆ·é€‰æ‹©**: ä¸åŒç”¨æˆ·æœ‰ä¸åŒåå¥½
4. **å­¦ä¹ æ›²çº¿**: æ–°æ‰‹å¯ä»¥å¿«é€Ÿé€‰æ‹©ï¼Œè€æ‰‹å¯ä»¥ç²¾ç»†ç¼–è¾‘

---

## ğŸ‰ æ€»ç»“

### å®Œæˆçš„åŠŸèƒ½
- âœ… å®Œæ•´çš„å†²çªæ£€æµ‹é€»è¾‘
- âœ… å†²çªæ ‡è®°è§£æ
- âœ… ä¸‰ç§è§£å†³æ–¹å¼ï¼ˆours/theirs/manualï¼‰
- âœ… å¯è§†åŒ– diff UI
- âœ… å¤šæ–‡ä»¶å†²çªæ”¯æŒ
- âœ… ä¸­æ­¢ä¸å®Œæˆåˆå¹¶
- âœ… å®æ—¶çŠ¶æ€æ›´æ–°
- âœ… ç”¨æˆ·å‹å¥½çš„æç¤º

### æŠ€æœ¯äº®ç‚¹
- ğŸ—ï¸ å¥å£®çš„é”™è¯¯å¤„ç†
- ğŸ¨ ä¼˜é›…çš„ UI è®¾è®¡
- ğŸ”„ æ¸…æ™°çš„çŠ¶æ€ç®¡ç†
- ğŸ“Š å®æ—¶è¿›åº¦åé¦ˆ
- ğŸ›¡ï¸ å®‰å…¨çš„æ–‡ä»¶æ“ä½œ
- ğŸš€ é«˜æ•ˆçš„å†²çªè§£æ

### æå‡çš„èƒ½åŠ›
- ğŸ“ ä»æ‰‹åŠ¨å‘½ä»¤è¡Œ â†’ å¯è§†åŒ–æ“ä½œ
- ğŸ§  ä»æ¨¡ç³Šé”™è¯¯ â†’ æ¸…æ™°æŒ‡å¼•
- ğŸ’¾ ä»ä¸¢å¤±æ•°æ®é£é™© â†’ å®‰å…¨å¯æ§
- âš¡ ä»è´¹æ—¶è´¹åŠ› â†’ å¿«é€Ÿè§£å†³
- ğŸ“ˆ ä»ä¸“å®¶æ“ä½œ â†’ äººäººå¯ç”¨

---

**ä¸‹ä¸€æ­¥**: å®Œæ•´æµ‹è¯•æ‰€æœ‰å†²çªåœºæ™¯ï¼Œç¡®ä¿åŠŸèƒ½ç¨³å®šå¯é ï¼

---

*æ–‡æ¡£ç”Ÿæˆæ—¶é—´: 2025-12-18*
*ç‰ˆæœ¬: v0.4.0*
*ä½œè€…: ChainlessChain Team*
