# 菜单集成验证清单

## 快速验证 (5分钟)

### 准备工作

1. 确保开发服务器正在运行:
```bash
cd desktop-app-vue
npm run dev
```

2. 等待应用窗口打开并登录

### 验证步骤

#### ✅ 监控与诊断功能 (6项)

**路径**: 左侧菜单 → 系统设置 → 监控与诊断

- [ ] **LLM性能监控** - 点击后应显示性能仪表板，包含Token使用图表
- [ ] **数据库性能监控** - 点击后应显示数据库查询统计
- [ ] **错误监控** - 点击后应显示错误日志列表（带AI标签）
- [ ] **会话管理** - 点击后应显示AI对话历史管理界面
- [ ] **内存仪表板** - 点击后应显示Memory Bank状态
- [ ] **标签管理** - 点击后应显示标签列表和编辑功能

**预期结果**: 所有页面应正常加载，无白屏或错误提示

#### ✅ MCP和AI配置 (2项)

**路径**: 左侧菜单 → 系统设置 → AI配置

- [ ] **MCP服务器** - 点击后应跳转到设置页MCP标签
  - 检查: URL应包含 `#/settings?tab=mcp`
  - 检查: 应显示MCP服务器列表和配置选项

- [ ] **Token使用统计** - 点击后应跳转到设置页Token标签
  - 检查: URL应包含 `#/settings?tab=token-usage`
  - 检查: 应显示Token使用统计图表

**预期结果**: 正确跳转到SettingsPage的相应标签页

#### ✅ P2P高级功能 (6项)

**路径**: 左侧菜单 → 社交网络 → (展开子菜单)

- [ ] **设备配对** - 点击后应显示设备扫描和配对界面
- [ ] **设备管理** - 点击后应显示已配对设备列表
- [ ] **文件传输** - 点击后应显示P2P文件传输界面
- [ ] **安全号码验证** - 点击后应显示6位安全码比对界面
- [ ] **会话指纹** - 点击后应显示当前会话的指纹信息
- [ ] **消息队列** - 点击后应显示待发送/接收的消息队列

**预期结果**: 所有P2P功能页面正常显示

## 详细测试 (15分钟)

### 1. 功能完整性测试

对每个页面执行以下检查:

- [ ] 页面标题正确显示
- [ ] 图标正确显示
- [ ] 页面布局无错乱
- [ ] 无JavaScript错误（检查DevTools控制台）
- [ ] 数据能正常加载（或显示空状态）
- [ ] 交互元素可点击
- [ ] 表单可以正常提交（如适用）

### 2. 路由测试

直接在浏览器中输入URL验证:

```
http://127.0.0.1:5173/#/llm/performance
http://127.0.0.1:5173/#/database/performance
http://127.0.0.1:5173/#/error/monitor
http://127.0.0.1:5173/#/sessions
http://127.0.0.1:5173/#/memory
http://127.0.0.1:5173/#/tags
http://127.0.0.1:5173/#/settings?tab=mcp
http://127.0.0.1:5173/#/settings?tab=token-usage
http://127.0.0.1:5173/#/p2p/device-pairing
http://127.0.0.1:5173/#/p2p/device-management
http://127.0.0.1:5173/#/p2p/file-transfer
http://127.0.0.1:5173/#/p2p/safety-numbers
http://127.0.0.1:5173/#/p2p/session-fingerprint
http://127.0.0.1:5173/#/p2p/message-queue
```

**预期结果**: 所有URL都能正确导航到对应页面

### 3. UI/UX测试

- [ ] 菜单项文本清晰易懂
- [ ] 图标与功能匹配
- [ ] 菜单分组合理
- [ ] 新功能标签显示正确（"新"、"AI"标签）
- [ ] 悬停效果正常
- [ ] 选中状态高亮显示

### 4. 性能测试

打开DevTools Performance标签:

- [ ] 页面切换流畅（< 200ms）
- [ ] 无明显卡顿
- [ ] 内存占用合理（< 500MB）

## 已知问题检查

### MCP服务器问题

如果MCP服务器无法开启:

1. 检查后端服务:
```bash
# 检查MCP服务是否运行
docker ps | grep mcp
# 或
netstat -ano | findstr :端口号
```

2. 检查配置文件:
```bash
cat .chainlesschain/config.json
```

3. 查看日志:
```bash
tail -f logs/mcp-server.log
```

### 页面错误排查

如果页面显示错误:

1. 打开DevTools控制台查看错误信息
2. 检查Network标签是否有请求失败
3. 查看主进程日志（应用输出）

## 自动化测试

运行E2E测试套件:

```bash
cd desktop-app-vue

# Windows
tests\e2e\menu\run-menu-tests.bat

# Linux/macOS
bash tests/e2e/menu/run-menu-tests.sh
```

**注意**: 当前E2E测试可能失败，这是已知问题，正在修复中。

## 配置诊断

运行诊断脚本检查配置完整性:

```bash
cd desktop-app-vue
node scripts/diagnose-menu-integration.js
```

**预期输出**:
```
✓ 菜单项: 14/14 已添加
✓ 路由配置: 14/14 已注册
✓ 页面组件: 14/14 存在
诊断完成: 42/42 检查通过
```

## 回归测试

确保新增功能不影响现有功能:

- [ ] 项目管理功能正常
- [ ] 知识库功能正常
- [ ] AI对话功能正常
- [ ] 设置页面其他标签正常
- [ ] 社交网络其他功能正常

## 验证完成

当所有检查项都完成后:

1. ✅ 记录通过的功能数量
2. ⚠️ 记录失败的功能及原因
3. 📝 提交测试报告到项目文档

## 问题反馈

如发现问题，请提供以下信息:

1. **问题描述**: 详细描述问题现象
2. **复现步骤**: 如何触发该问题
3. **预期行为**: 应该发生什么
4. **实际行为**: 实际发生了什么
5. **截图**: 如果可能，提供截图
6. **日志**: DevTools控制台输出和主进程日志
7. **环境**:
   - OS版本
   - Node.js版本
   - Electron版本
   - ChainlessChain版本

## 通过标准

验证通过需满足:

- ✅ 至少13/14个菜单项可正常访问（允许1个已知问题）
- ✅ 所有路由正确配置
- ✅ 无严重JavaScript错误
- ✅ 不影响现有功能
- ⚠️ E2E测试可以失败（已知问题）

---

**验证人**: __________
**验证日期**: __________
**通过数量**: ____/14
**备注**: ________________
