# Android 应用功能位置指南

**版本**: v0.32.0
**更新时间**: 2026-01-28

---

## 📱 应用结构

### 底部导航栏（4个主标签）

```
┌──────────────────────────────────────┐
│  🏠首页  📁项目  👥社交  👤我的  │
└──────────────────────────────────────┘
    ↓       ↓       ↓       ↓
   Tab0    Tab1    Tab2    Tab3
```

---

## 🗂️ 本地文件浏览功能

### ✅ 方法 1：从首页进入（推荐）

**位置**: 首页 → 功能卡片 → "文件浏览"

**步骤**：
1. 打开应用
2. 确保在**首页**标签（底部导航第1个，房子图标🏠）
3. 向下滚动主页面
4. 找到功能卡片区域，有多个功能入口
5. 找到**"文件浏览"**卡片
   - 🟢 绿色背景
   - 📁 文件夹图标
   - 文字："文件浏览"
6. **点击**进入

**预期结果**：
- 首次使用：弹出存储权限请求 → 授予权限
- 进入文件浏览界面
- 看到"扫描文件"按钮

---

### ✅ 方法 2：从项目页面进入

**位置**: 项目 → 右上角文件夹图标

**步骤**：
1. 切换到**项目**标签（底部导航第2个，文件夹图标📁）
2. 看到"我的项目"标题栏
3. 点击右上角的**文件夹图标**（FolderOpen）
4. 进入文件浏览器

**预期结果**：同方法1

---

## 🤖 LLM 配置功能

### ✅ 方法 1：从个人中心进入（推荐）

**位置**: 我的 → LLM 设置

**步骤**：
1. 切换到**我的**标签（底部导航第4个，人物图标👤）
2. 找到"设置"或"LLM 设置"选项
3. 点击进入 LLM 配置页面

**预期看到**：
- 提供商选择下拉框（Ollama、OpenAI、豆包等12个选项）
- API Key 输入框
- 模型名称输入框
- **测试连接**按钮

---

### ✅ 方法 2：从首页个人资料进入

**位置**: 首页 → 头像 → LLM 设置

**步骤**：
1. 在首页点击右上角**头像/个人资料图标**
2. 弹出个人资料对话框
3. 找到"LLM 设置"选项
4. 点击进入

---

## 🔄 P2P 功能（社交功能）

### ⚠️ 重要说明

应用中的"P2P功能"分为两部分：

#### 1️⃣ **P2P 社交功能**（已实现）

**位置**: 社交标签

**包含**：
- 好友列表
- 动态分享
- 通知中心

**访问方式**：
1. 切换到**社交**标签（底部导航第3个，人群图标👥）
2. 看到3个子标签：
   - 好友
   - 动态
   - 通知

---

#### 2️⃣ **P2P 文件同步功能**（需要与PC配合）

**说明**：
- Android 端已实现 `FileIndexProtocolHandler`
- 可以响应 PC 端的文件索引请求
- 可以向 PC 端发送文件

**使用场景**：
- PC Desktop 应用连接到 Android 手机
- PC 端打开"外部设备文件管理"
- PC 端浏览 Android 手机文件
- PC 端从 Android 拉取文件

**Android 端操作**：
- 无需特殊操作！
- 只要应用在运行，P2P 服务会自动启动
- PC 连接后，自动响应文件请求

**查看 P2P 状态**（如果有）：
- 社交 → 好友 → 查看已连接设备（如果功能可见）

---

## 📋 功能快速查找表

| 功能 | 位置 | 图标 | 操作 |
|------|------|------|------|
| **本地文件浏览** | 首页 → 文件浏览卡片 | 📁🟢 | 点击卡片 |
| **本地文件浏览** | 项目 → 右上角 | 📁 | 点击图标 |
| **LLM 设置** | 我的 → LLM 设置 | ⚙️ | 点击进入 |
| **LLM 设置** | 首页头像 → LLM 设置 | 👤 | 头像→设置 |
| **好友管理** | 社交 → 好友 | 👥 | 切换标签 |
| **动态分享** | 社交 → 动态 | 📰 | 切换标签 |
| **通知中心** | 社交 → 通知 | 🔔 | 切换标签 |
| **项目管理** | 项目标签 | 📁 | 切换标签 |
| **AI 对话** | 首页 → AI 聊天卡片 | 💬 | 点击卡片 |
| **知识库** | 首页 → 知识库卡片 | 📚 | 点击卡片 |
| **二维码扫描** | 首页 → 扫一扫 | 📷 | 点击功能 |
| **我的二维码** | 首页 → 我的二维码 | 📱 | 点击功能 |

---

## 🎨 首页功能卡片布局

```
┌─────────────────────────────────┐
│         首页                    │
│  ┌──────────┬──────────┐       │
│  │ AI 聊天  │ 知识库   │  第1行│
│  │   💬     │   📚      │       │
│  └──────────┴──────────┘       │
│  ┌──────────┬──────────┐       │
│  │ 二维码   │ 扫一扫   │  第2行│
│  │   📱     │   📷      │       │
│  └──────────┴──────────┘       │
│  ┌──────────┬──────────┐       │
│  │ 项目管理 │ 文件浏览 │  第3行│
│  │   📋     │   📁🟢   │  ← 这个！
│  └──────────┴──────────┘       │
│  ┌──────────┐                  │
│  │ 远程控制 │  (禁用)   第4行│
│  │   💻灰色 │                  │
│  └──────────┘                  │
└─────────────────────────────────┘
```

---

## 🔍 如果找不到功能

### 检查步骤：

#### 1. 确认应用版本
```bash
# 在电脑上执行
adb shell dumpsys package com.chainlesschain.android | grep versionName
```
应该显示: `versionName=0.32.0`

#### 2. 确认应用正在运行
```bash
adb shell "ps | grep chainlesschain"
```
应该看到进程

#### 3. 重启应用
```bash
adb shell am force-stop com.chainlesschain.android
adb shell am start -n com.chainlesschain.android/.MainActivity
```

#### 4. 清除数据重新安装（最后手段）
```bash
adb shell pm clear com.chainlesschain.android
cd E:\code\chainlesschain\android-app
adb install -r app/build/outputs/apk/release/app-universal-release.apk
```

---

## 📸 界面截图说明

### 如果需要我帮忙查看

**拍照/截图**：
1. 打开应用到对应界面
2. 手机截图（电源键+音量减）
3. 执行命令拉取截图：
```bash
adb pull /sdcard/DCIM/Screenshots/ E:\code\chainlesschain\screenshots\
# 或
adb pull /sdcard/Pictures/Screenshots/ E:\code\chainlesschain\screenshots\
```
4. 告诉我截图文件名

---

## ⚠️ 常见问题

### Q: 点击"文件浏览"没反应？
A:
1. 检查是否授予了存储权限
2. 重启应用再试
3. 查看日志：`adb logcat | grep FileBrowser`

### Q: 看不到"文件浏览"卡片？
A:
1. 确认在首页标签（底部第1个）
2. 向下滚动查看更多功能
3. 检查应用版本是否为 v0.32.0

### Q: P2P 文件同步不工作？
A:
1. **确保 Desktop 应用也在运行**
2. 确保两个设备在同一局域网
3. Android 应用无需特殊操作，后台自动响应
4. 在 Desktop 端查看设备是否被发现

### Q: LLM 测试连接一直转圈？
A:
1. 确认 API Key 正确
2. 确认网络连接正常
3. 等待 60 秒，超时会自动返回错误
4. 查看错误信息调整配置

---

## 📞 获取帮助

如果按照以上指南仍然找不到功能，请：

1. **截图发给我**（最直接）
2. **描述当前看到的界面**
3. **告诉我执行了哪些步骤**
4. **提供日志**（如果有错误）

---

**最后更新**: 2026-01-28 15:15
**APK 位置**: `E:\code\chainlesschain\android-app\app\build\outputs\apk\release\app-universal-release.apk`
