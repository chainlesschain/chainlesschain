<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChainlessChain ä¸€é”®æµ‹è¯•</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            background: white;
            border-radius: 16px;
            padding: 40px;
            max-width: 600px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            text-align: center;
        }
        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 28px;
        }
        .subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 14px;
        }
        .big-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 20px 60px;
            font-size: 20px;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
            display: inline-flex;
            align-items: center;
            gap: 12px;
        }
        .big-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.6);
        }
        .big-button:active {
            transform: translateY(-1px);
        }
        .steps {
            text-align: left;
            margin: 30px 0;
            background: #f9f9f9;
            padding: 25px;
            border-radius: 12px;
        }
        .steps h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 16px;
        }
        .step {
            display: flex;
            align-items: start;
            margin-bottom: 15px;
            padding: 12px;
            background: white;
            border-radius: 8px;
        }
        .step-number {
            width: 30px;
            height: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            flex-shrink: 0;
        }
        .step-content {
            flex: 1;
            color: #333;
            line-height: 1.6;
        }
        .info {
            background: #e6f7ff;
            border-left: 4px solid #1890ff;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
            text-align: left;
        }
        .info-title {
            color: #1890ff;
            font-weight: bold;
            margin-bottom: 8px;
        }
        .info-content {
            color: #666;
            font-size: 14px;
            line-height: 1.6;
        }
        .links {
            display: grid;
            gap: 10px;
            margin-top: 20px;
        }
        .link-button {
            background: #f0f0f0;
            color: #333;
            padding: 12px 20px;
            border-radius: 8px;
            text-decoration: none;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: all 0.3s;
        }
        .link-button:hover {
            background: #e0e0e0;
            transform: translateX(5px);
        }
        .emoji {
            font-size: 24px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¯ ChainlessChain ä¸€é”®æµ‹è¯•</h1>
        <p class="subtitle">v0.26.2 èœå•é›†æˆä¸MCPæœåŠ¡éªŒè¯</p>

        <button class="big-button" onclick="startTest()">
            <span class="emoji">ğŸš€</span>
            <span>å¼€å§‹è‡ªåŠ¨æµ‹è¯•</span>
        </button>

        <div class="steps">
            <h3>æµ‹è¯•æµç¨‹è¯´æ˜ï¼š</h3>

            <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <strong>ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®</strong><br>
                    å°†åœ¨åº”ç”¨çª—å£ä¸­è‡ªåŠ¨æ‰“å¼€æµ‹è¯•é¡µé¢
                </div>
            </div>

            <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <strong>è‡ªåŠ¨æµ‹è¯•æ‰€æœ‰é¡µé¢</strong><br>
                    è„šæœ¬ä¼šè‡ªåŠ¨è®¿é—®14ä¸ªèœå•é¡µé¢ï¼Œæ¯ä¸ªé¡µé¢åœç•™3ç§’
                </div>
            </div>

            <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <strong>æŸ¥çœ‹æµ‹è¯•ç»“æœ</strong><br>
                    æµ‹è¯•å®Œæˆåï¼Œæ§åˆ¶å°ä¼šæ˜¾ç¤ºè¯¦ç»†æŠ¥å‘Šå’Œç»Ÿè®¡ä¿¡æ¯
                </div>
            </div>

            <div class="step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <strong>å¤åˆ¶æµ‹è¯•æŠ¥å‘Š</strong><br>
                    æŠ¥å‘Šä¼šè‡ªåŠ¨å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œå¯ç›´æ¥ç²˜è´´
                </div>
            </div>
        </div>

        <div class="info">
            <div class="info-title">ğŸ’¡ æç¤º</div>
            <div class="info-content">
                â€¢ æµ‹è¯•å¤§çº¦éœ€è¦ 45 ç§’å®Œæˆ<br>
                â€¢ æµ‹è¯•æœŸé—´è¯·ä¸è¦æ“ä½œåº”ç”¨<br>
                â€¢ æµ‹è¯•ç»“æœä¼šæ˜¾ç¤ºåœ¨æµè§ˆå™¨æ§åˆ¶å°<br>
                â€¢ å¦‚æœæµè§ˆå™¨é˜»æ­¢å¼¹çª—ï¼Œè¯·å…è®¸å¼¹çª—æƒé™
            </div>
        </div>

        <div class="links">
            <a href="http://127.0.0.1:5173/test-console.html" class="link-button" target="_blank">
                <span>ğŸ“Š å¯è§†åŒ–æµ‹è¯•æ§åˆ¶å°</span>
                <span>â†’</span>
            </a>
            <a href="http://127.0.0.1:5173/#/settings?tab=mcp" class="link-button" target="_blank">
                <span>âš™ï¸ æµ‹è¯•MCPæœåŠ¡ä¿®å¤</span>
                <span>â†’</span>
            </a>
            <a href="#" class="link-button" onclick="openAppWithTest(); return false;">
                <span>ğŸ® åœ¨åº”ç”¨ä¸­è¿è¡Œæµ‹è¯•</span>
                <span>â†’</span>
            </a>
        </div>
    </div>

    <script>
        function startTest() {
            // æ‰“å¼€åº”ç”¨å¹¶è¿è¡Œæµ‹è¯•è„šæœ¬
            const appUrl = 'http://127.0.0.1:5173';
            const testWindow = window.open(appUrl, 'ChainlessChain');

            if (!testWindow) {
                alert('âš ï¸ æµè§ˆå™¨é˜»æ­¢äº†å¼¹çª—ï¼\n\nè¯·å…è®¸æ­¤é¡µé¢çš„å¼¹çª—æƒé™ï¼Œæˆ–æ‰‹åŠ¨æ‰“å¼€åº”ç”¨å¹¶æŒ‰ F12 è¿è¡Œæµ‹è¯•è„šæœ¬ã€‚');
                return;
            }

            // ç­‰å¾…åº”ç”¨åŠ è½½å®Œæˆåæ³¨å…¥æµ‹è¯•è„šæœ¬
            setTimeout(() => {
                try {
                    // åŠ è½½æµ‹è¯•è„šæœ¬
                    fetch('http://127.0.0.1:5173/auto-test.js')
                        .then(response => response.text())
                        .then(scriptContent => {
                            // åœ¨åº”ç”¨çª—å£ä¸­æ‰§è¡Œè„šæœ¬
                            const script = testWindow.document.createElement('script');
                            script.textContent = scriptContent;
                            testWindow.document.body.appendChild(script);

                            alert('âœ… æµ‹è¯•å·²å¼€å§‹ï¼\n\næµ‹è¯•å¤§çº¦éœ€è¦ 45 ç§’\nè¯·åˆ‡æ¢åˆ°åº”ç”¨çª—å£æŸ¥çœ‹è¿›åº¦\n\næŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·æŸ¥çœ‹è¯¦ç»†æ—¥å¿—');
                        })
                        .catch(error => {
                            console.error('åŠ è½½æµ‹è¯•è„šæœ¬å¤±è´¥:', error);
                            showManualInstructions(testWindow);
                        });
                } catch (error) {
                    console.error('æ³¨å…¥è„šæœ¬å¤±è´¥:', error);
                    showManualInstructions(testWindow);
                }
            }, 2000);
        }

        function showManualInstructions(testWindow) {
            alert(`âš ï¸ è‡ªåŠ¨è¿è¡Œå¤±è´¥ï¼Œè¯·æ‰‹åŠ¨æ‰§è¡Œï¼š

1. åœ¨åº”ç”¨çª—å£ä¸­æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
2. åˆ‡æ¢åˆ° Console æ ‡ç­¾
3. ç²˜è´´å¹¶è¿è¡Œä»¥ä¸‹ä»£ç ï¼š

fetch('http://127.0.0.1:5173/auto-test.js')
  .then(r => r.text())
  .then(code => eval(code));

æˆ–è€…ç›´æ¥è®¿é—®ï¼š
http://127.0.0.1:5173/test-console.html`);
        }

        function openAppWithTest() {
            const appUrl = 'http://127.0.0.1:5173';
            const testWindow = window.open(appUrl, 'ChainlessChain');

            if (!testWindow) {
                alert('æµè§ˆå™¨é˜»æ­¢äº†å¼¹çª—ï¼è¯·å…è®¸å¼¹çª—æƒé™åé‡è¯•ã€‚');
                return;
            }

            // æ˜¾ç¤ºæ‰‹åŠ¨è¿è¡ŒæŒ‡ç¤º
            setTimeout(() => {
                alert(`åº”ç”¨å·²æ‰“å¼€ï¼

è¯·åœ¨åº”ç”¨ä¸­æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

1. æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
2. åˆ‡æ¢åˆ° Console æ ‡ç­¾
3. ç²˜è´´ä»¥ä¸‹ä»£ç å¹¶æŒ‰å›è½¦ï¼š

fetch('http://127.0.0.1:5173/auto-test.js').then(r=>r.text()).then(eval);

æµ‹è¯•å°†è‡ªåŠ¨å¼€å§‹è¿è¡Œã€‚`);
            }, 1000);
        }

        // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥åº”ç”¨æ˜¯å¦è¿è¡Œ
        window.addEventListener('load', () => {
            fetch('http://127.0.0.1:5173')
                .then(() => {
                    console.log('âœ“ ChainlessChain åº”ç”¨æ­£åœ¨è¿è¡Œ');
                })
                .catch(() => {
                    alert('âš ï¸ æ— æ³•è¿æ¥åˆ° ChainlessChain åº”ç”¨ï¼\n\nè¯·ç¡®ä¿åº”ç”¨æ­£åœ¨è¿è¡Œï¼š\nhttp://127.0.0.1:5173');
                });
        });
    </script>
</body>
</html>
