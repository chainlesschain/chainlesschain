# 项目详情页面功能检查计划

## 页面概述
ProjectDetailPage.vue 是ChainlessChain项目的核心页面，包含项目管理、文件编辑、AI助手对话等多个功能模块。

---

## 一、左侧项目侧边栏 (ProjectSidebar)

### 1.1 基础显示
- [ ] 侧边栏正常显示
- [ ] 标题"我的项目"正确显示
- [ ] 折叠/展开按钮功能正常

### 1.2 项目列表
- [ ] 项目列表加载正常
- [ ] 项目图标根据类型正确显示
- [ ] 项目名称显示完整
- [ ] 项目更新时间格式正确
- [ ] 当前激活项目高亮显示
- [ ] 点击项目可以切换

### 1.3 搜索功能
- [ ] 搜索框显示正常
- [ ] 输入关键词能过滤项目
- [ ] 清除按钮功能正常
- [ ] 搜索结果实时更新

### 1.4 项目操作菜单
- [ ] 点击更多按钮显示菜单
- [ ] "打开"功能正常
- [ ] "重命名"弹出对话框
- [ ] 重命名提交成功
- [ ] "删除"显示确认对话框
- [ ] 删除操作成功

### 1.5 新建项目
- [ ] "快速新建项目"按钮显示
- [ ] 点击快速新建按钮触发创建
- [ ] "AI模板新建"按钮显示
- [ ] 点击AI新建按钮触发AI创建流程

### 1.6 折叠状态
- [ ] 折叠状态下显示图标列表
- [ ] 悬停显示项目名称提示
- [ ] 折叠状态下可以切换项目

---

## 二、中间文件树面板 (File Explorer)

### 2.1 文件树显示
- [ ] 文件树正常加载
- [ ] 文件夹图标正确显示
- [ ] 文件图标根据类型显示
- [ ] 文件层级结构正确
- [ ] 展开/折叠文件夹功能正常

### 2.2 文件树切换模式
- [ ] 虚拟滚动/标准模式切换开关显示
- [ ] 切换到虚拟滚动模式正常
- [ ] 切换到标准模式正常
- [ ] 切换后文件树正常显示

### 2.3 文件选择
- [ ] 点击文件可以选中
- [ ] 当前选中文件高亮显示
- [ ] 选中文件后右侧编辑器加载内容
- [ ] 有未保存更改时弹出确认对话框

### 2.4 文件树刷新
- [ ] 刷新按钮显示
- [ ] 点击刷新加载最新文件列表
- [ ] 刷新时显示loading状态
- [ ] 刷新成功显示提示

### 2.5 Git状态显示
- [ ] 文件的Git状态标记显示（新增/修改/删除）
- [ ] Git状态图标正确
- [ ] Git状态颜色区分明确

### 2.6 文件拖拽
- [ ] 文件可以拖拽移动
- [ ] 拖拽到文件夹时目标高亮
- [ ] 拖拽完成后文件位置更新
- [ ] 拖拽失败显示错误提示

---

## 三、中间对话面板 (ChatPanel - AI助手)

### 3.1 对话显示
- [ ] 对话历史正常加载
- [ ] 用户消息显示正确
- [ ] AI回复消息显示正确
- [ ] 消息时间戳显示
- [ ] 消息头像显示

### 3.2 输入功能
- [ ] 输入框正常显示
- [ ] 可以输入文本
- [ ] 支持换行（Shift+Enter）
- [ ] 发送按钮正常
- [ ] Enter键发送消息

### 3.3 AI对话
- [ ] 发送消息后显示loading状态
- [ ] AI回复正常显示
- [ ] 支持Markdown格式渲染
- [ ] 代码块高亮显示
- [ ] 流式输出正常工作

### 3.4 文件操作对话
- [ ] 可以通过对话创建文件
- [ ] 可以通过对话修改文件
- [ ] 可以通过对话删除文件
- [ ] 文件操作后文件树自动刷新

### 3.5 AI创建项目模式
- [ ] AI创建模式正确启动
- [ ] 创建过程显示进度
- [ ] 创建完成后跳转到项目详情
- [ ] 创建失败显示错误信息

---

## 四、右侧编辑器面板

### 4.1 编辑器头部
- [ ] 文件名显示正确
- [ ] 视图模式切换按钮（自动/编辑/预览）显示
- [ ] 保存按钮状态正确（有修改时可用）
- [ ] 导出按钮显示
- [ ] 关闭按钮显示

### 4.2 Excel编辑器 (.xlsx, .xls, .csv)
- [ ] Excel文件正确加载
- [ ] 表格数据正确显示
- [ ] 可以编辑单元格
- [ ] 支持添加/删除行列
- [ ] 保存功能正常
- [ ] 自动保存功能正常

### 4.3 Word编辑器 (.docx, .doc)
- [ ] Word文件正确加载
- [ ] 富文本内容正确显示
- [ ] 支持文本格式化（粗体、斜体等）
- [ ] 支持插入图片
- [ ] 保存功能正常
- [ ] 自动保存功能正常

### 4.4 代码编辑器 (.js, .ts, .vue, .py等)
- [ ] 代码文件正确加载
- [ ] 语法高亮正常
- [ ] 代码自动完成功能
- [ ] 支持代码折叠
- [ ] 保存功能正常
- [ ] 自动保存功能正常

### 4.5 Markdown编辑器 (.md)
- [ ] Markdown文件正确加载
- [ ] 编辑/预览分屏显示
- [ ] Markdown语法正确渲染
- [ ] 支持表格、代码块
- [ ] 支持图片显示
- [ ] 保存功能正常

### 4.6 Web开发编辑器 (.html)
- [ ] HTML文件正确加载
- [ ] 支持HTML/CSS/JS联动编辑
- [ ] 实时预览功能
- [ ] 保存功能正常

### 4.7 PPT编辑器 (.pptx, .ppt)
- [ ] PPT文件正确加载
- [ ] 幻灯片列表显示
- [ ] 可以编辑幻灯片内容
- [ ] 支持添加/删除幻灯片
- [ ] 保存功能正常

### 4.8 文本编辑器 (.txt等)
- [ ] 文本文件正确加载
- [ ] 可以编辑文本
- [ ] 保存功能正常
- [ ] 自动保存功能正常

### 4.9 预览面板
- [ ] 图片文件正确预览
- [ ] PDF文件正确预览
- [ ] 视频文件正确播放
- [ ] 音频文件正确播放

### 4.10 编辑器通用功能
- [ ] 未保存更改标记显示
- [ ] 切换文件时未保存提醒
- [ ] 自动保存功能可配置
- [ ] 撤销/重做功能正常

---

## 五、顶部工具栏

### 5.1 面包屑导航
- [ ] 面包屑路径正确显示
- [ ] "我的项目"链接可点击
- [ ] 点击返回项目列表页面
- [ ] 项目名称显示正确
- [ ] 当前文件名显示（如有）

### 5.2 视图模式切换
- [ ] 视图模式按钮组显示
- [ ] "自动"模式按钮功能正常
- [ ] "编辑"模式按钮功能正常
- [ ] "预览"模式按钮功能正常
- [ ] 不可编辑文件禁用编辑按钮

### 5.3 文件导出
- [ ] 导出按钮显示
- [ ] 点击显示导出菜单
- [ ] 支持导出为PDF
- [ ] 支持导出为Word
- [ ] 支持导出为HTML
- [ ] 导出成功显示提示
- [ ] 导出失败显示错误

### 5.4 文件管理
- [ ] 文件管理按钮显示
- [ ] 点击打开文件管理Modal
- [ ] Modal显示文件列表
- [ ] 可以预览文件
- [ ] 可以下载文件
- [ ] 可以删除文件

### 5.5 分享功能
- [ ] 分享按钮显示
- [ ] 点击打开分享对话框
- [ ] 可以设置公开/私密
- [ ] 生成分享链接
- [ ] 复制分享链接功能
- [ ] 分享设置保存成功

### 5.6 编辑器面板切换
- [ ] "显示/隐藏编辑器"按钮显示
- [ ] 点击可以隐藏编辑器面板
- [ ] 点击可以显示编辑器面板
- [ ] 切换后布局正常

### 5.7 Git操作
- [ ] Git操作下拉菜单显示
- [ ] "查看状态"打开Git状态对话框
- [ ] Git状态信息正确显示
- [ ] "提交历史"打开历史对话框
- [ ] 提交历史正确显示
- [ ] "提交更改"打开提交对话框
- [ ] 输入提交信息后提交成功
- [ ] "推送到远程"功能正常
- [ ] "拉取最新"功能正常
- [ ] 未初始化Git时提示初始化

### 5.8 保存和关闭
- [ ] 保存按钮正常显示
- [ ] 无更改时保存按钮禁用
- [ ] 有更改时保存按钮可用
- [ ] 点击保存成功
- [ ] 保存时显示loading状态
- [ ] 关闭按钮正常
- [ ] 有未保存更改时弹出确认

---

## 六、对话框和Modal

### 6.1 Git状态对话框
- [ ] 对话框正常打开
- [ ] 显示已修改文件列表
- [ ] 显示已暂存文件列表
- [ ] 显示未跟踪文件列表
- [ ] 可以跳转到提交对话框

### 6.2 Git历史对话框
- [ ] 对话框正常打开
- [ ] 显示提交历史列表
- [ ] 提交信息格式正确
- [ ] 提交时间显示正确
- [ ] 可以查看提交详情

### 6.3 Git提交对话框
- [ ] 对话框正常打开
- [ ] 提交信息输入框显示
- [ ] 输入提交信息
- [ ] 提交按钮功能正常
- [ ] 提交成功显示提示
- [ ] 提交失败显示错误

### 6.4 文件管理Modal
- [ ] Modal正常打开
- [ ] 显示完整文件列表
- [ ] 文件信息显示完整
- [ ] 点击文件可以打开
- [ ] 预览功能正常
- [ ] 下载功能正常
- [ ] 删除功能正常
- [ ] 删除确认对话框显示

### 6.5 项目分享对话框
- [ ] 对话框正常打开
- [ ] 显示当前分享设置
- [ ] 可以切换公开/私密
- [ ] 生成分享链接
- [ ] 复制链接功能
- [ ] 设置保存成功

---

## 七、面板大小调整

### 7.1 文件树面板调整
- [ ] 文件树与对话面板之间显示调整手柄
- [ ] 可以拖拽调整文件树宽度
- [ ] 拖拽时有视觉反馈
- [ ] 达到最小宽度时不能继续缩小
- [ ] 达到最大宽度时不能继续扩大
- [ ] 调整后布局正常

### 7.2 编辑器面板调整
- [ ] 对话面板与编辑器之间显示调整手柄
- [ ] 可以拖拽调整编辑器宽度
- [ ] 拖拽时有视觉反馈
- [ ] 达到最小宽度时不能继续缩小
- [ ] 达到最大宽度时不能继续扩大
- [ ] 调整后布局正常

---

## 八、实时监听和自动刷新

### 8.1 文件系统监听
- [ ] 项目加载时启动文件监听
- [ ] 外部添加文件时自动检测
- [ ] 外部修改文件时自动检测
- [ ] 外部删除文件时自动检测
- [ ] 文件变化时文件树自动刷新

### 8.2 Git状态监听
- [ ] 定时刷新Git状态（10秒）
- [ ] Git状态变化时更新显示
- [ ] 页面卸载时停止监听

### 8.3 文件内容自动刷新
- [ ] 当前打开文件被外部修改时提示
- [ ] 可以选择重新加载文件
- [ ] 重新加载后内容更新

---

## 九、路由和状态管理

### 9.1 路由切换
- [ ] 从项目列表进入详情页正常
- [ ] 项目ID参数正确传递
- [ ] 切换项目时路由更新
- [ ] 返回项目列表路由正常

### 9.2 状态持久化
- [ ] 项目信息正确加载
- [ ] 文件列表正确加载
- [ ] 当前选中文件状态保持
- [ ] 刷新页面后状态恢复

### 9.3 错误处理
- [ ] 项目不存在时显示错误页面
- [ ] 文件加载失败显示错误提示
- [ ] 保存失败显示错误提示
- [ ] 网络错误友好提示

---

## 十、性能和优化

### 10.1 加载性能
- [ ] 页面初始加载速度正常
- [ ] 大文件列表加载不卡顿
- [ ] 虚拟滚动模式性能优化生效

### 10.2 内存管理
- [ ] 切换项目时清理旧数据
- [ ] 组件卸载时清理事件监听
- [ ] 定时器正确清理

---

## 测试执行计划

### 阶段1：基础功能测试
1. 启动应用，进入项目详情页
2. 测试左侧项目列表所有功能
3. 测试文件树基础功能
4. 测试顶部工具栏按钮

### 阶段2：编辑器功能测试
1. 测试各类型文件编辑器
2. 测试保存和自动保存
3. 测试视图模式切换
4. 测试预览功能

### 阶段3：AI和对话功能测试
1. 测试AI助手对话
2. 测试AI创建项目
3. 测试文件操作对话

### 阶段4：Git功能测试
1. 测试Git状态查看
2. 测试Git提交
3. 测试Git推送拉取
4. 测试Git历史记录

### 阶段5：集成和压力测试
1. 测试大文件加载
2. 测试大项目（文件数>1000）
3. 测试长时间运行稳定性
4. 测试并发操作

---

## 发现的问题记录

### 高优先级问题
- [ ]

### 中优先级问题
- [ ]

### 低优先级问题
- [ ]

### 改进建议
- [ ]

---

## 测试结论

- 测试开始时间：
- 测试完成时间：
- 测试通过率：
- 整体评估：
