# ChainlessChain 区块链功能用户指南

欢迎使用 ChainlessChain 的区块链功能！本指南将帮助您了解如何使用钱包管理、资产部署、跨链转移等功能。

---

## 📚 目录

1. [快速开始](#快速开始)
2. [钱包管理](#钱包管理)
3. [资产管理](#资产管理)
4. [跨链桥](#跨链桥)
5. [常见问题](#常见问题)

---

## 🚀 快速开始

### 第一次使用

1. **启动应用**
   ```bash
   cd desktop-app-vue
   npm run dev
   ```

2. **创建钱包**
   - 导航到"钱包管理"页面（`/wallet`）
   - 点击"创建钱包"按钮
   - 设置强密码（至少 8 位）
   - **重要**: 备份显示的 12 个助记词

3. **获取测试币**（测试网）
   - 复制您的钱包地址
   - 访问水龙头网站获取测试币：
     - Sepolia: https://sepoliafaucet.com/
     - Mumbai: https://faucet.polygon.technology/

4. **开始使用**
   - 部署您的第一个代币
   - 尝试跨链转移
   - 探索更多功能

---

## 💰 钱包管理

### 创建钱包

#### 方式 1: 创建新钱包

1. 打开"钱包管理"页面
2. 点击"创建钱包"
3. 输入密码（推荐使用强密码）
4. 选择网络（以太坊/Polygon）
5. 点击"创建"

**重要提示**:
- ✅ 备份助记词到安全的地方
- ✅ 不要与任何人分享助记词
- ✅ 密码用于加密本地存储的私钥

#### 方式 2: 导入现有钱包

**从助记词导入**:
1. 点击"导入钱包" → "助记词"
2. 输入 12 个助记词（用空格分隔）
3. 设置密码
4. 选择网络
5. 点击"导入"

**从私钥导入**:
1. 点击"导入钱包" → "私钥"
2. 输入 64 位十六进制私钥
3. 设置密码
4. 选择网络
5. 点击"导入"

#### 方式 3: 连接外部钱包

**连接 MetaMask**:
1. 确保已安装 MetaMask 浏览器扩展
2. 点击"连接 MetaMask"
3. 在弹出窗口中授权连接
4. 钱包地址将自动保存

**连接 WalletConnect**:
1. 点击"连接 WalletConnect"
2. 扫描二维码或输入配对码
3. 在移动钱包中确认连接

### 管理钱包

#### 查看余额

1. 在钱包列表中选择钱包
2. 右侧面板显示：
   - ETH/MATIC 余额
   - ERC-20 代币余额
   - 最近交易

#### 设置默认钱包

1. 在钱包列表中找到目标钱包
2. 点击"设为默认"
3. 默认钱包将在交易时自动选中

#### 导出钱包

**导出私钥**:
1. 选择钱包
2. 点击"导出私钥"
3. 输入密码
4. 私钥将显示（请妥善保管）

**导出助记词**:
1. 选择钱包
2. 点击"导出助记词"
3. 输入密码
4. 12 个助记词将显示

⚠️ **安全提示**: 导出的私钥和助记词请离线保存，不要截图或复制到云端。

#### 删除钱包

1. 选择钱包
2. 点击"删除钱包"
3. 确认操作
4. 输入密码验证

⚠️ **警告**: 删除前请确保已备份私钥或助记词，否则无法恢复！

### U-Key 硬件签名

如果您有 U-Key 设备：

1. 插入 U-Key 设备
2. 在签名时勾选"使用 U-Key"
3. 输入 U-Key PIN 码
4. 确认签名

**优势**:
- 🔐 私钥永不离开硬件
- 🛡️ 防止恶意软件窃取
- ✅ 企业级安全

---

## 🎨 资产管理

### 部署 ERC-20 代币

1. **导航到资产创建页面**
   - 打开"交易中心" → "创建资产"

2. **填写代币信息**
   ```
   资产类型: Token（代币）
   名称: My Token
   符号: MTK
   小数位数: 18（推荐）
   总供应量: 1000000
   ```

3. **配置区块链部署**
   - 勾选"部署到区块链"
   - 选择网络（Sepolia / Mumbai / Polygon）
   - 选择钱包
   - 输入钱包密码

4. **查看 Gas 估算**
   - 预估 Gas: ~800,000
   - 预估费用: ~0.024 ETH（Sepolia）

5. **点击"创建资产"**
   - 等待交易确认（约 15-30 秒）
   - 记录合约地址

**部署成功后**:
- 代币将出现在钱包余额中
- 可以进行转账和交易
- 合约地址可在区块浏览器查看

### 部署 NFT 合约

1. **填写 NFT 信息**
   ```
   资产类型: NFT
   名称: My NFT Collection
   符号: MNFT
   ```

2. **配置并部署**
   - 勾选"部署到区块链"
   - 选择网络和钱包
   - 预估 Gas: ~1,200,000

3. **铸造 NFT**
   ```javascript
   // 在部署后
   await window.electronAPI.blockchain.mintNFT({
     walletId: 'your-wallet-id',
     contractAddress: '0xYourNFTAddress',
     to: '0xRecipientAddress',
     metadataURI: 'ipfs://QmYourMetadata',
     chainId: 80001
   });
   ```

### 转账代币

1. **打开钱包管理页面**
2. **选择要转账的代币**
3. **点击"转账"**
4. **填写信息**:
   ```
   接收地址: 0x...
   数量: 100
   Gas 价格: 自动（或手动调整）
   ```
5. **确认并签名**
6. **等待交易确认**

### 查看交易历史

1. **钱包详情页面**
   - 显示最近 100 笔交易
   - 可按状态筛选：全部/成功/失败/待确认

2. **交易详情包括**:
   - 交易哈希（可复制）
   - 区块号
   - Gas 使用量
   - 时间戳
   - 链接到区块浏览器

---

## 🌉 跨链桥

### 什么是跨链桥？

跨链桥允许您在不同区块链网络之间转移资产。例如，将代币从以太坊转移到 Polygon。

**工作原理**（锁定-铸造模式）:
1. 在源链锁定资产
2. 等待交易确认
3. 在目标链铸造等量资产

### 发起跨链转移

1. **打开跨链桥页面**
   - 导航到"跨链桥"（`/bridge`）
   - 切换到"跨链转移"标签页

2. **选择资产**
   - 只显示已部署到链上的 Token 和 NFT
   - 选择要转移的资产

3. **配置转移参数**
   ```
   源链: Sepolia（以太坊测试网）
   目标链: Mumbai（Polygon 测试网）
   数量: 100
   接收地址: （可选，默认使用相同地址）
   ```

4. **选择钱包并授权**
   - 选择付款钱包
   - 输入钱包密码
   - 查看费用预估

5. **开始跨链转移**
   - 点击"开始跨链转移"
   - 进度对话框显示 4 个步骤：
     1. ✅ 锁定资产
     2. ⏳ 等待确认
     3. ✅ 铸造资产
     4. 🎉 完成

6. **查看结果**
   - 锁定交易哈希: `0xabc...`
   - 铸造交易哈希: `0xdef...`
   - 状态: 已完成

### 查看桥接历史

1. **切换到"转移历史"标签页**

2. **使用过滤器**:
   - 按状态过滤: 待处理/已锁定/已完成/失败
   - 按源链过滤
   - 按目标链过滤

3. **查看记录详情**:
   - 点击"详情"按钮
   - 显示完整信息：
     - 桥接路由（源链 → 目标链）
     - 资产和数量
     - 发送/接收地址
     - 两笔交易哈希
     - 时间戳
     - 错误信息（如果失败）

4. **操作**:
   - 📋 复制交易哈希
   - 🔗 在区块浏览器中查看
   - 🔄 刷新列表

### 桥接费用

| 路由 | 总 Gas 费用 | 预计时间 |
|-----|------------|---------|
| Sepolia → Mumbai | ~0.005 ETH | 2-5 分钟 |
| Mumbai → Sepolia | ~0.006 MATIC | 2-5 分钟 |
| Polygon → Ethereum | ~0.003 MATIC + 0.003 ETH | 5-10 分钟 |

**费用构成**:
- 源链 Gas（锁定交易）
- 目标链 Gas（铸造交易）
- 桥接服务费（当前为 0）

### 常见场景

#### 场景 1: 从以太坊转移到 Polygon（降低 Gas）

```
1. 在以太坊部署代币
2. 桥接到 Polygon
3. 在 Polygon 上进行高频交易（低 Gas）
4. 需要时桥回以太坊
```

**优势**: Polygon Gas 费用约为以太坊的 1/100

#### 场景 2: 多链流动性

```
1. 在多条链上保持资产流动性
2. 根据需要在链间转移
3. 每条链独立运作
```

#### 场景 3: 测试网到主网

```
1. 在 Sepolia 测试网测试
2. 确认无误后部署到以太坊主网
3. 桥接到 Polygon 主网扩展
```

---

## ❓ 常见问题

### 钱包相关

**Q: 忘记密码怎么办？**
A: 可以通过助记词恢复。导入助记词时设置新密码即可。

**Q: 助记词丢失怎么办？**
A: 如果丢失助记词且忘记密码，钱包将无法恢复。务必在创建时妥善备份。

**Q: 可以在多个设备使用同一钱包吗？**
A: 可以。在其他设备导入相同的助记词或私钥即可。

**Q: U-Key 支持哪些设备？**
A: 目前仅支持 Windows 平台。macOS 和 Linux 使用模拟模式。

### 交易相关

**Q: 交易一直显示"待确认"？**
A: 可能原因：
- Gas 价格过低 → 提高 Gas 价格重新发送
- 网络拥堵 → 耐心等待或取消交易
- 余额不足 → 确保有足够的 Gas 费用

**Q: 交易失败了还扣 Gas 吗？**
A: 是的。即使交易失败，已消耗的 Gas 也会被扣除。

**Q: 如何加速交易？**
A: 使用相同的 nonce 但更高的 Gas 价格重新发送交易。

**Q: 可以取消交易吗？**
A: 已提交的交易无法取消，但可以用更高 Gas 的空交易覆盖（相同 nonce）。

### 跨链桥相关

**Q: 跨链转移安全吗？**
A: 使用智能合约和中继者确保安全。测试网可放心使用，主网建议从小额开始。

**Q: 跨链需要多久？**
A: 通常 2-5 分钟，取决于网络拥堵情况。

**Q: 跨链失败了怎么办？**
A:
- 检查交易历史中的错误信息
- 确认源链交易是否成功
- 如果锁定成功但铸造失败，联系技术支持

**Q: 可以跨链转移哪些资产？**
A: 目前支持：
- ✅ ERC-20 代币
- ✅ ERC-721 NFT
- ❌ 原生币（ETH/MATIC）暂不支持

**Q: 最低/最高转移金额？**
A:
- 最低: 大于 0
- 最高: 受钱包余额限制
- 建议: 首次测试使用小额

### Gas 相关

**Q: 什么是 Gas？**
A: Gas 是在区块链上执行交易所需的计算费用，用 ETH 或 MATIC 支付。

**Q: 如何节省 Gas？**
A:
- 选择网络拥堵较少的时段
- 使用 Layer 2（如 Polygon）
- 批量操作而非多次单独操作
- 手动设置合理的 Gas 价格

**Q: Gas 估算不准确？**
A: Gas 估算是预测值，实际消耗可能略有差异（通常 ±10%）。

### 网络相关

**Q: 支持哪些网络？**
A:
- ✅ 以太坊主网 (Chain ID: 1)
- ✅ Sepolia 测试网 (Chain ID: 11155111)
- ✅ Polygon 主网 (Chain ID: 137)
- ✅ Mumbai 测试网 (Chain ID: 80001)
- ✅ Hardhat 本地网络 (Chain ID: 31337)

**Q: 如何切换网络？**
A: 在顶部工具栏选择网络下拉菜单，点击目标网络即可。

**Q: 在错误的网络上操作了怎么办？**
A: 切换到正确的网络重新操作。资产在各条链上是独立的。

### 安全相关

**Q: 如何保护钱包安全？**
A:
- ✅ 使用强密码
- ✅ 备份助记词到离线安全地方
- ✅ 不与任何人分享私钥/助记词
- ✅ 启用 U-Key（如果有硬件）
- ✅ 定期检查钱包活动

**Q: 发现可疑交易怎么办？**
A:
1. 立即转移资产到新钱包
2. 不再使用受损钱包
3. 检查电脑是否有恶意软件

**Q: 如何防止钓鱼攻击？**
A:
- 仔细检查网址和合约地址
- 不点击可疑链接
- 不扫描不明二维码
- 使用官方应用

---

## 🎯 最佳实践

### 新手建议

1. **先在测试网练习**
   - 使用 Sepolia 和 Mumbai 测试网
   - 熟悉所有功能
   - 测试币免费，可以放心尝试

2. **小额开始**
   - 主网操作从小额开始
   - 确认流程无误后再增加金额

3. **定期备份**
   - 每次创建新钱包都备份
   - 使用安全的离线存储方式

4. **学习基础知识**
   - 了解区块链原理
   - 理解 Gas 机制
   - 学习智能合约基础

### 高级用户建议

1. **Gas 优化**
   - 监控网络 Gas 价格
   - 选择合适时段操作
   - 使用 Layer 2 网络

2. **安全强化**
   - 使用硬件钱包
   - 启用多重签名
   - 定期安全审计

3. **跨链策略**
   - 规划资产分布
   - 优化跨链路径
   - 控制单次桥接金额

4. **批量操作**
   - 合并多个操作
   - 使用批量铸造
   - 减少交易次数

---

## 📞 获取帮助

### 文档资源

- **部署指南**: [BLOCKCHAIN_DEPLOYMENT_GUIDE.md](./BLOCKCHAIN_DEPLOYMENT_GUIDE.md)
- **系统设计**: [系统设计_个人移动AI管理系统.md](./系统设计_个人移动AI管理系统.md)
- **API 文档**: Coming soon

### 社区支持

- **GitHub Issues**: https://github.com/chainlesschain/chainlesschain/issues
- **Discord**: Coming soon
- **Telegram**: Coming soon

### 技术支持

- **邮箱**: support@chainlesschain.com
- **响应时间**: 1-2 个工作日

### 紧急情况

如果发现安全漏洞或紧急问题：
- **邮箱**: security@chainlesschain.com
- **说明**:  "URGENT" 开头

---

## 📖 延伸阅读

- [以太坊官方文档](https://ethereum.org/zh/developers/docs/)
- [Polygon 文档](https://docs.polygon.technology/)
- [OpenZeppelin 合约指南](https://docs.openzeppelin.com/contracts/)
- [Ethers.js 教程](https://docs.ethers.org/v6/)
- [MetaMask 使用指南](https://metamask.io/faqs/)

---

**祝您使用愉快！如有问题，随时联系我们的支持团队。** 🚀
